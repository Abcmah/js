"use strict";(self.webpackChunkmedic_hospital_management=self.webpackChunkmedic_hospital_management||[]).push([[48],{4457:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(9301),r=n(4155),s="/api/v1";const a={findAllMedia:function(t,e){return i.Z.get(r.env.VUE_APP_BACKEND_URL+"/media/"+t+"/"+e)},downloadMedia:function(t){return i.Z.get(r.env.VUE_APP_BACKEND_URL+"/media/"+t,{responseType:"blob"})},deleteMedia:function(t){return i.Z.delete(r.env.VUE_APP_BACKEND_URL+"/media/"+t)},findAllHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/invoices",t)},findHeaderById:function(t){return i.Z.get("/invoices/"+t)},createHeader:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("header",t,e)},findAllDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("detail",t)},findDetailById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("detail",t,e)},createDetail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("detail",t,e)},createAddress:function(t){return jsonApi.create("address",t)},updateAddress:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.update("address",t,e)},findAddressById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("address",t,e)},updateSettings:function(t){return jsonApi.update("setting",t)},findAllSettings:function(){return jsonApi.findAll("setting")},updateSetting:function(t){return jsonApi.update("setting",t)},findSettingById:function(t){return jsonApi.find("setting",t)},findAllVisitTypes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/visits",t)},updateOrganization:function(t){return i.Z.put("/organizations/"+t.id+"/",t)},updateInstitutionPhoto:function(t){return t.post(s+"/organization/update_logo")},findOrganization:function(){return i.Z.get("/organizations")},searchDepartments:function(t){return i.Z.get(s+"/departments?name="+t)},findAllDepartments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/departments",t)},findDepartmentById:function(t){return i.Z.get("/departments/"+t)},createDepartment:function(t){return i.Z.post("/departments",t)},updateDepartment:function(t){return i.Z.patch("/departments/".concat(t.id),t)},findIdentification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("identification",t,e||{})},createIdentification:function(t){return i.Z.post("/identifications",t)},updateIdentification:function(t){return i.Z.patch("/identifications/"+t.id,t)},deleteIdentification:function(t){return jsonApi.destroy("identification",t)},findWardById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.Z.get("/wards/"+t,e)},findAllWards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/wards",t)},createWard:function(t){return i.Z.post("/wards",t)},updateWard:function(t){return i.Z.patch("/wards/".concat(t.id),t)},deleteWard:function(t){return i.Z.delete(s+"/wards/"+t)},getBranches:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/branches",t)},findBranchById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("branch",t,e)},createBranch:function(t){return i.Z.post("/branches",t)},updateBranch:function(t){return i.Z.patch("/branches/".concat(t.id),t)},getWards:function(t){return i.Z.get(s+"/wards?branchId="+t)},getStores:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("store",t)},searchStore:function(t){return i.Z.get(s+"/stores?name="+t)},findAllItemTypes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/item_types",t)},createItemType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("items_type",t,e)},updateItemType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.update("items_type",t,e)},findAllItemsGroups:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/item_groups",t)},createItemGroup:function(t){return i.Z.post("/item_groups",t)},updateItemGroup:function(t){return i.Z.patch("/item_groups/"+t.id,t)},deleteItemGroup:function(t){return i.Z.delete("/item_groups/"+t)},findAllItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/datatable/products",t)},findItemById:function(t){return i.Z.get("/items/"+t)},findAllPricesList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/price_lists",t)},createPriceList:function(t){return i.Z.post("/prices_lists",t)},updatePriceList:function(t){return i.Z.patch("/prices_lists/"+t.id,t)},deletePriceList:function(t){return i.Z.delete("/prices_lists/"+t)},findAllItemsAssociation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("items_association",t)},deleteItemsAssociation:function(t){return jsonApi.destroy("items_association",t)},createItemsAssociation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("items_association",t,e)},findAllDailyCharges:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("daily_charge",t)},createDailyCharge:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("daily_charge",t,e)},updateDailyCharge:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.update("daily_charge",t,e)},deleteDailyCharge:function(t){return jsonApi.destroy("daily_charge",t)},searchUOM:function(t){return i.Z.get(s+"/unit_of_measure?filter=".concat(t))},createItem:function(t){return i.Z.post("/items",t)},updateItem:function(t){return i.Z.patch("/items/".concat(t.id),t)},deleteItem:function(t){return i.Z.delete(s+"/items/"+t)},findAllFormulations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/formulations",t)},createFormulation:function(t){return i.Z.post("/formulations",t)},updateFormulation:function(t){return i.Z.patch("/formulations/".concat(t.id),t)},createRoute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("route",t,e)},updateRoute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.update("route",t,e)},findAllRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("route",t)},createProductRoute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("items_route",t,e)},deleteProductRoute:function(t){return jsonApi.destroy("items_route",t)},findAllUOM:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/uoms",t)},createUOM:function(t){return i.Z.post("/unit_of_measurements",t)},updateUOM:function(t){return i.Z.patch("/unit_of_measurements/".concat(t.id),t)},findAllItemsAssignment:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("item_assignment",t)},createItemAssignment:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.create("item_assignment",t,e)},deleteItemAssignment:function(t){return jsonApi.destroy("item_assignment",t)},updateItemAssignment:function(t){return t.put(s+"/items/"+t.item_id+"/assignments/"+t.id)},createItemAssociation:function(t){return t.post(s+"/items/"+t.item_id+"/associations")},deleteItemAssociation:function(t,e){return i.Z.delete(s+"/items/"+t+"/associations/"+e)},updateItemAssociation:function(t){return t.put(s+"/items/"+t.item_id+"/associations/"+t.id)},deleteFormulation:function(t){return i.Z.delete(s+"/formulations/"+t.id)},getUOM:function(){return i.Z.get(s+"/unit_of_measure")},deleteUOM:function(t){return i.Z.delete(s+"/unit_of_measure/"+t.id)},createReligion:function(t){return jsonApi.create("religion",{name:t.name})},updateReligion:function(t){return jsonApi.update("religion",{id:t.id,name:t.name})},deleteReligion:function(t){return jsonApi.destroy("religion",t)},findAllReligion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("religion",t)},findStoreById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("store",t,e)},findAllStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/stores",t)},createStore:function(t){return i.Z.post("/stores",t)},updateStore:function(t){return i.Z.patch("/stores/".concat(t.id),t)},findAllPrefixes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("prefix",t)},findPrefixById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("prefix",t,e)},createPrefix:function(t){return jsonApi.create("prefix",t,t)},updatePrefix:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.update("prefix",t,e)},getWArdBeds:function(t){return i.Z.get(s+"/beds?ward_id="+t)},findAllBeds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("bed",t)},createBed:function(t){return i.Z.post("/beds",t)},updateBed:function(t){return i.Z.patch("/beds/".concat(t.id),t)},findBedById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jsonApi.find("bed",t,e)},deleteBed:function(t){return i.Z.delete(s+"/beds/"+t)},searchCountries:function(t){return i.Z.get(s+"/countries?name=".concat(t))},findAllCountries:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("country",t)},findAllCurrencies:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("currency",t)},getRelationships:function(){return i.Z.get(s+"/relationships")},findAllIdentifications:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/identifications",t)},findAllGender:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/genders",t)},findAllProductType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/item_types",t)},createProductType:function(t){return t.post(s+"/item-types")},updateProductType:function(t){return t.put(s+"/item-types/"+t.id)},deleteProductType:function(t){return i.Z.delete(s+"/item-types/"+t)},createProductGroup:function(t){return t.post(s+"/item-groups")},updateProductGroup:function(t){return t.put(s+"/item-groups/"+t.id)},deleteProductGroup:function(t){return i.Z.delete(s+"/item-groups/"+t)},findAllReligions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/religions",t)},findReligionById:function(t){return i.Z.get("/religions/"+t)},findAllBloodGroups:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("bloodGroup",t)},findAllMaritalStatuses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.get("/marital_statuses",t)},findAllRelationships:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jsonApi.findAll("relationship",t)}}},8048:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var i=n(1902);n(4457);const r={props:{visit:{type:Object,required:!0},invoice:{type:Object,required:!0},items:{type:Array,default:function(){return[]}},stores:{type:Array,default:function(){return[]}}},data:function(){return{prescriptions:[],fields:[{name:"prescribed_at",title:"Date",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR,width:"10%"},{name:"item.name",title:"Drug",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"30%"},{name:"dosage",title:"Dosage",titleClass:"ps-3",dataClass:"ps-3",width:"10%"},{name:"frequency",title:"Frequency",titleClass:"ps-3",dataClass:"ps-3",width:"15%",callback:function(t){return t+" times"}},{name:"duration",title:"Duration",titleClass:"ps-3",dataClass:"ps-3",width:"15%",callback:function(t){return t+" day(s)"}},{name:"user.name",title:"Written By",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"10%"},{name:"__slot:actions",dataClass:"text-center",width:"10%"}],moreParams:{filter:{patient_id:this.visit.patient_id},include:"items,users",sort:"-created_at"},prescription:{},form:new window.Form({id:null,patient_visit_id:this.visit.id,item_id:"",intake_id:"",comments:"",dosage:"",frequency:1,duration:1,quantity:0,unit_price:0}),viewForm:!1,intakes:[],availableStock:0,priceRecord:0}},computed:{prescriptionsTotal:function(){if(!this.prescriptions.length)return 0;var t=this;return this.prescriptions.reduce((function(e,n){var i=Number(0);return 0===t.invoice.cash_credit&&(i=n.item.cash_price?.01*n.item.cash_price.charge_value:0),1===t.invoice.cash_credit&&(i=n.item.scheme_price?.01*n.item.scheme_price.charge_value:0),Number.parseFloat(i)+e}),0)}},watch:{"moreParams.filter.patient_visit_id":function(t){t&&this.vuetable.refresh()},"form.item_id":function(t){if(t){var e=this.stores.find((function(t){return"Pharmacy"===t.name}));e&&this.findAvailableStock(e.id)}}},created:function(){this.findPrescriptions()},methods:{findPrescriptions:function(){var t=this;this.$httpClient.get("/prescriptions",{params:{filter:{patient_id:this.visit.patient_id}}}).then((function(e){var n=e.data;t.prescriptions=n.data})).catch()},showPrescriptionDetail:function(t){this.prescription=t,this.$bvModal.show("prescription-detail-modal")},createPrescription:function(){var t=this;this.form.post("/prescriptions").then((function(){t.form.reset(),t.findPrescriptions(),t.$toast.success("Prescription has been saved")})).catch((function(t){}))},updatePrescription:function(){var t=this;this.form.patch("/prescriptions/"+this.form.id).then((function(){t.findPrescriptions(),t.$bvModal.hide("prescription-update-modal"),t.$toast.success("Prescription updated")})).catch()},deletePrescription:function(t){var e=this;this.$toast.question("Are you sure","Delete Prescription").then((function(){i.Z.deletePrescription(t.id).then((function(){e.vuetable.reload(),e.$toast.info("Prescription deleted")})).catch((function(){e.$toast.error("Something went wrong! Prescription not deleted")}))}))},findIntakes:function(){var t=this;i.Z.findAllPrescriptionIntake().then((function(e){var n=e.data;t.intakes=n})).catch()},findAvailableStock:function(t){var e=this;this.availableStock=0,this.$httpClient.get("/available_stock/"+this.form.item_id+"/"+t).then((function(t){var n=t.data;e.availableStock=n})).catch((function(t){console.log(t)}))}}};const s=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("h2",{staticClass:"page-title"},[t._v("\n        Prescriptions\n      ")]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal:prescription-modal",arg:"prescription-modal"}],staticClass:"btn btn-outline-primary",attrs:{disabled:t.visit.posted_at}},[t._v("\n          Prescribe\n        ")])])]),t._v(" "),e("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),e("tbody",[t._l(t.prescriptions,(function(n){return e("tr",[e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("date_DATE_MONTH_YEAR")(n.prescribed_at))+"\n          ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(n.item.name)+"\n          ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(n.dosage)+"\n          ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(n.frequency)+"\n          ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(n.duration)+"\n          ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(n.user.name)+"\n          ")]),t._v(" "),0===t.invoice.cash_credit?e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("toMoneyFormat")(n.item.cash_price?.01*n.item.cash_price.charge_value:0))+"\n          ")]):t._e(),t._v(" "),1===t.invoice.cash_credit?e("td",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("toMoneyFormat")(n.item.scheme_price?.01*n.item.scheme_price.charge_value:0))+"\n          ")]):t._e(),t._v(" "),e("td",[e("button",{staticClass:"btn btn-white py-1",on:{click:function(e){return t.deletePrescription(t.prescription)}}},[e("i",{staticClass:"uil uil-trash-alt text-danger me-1"})])])])})),t._v(" "),e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td",{staticClass:"ps-2"},[t._v("\n            "+t._s(t._f("toMoneyFormat")(t.prescriptionsTotal))+"\n          ")])])],2)])]),t._v(" "),e("b-modal",{attrs:{id:"prescription-modal",title:"Prescription Form","title-class":"font-18","no-close-on-backdrop":"","hide-header-close":"","modal-class":"modal-blur","content-class":"bg-white rounded-3",size:"lg","footer-class":"d-flex justify-content-between bg-muted-lt border-top"},scopedSlots:t._u([{key:"modal-footer",fn:function(n){var i=n.cancel;return[e("button",{staticClass:"btn btn-light me-2",attrs:{disabled:t.form.processing},on:{click:i}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing},on:{click:t.createPrescription}},[t._v("\n        Prescribe\n      ")])]}}])},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Medication\n        "),t.form.item_id?e("small",{staticClass:"form-label-description text-indigo"},[t._v("Available stock:\n          "+t._s(t.availableStock)+" units ")]):t._e()]),t._v(" "),e("v-select",{attrs:{options:t.items,label:"name",reduce:function(t){return t.id},clearable:!1,name:"item_id"},scopedSlots:t._u([{key:"selected-option",fn:function(n){return[e("div",[e("div",{staticClass:"font-weight-medium"},[t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),0===t.invoice.cash_credit?e("div",{staticClass:"text-primary small"},[t._v("\n              KES "+t._s(t._f("toMoneyFormat")(n.cash_price?.01*n.cash_price.charge_value:0))+"\n            ")]):e("div",{staticClass:"text-primary small"},[t._v("\n              KES "+t._s(t._f("toMoneyFormat")(n.scheme_price?.01*n.scheme_price.charge_value:0))+"\n            ")])])]}}]),model:{value:t.form.item_id,callback:function(e){t.$set(t.form,"item_id",e)},expression:"form.item_id"}}),t._v(" "),t.form.hasError("item_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("item_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Dosage")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dosage,expression:"form.dosage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"20mg"},domProps:{value:t.form.dosage},on:{input:function(e){e.target.composing||t.$set(t.form,"dosage",e.target.value)}}}),t._v(" "),t.form.hasError("dosage")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("dosage"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Frequency")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.frequency,expression:"form.frequency"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.frequency},on:{input:function(e){e.target.composing||t.$set(t.form,"frequency",e.target.value)}}}),t._v(" "),t.form.hasError("frequency")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("frequency"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Duration "),e("small",{staticClass:"text-indigo"},[t._v("(days)")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.duration,expression:"form.duration"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.form.duration},on:{input:function(e){e.target.composing||t.$set(t.form,"duration",e.target.value)}}}),t._v(" "),t.form.hasError("duration")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("duration"))}}):t._e()])])])]),t._v(" "),e("b-modal",{attrs:{id:"prescription-update-modal",title:"Prescription Form","title-class":"font-18","no-close-on-backdrop":"",scrollable:"","footer-bg-variant":"light","hide-header-close":"",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(n){var i=n.cancel;return[e("div",{staticClass:"d-flex justify-content-between align-items-center bg-light-alpha"},[e("button",{staticClass:"btn btn-light mr-2",attrs:{disabled:t.form.processing},on:{click:i}},[t._v("\n          Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-success",attrs:{form:"prescriptionUpdateForm",type:"submit",disabled:t.form.processing}},[t._v("\n          "+t._s(t.form.processing?"Processing...":"Update")+"\n        ")])])]}}])},[e("form",{attrs:{id:"prescriptionUpdateForm"},on:{submit:function(e){return e.preventDefault(),t.updatePrescription.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"provisional_diagnosis"}},[t._v("Medicine")]),t._v(" "),e("v-select",{attrs:{options:t.items,label:"name",reduce:function(t){return t.id},clearable:!1,name:"item_id"},model:{value:t.form.item_id,callback:function(e){t.$set(t.form,"item_id",e)},expression:"form.item_id"}}),t._v(" "),t.form.errors.has("item_id")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("item_id"))}}):t._e(),t._v(" "),t.form.item_id?e("span",{staticClass:"small text-purple"},[t._v("Available stock: "+t._s(t.availableStock))]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("div",{},[e("label",{class:{"border-danger":t.form.errors.has("dosage")},attrs:{for:"dosage"}},[t._v("Dosage\n              ")])]),t._v(" "),e("b-form-input",{attrs:{id:"dosage",type:"number",min:"1"},model:{value:t.form.dosage,callback:function(e){t.$set(t.form,"dosage",e)},expression:"form.dosage"}}),t._v(" "),t.form.errors.has("dosage")?e("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.form.errors.first("dosage"))+"\n            ")]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("label",{class:{"border-danger":t.form.errors.has("frequency")},attrs:{for:"dosage"}},[t._v("Frequency\n                "),e("i",{staticClass:"uil uil-question-circle text-muted small",attrs:{id:"frequency_helpTex"}})]),t._v(" "),e("b-tooltip",{attrs:{target:"frequency_helpTex",variant:"secondary"}},[t._v("\n                How frequent should the drug be taken?\n              ")]),t._v(" "),e("small",{staticClass:"text-muted"},[t._v("\n                "+t._s(t.form.frequency)+" times")])],1),t._v(" "),e("b-form-input",{attrs:{id:"dosage",type:"number",min:"1",max:"20"},model:{value:t.form.frequency,callback:function(e){t.$set(t.form,"frequency",e)},expression:"form.frequency"}}),t._v(" "),t.form.errors.has("frequency")?e("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.form.errors.first("frequency"))+"\n            ")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("label",{class:{"border-danger":t.form.errors.has("duration")},attrs:{for:"duration"}},[t._v("\n                Duration\n                "),e("i",{staticClass:"uil uil-question-circle text-muted small",attrs:{id:"duration_helpTex"}})]),t._v(" "),e("b-tooltip",{attrs:{target:"duration_helpTex",variant:"secondary"}},[t._v("\n                How long (in days) should the medicine be taken?\n              ")]),t._v(" "),e("small",{staticClass:"text-muted"},[t._v("\n                "+t._s(t.form.duration)+" day(s)")])],1),t._v(" "),e("b-form-input",{attrs:{id:"dosage",type:"number",min:"1",max:"20"},model:{value:t.form.duration,callback:function(e){t.$set(t.form,"duration",e)},expression:"form.duration"}}),t._v(" "),t.form.errors.has("duration")?e("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.form.errors.first("duration"))+"\n            ")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{class:{"border-danger":t.form.errors.has("intake_id")},attrs:{for:"intake_id"}},[t._v("\n              Intake\n              "),e("i",{staticClass:"uil uil-question-circle text-muted small",attrs:{id:"intake_id_helpTex"}}),t._v(" "),e("b-tooltip",{attrs:{target:"intake_id_helpTex",variant:"secondary"}},[t._v("\n                On what condition should the prescription be taken?\n              ")])],1),t._v(" "),e("v-select",{attrs:{id:"intake_id",options:t.intakes,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.intake_id,callback:function(e){t.$set(t.form,"intake_id",e)},expression:"form.intake_id"}}),t._v(" "),t.form.errors.has("intake_id")?e("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.form.errors.first("intake_id"))+"\n            ")]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comments"}},[t._v("Remarks")]),t._v(" "),e("b-form-textarea",{staticClass:"shadow-sm",attrs:{id:"comments"},model:{value:t.form.comments,callback:function(e){t.$set(t.form,"comments",e)},expression:"form.comments"}}),t._v(" "),t.form.errors.has("comments")?e("span",{staticClass:"text-danger"},[t._v("\n          "+t._s(t.form.errors.first("comments"))+"\n        ")]):t._e()],1)])])],1)}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"ps-2"},[t._v("\n            Date\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Drug\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Dosage\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Frequency\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Duration (days)\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Written By\n          ")]),t._v(" "),e("th",{staticClass:"ps-2"},[t._v("\n            Price\n          ")])])])}],!1,null,null,null).exports}}]);