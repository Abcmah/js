/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkhr_management=self.webpackChunkhr_management||[]).push([[773],{8275:(t,e,a)=>{"use strict";var s=a(538),r=(a(9195),a(681),a(9301));function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}const n={props:{fields:{type:Array,required:!0},loadOnStart:{type:Boolean,default:!0},apiUrl:{type:String,default:""},devourModel:{type:String,default:""},httpMethod:{type:String,default:"get",validator:function(t){return["get","post"].indexOf(t)>-1}},reactiveApiUrl:{type:Boolean,default:!0},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},dataTotal:{type:Number,default:0},dataManager:{type:Function,default:null},dataPath:{type:String,default:"data"},paginationPath:{type:[String],default:"links.pagination"},queryParams:{type:[Object,Function],default:function(){return{sort:"sort",page:"page[number]",perPage:"page[size]"}}},appendParams:{type:Object,default:function(){return{}}},httpOptions:{type:Object,default:function(){return{}}},httpFetch:{type:Function,default:null},perPage:{type:Number,default:10},initialPage:{type:Number,default:1},sortOrder:{type:Array,default:function(){return[]}},multiSort:{type:Boolean,default:function(){return!1}},tableHeight:{type:String,default:null},multiSortKey:{type:String,default:"alt"},rowClassCallback:{type:[String,Function],default:""},rowClass:{type:[String,Function],default:""},detailRowComponent:{type:[String,Object],default:""},detailRowClass:{type:[String],default:"vuetable-detail-row bg-muted"},detailRowTransition:{type:String,default:""},trackBy:{type:String,default:"id"},css:{type:Object,default:function(){return{tableClass:"ui blue selectable celled stackable attached table",loadingClass:"loading",ascendingIcon:"blue chevron up icon",descendingIcon:"blue chevron down icon",ascendingClass:"sorted-asc",descendingClass:"sorted-desc",sortableIcon:"",detailRowClass:this.detailRowClass,handleIcon:"grey sidebar icon",tableBodyClass:"vuetable-semantic-no-top vuetable-fixed-layout",tableHeaderClass:"vuetable-fixed-layout thead-dark"}}},minRows:{type:Number,default:0},silent:{type:Boolean,default:!1},noDataTemplate:{type:String,default:function(){return"No Data Available"}},showSortIcons:{type:Boolean,default:!0}},data:function(){return{eventPrefix:"vuetable:",tableFields:[],tableData:null,tablePagination:null,currentPage:this.initialPage,selectedTo:[],visibleDetailRows:[],lastScrollPosition:0,scrollBarWidth:"17px",scrollVisible:!1}},computed:{useDetailRow:function(){return this.tableData&&this.tableData[0]&&""!==this.detailRowComponent&&void 0===this.tableData[0][this.trackBy]?(this.warn("You need to define unique row identifier in order for detail-row feature to work. Use `track-by` prop to define one!"),!1):""!==this.detailRowComponent},countVisibleFields:function(){return this.tableFields.filter((function(t){return t.visible})).length},countTableData:function(){return null===this.tableData?0:this.tableData.length},displayEmptyDataRow:function(){return 0===this.countTableData&&this.noDataTemplate.length>0},lessThanMinRows:function(){return null===this.tableData||0===this.tableData.length||this.tableData.length<this.minRows},blankRows:function(){return null===this.tableData||0===this.tableData.length?this.minRows:this.tableData.length>=this.minRows?0:this.minRows-this.tableData.length},isApiMode:function(){return this.apiMode},isDataMode:function(){return!this.apiMode},isFixedHeader:function(){return null!=this.tableHeight},isRowsSelected:function(){return this.selectedTo.length>0}},watch:{multiSort:function(t,e){!1===t&&this.sortOrder.length>1&&(this.sortOrder.splice(1),this.loadData())},apiUrl:function(t,e){this.reactiveApiUrl&&t!==e&&this.refresh()},data:function(t,e){this.setData(t)},tableHeight:function(t,e){this.fixHeader()}},mounted:function(){if(this.normalizeFields(),this.normalizeSortOrder(),this.isFixedHeader&&(this.scrollBarWidth=this.getScrollBarWidth()+"px"),this.$nextTick((function(){this.fireEvent("initialized",this.tableFields)})),this.loadOnStart&&this.loadData(),this.isFixedHeader){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&t.addEventListener("scroll",this.handleScroll)}},destroyed:function(){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&t.removeEventListener("scroll",this.handleScroll)},methods:{getScrollBarWidth:function(){var t=document.createElement("div"),e=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",e.style.width="100%",t.appendChild(e),document.body.appendChild(t);var a=t.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;return document.body.removeChild(t),a-s},handleScroll:function(t){var e=t.currentTarget.scrollLeft;if(e!=this.lastScrollPosition){var a=this.$el.getElementsByClassName("vuetable-head-wrapper")[0];null!=a&&(a.scrollLeft=e),this.lastScrollPosition=e}},normalizeFields:function(){if(void 0!==this.fields){this.tableFields=[];var t,e=this;this.fields.forEach((function(a,s){t="string"==typeof a?{name:a,title:e.setTitle(a),titleClass:"",dataClass:"",callback:null,visible:!0}:{name:a.name,width:a.width,title:void 0===a.title?e.setTitle(a.name):a.title,sortField:a.sortField,titleClass:void 0===a.titleClass?"":a.titleClass,dataClass:void 0===a.dataClass?"":a.dataClass,callback:void 0===a.callback?"":a.callback,visible:void 0===a.visible||a.visible},e.tableFields.push(t)}))}else this.warn('You need to provide "fields" prop.')},setData:function(t){if(null!=t){if(this.fireEvent("loading"),Array.isArray(t))return this.tableData=t,void this.fireEvent("loaded");this.tableData=this.getObjectValue(t,this.dataPath,null),this.tablePagination=this.getObjectValue(t,this.paginationPath,null),this.$nextTick((function(){this.fixHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")}))}},setTitle:function(t){return this.isSpecialField(t)?"":this.titleCase(t)},getTitle:function(t){return"function"==typeof t.title?t.title():void 0===t.title?t.name.replace("."," "):t.title},renderTitle:function(t){var e=this.getTitle(t);if(e.length>0&&this.isInCurrentSortGroup(t)||this.hasSortableIcon(t)){var a="opacity:".concat(this.sortIconOpacity(t),";position:relative;float:right");return e+" "+(this.showSortIcons?this.renderIconTag(["sort-icon",this.sortIcon(t)],'style="'.concat(a,'"')):"")}return e},renderSequence:function(t){return this.tablePagination?this.tablePagination.from+t:t},renderNormalField:function(t,e){return this.hasCallback(t)?this.callCallback(t,e):this.getObjectValue(e,t.name,"")},isSpecialField:function(t){return"__"===t.slice(0,2)},titleCase:function(t){return t.replace(/\w+/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},camelCase:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",a=this;return t.split(e).map((function(t){return a.titleCase(t)})).join("")},notIn:function(t,e){return-1===e.indexOf(t)},loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loadSuccess,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.loadFailed;if(!this.isDataMode)return this.fireEvent("loading"),this.httpOptions.params=this.getAppendParams(this.getAllQueryParams()),this.fetch(this.apiUrl,this.httpOptions).then(t,e).catch((function(){return e()}));this.callDataManager()},fetch:function(t,e){return(0,r.Z)(t,e)},loadSuccess:function(t){this.fireEvent("load-success",t);var e=this.transform(t.data);this.tableData=this.getObjectValue(e,this.dataPath,null),this.tablePagination=this.getObjectValue(e,this.paginationPath,null),null===this.tablePagination&&this.warn('vuetable: pagination-path "'+this.paginationPath+'" not found. It looks like the data returned from the sever does not have pagination information or you may have set it incorrectly.\nYou can explicitly suppress this warning by setting pagination-path="".'),this.$nextTick((function(){this.fixHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")}))},fixHeader:function(){if(this.isFixedHeader){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&(t.scrollHeight>t.clientHeight?this.scrollVisible=!0:this.scrollVisible=!1)}},loadFailed:function(t){console.error("load-error",t),this.fireEvent("load-error",t),this.fireEvent("loaded")},transform:function(t){var e="transform";return this.parentFunctionExists(e)?this.$parent[e].call(this.$parent,t):t},parentFunctionExists:function(t){return""!==t&&"function"==typeof this.$parent[t]},callParentFunction:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.parentFunctionExists(t)?this.$parent[t].call(this.$parent,e):a},fireEvent:function(t,e){this.$emit(this.eventPrefix+t,e)},warn:function(t){this.silent||console.warn(t)},getAllQueryParams:function(){var t={};return"function"==typeof this.queryParams?"object"!==o(t=this.queryParams(this.sortOrder,this.currentPage,this.perPage))?{}:t:(t[this.queryParams.sort]=this.getSortParam(),t[this.queryParams.page]=this.currentPage,t[this.queryParams.perPage]=this.perPage,t)},getSortParam:function(){return this.sortOrder&&""!=this.sortOrder.field?"function"==typeof this.$parent.getSortParam?this.$parent.getSortParam.call(this.$parent,this.sortOrder):this.getDefaultSortParam():""},getDefaultSortParam:function(){for(var t="",e=0;e<this.sortOrder.length;e++){t+=(void 0===this.sortOrder[e].sortField?this.sortOrder[e].field:this.sortOrder[e].sortField)+"|"+this.sortOrder[e].direction+(e+1<this.sortOrder.length?",":"")}return t},getAppendParams:function(t){for(var e in this.appendParams)t[e]=this.appendParams[e];return t},extractName:function(t){return t.split(":")[0].trim()},extractArgs:function(t){return t.split(":")[1]},isSortable:function(t){return!(void 0===t.sortField)},isInCurrentSortGroup:function(t){return!1!==this.currentSortOrderPosition(t)},hasSortableIcon:function(t){return this.isSortable(t)&&""!=this.css.sortableIcon},currentSortOrderPosition:function(t){if(!this.isSortable(t))return!1;for(var e=0;e<this.sortOrder.length;e++)if(this.fieldIsInSortOrderPosition(t,e))return e;return!1},fieldIsInSortOrderPosition:function(t,e){return this.sortOrder[e].field===t.name&&this.sortOrder[e].sortField===t.sortField},orderBy:function(t,e){if(this.isSortable(t)){var a=this.multiSortKey.toLowerCase()+"Key";this.multiSort&&e[a]?this.multiColumnSort(t):this.singleColumnSort(t),this.currentPage=1,(this.apiMode||this.dataManager)&&this.loadData()}},multiColumnSort:function(t){var e=this.currentSortOrderPosition(t);!1===e?this.sortOrder.push({field:t.name,sortField:t.sortField,direction:"asc"}):"asc"===this.sortOrder[e].direction?this.sortOrder[e].direction="desc":this.sortOrder.splice(e,1)},singleColumnSort:function(t){0===this.sortOrder.length&&this.clearSortOrder(),this.sortOrder.splice(1),this.fieldIsInSortOrderPosition(t,0)?this.sortOrder[0].direction="asc"===this.sortOrder[0].direction?"desc":"asc":this.sortOrder[0].direction="asc",this.sortOrder[0].field=t.name,this.sortOrder[0].sortField=t.sortField},clearSortOrder:function(){this.sortOrder.push({field:"",sortField:"",direction:"asc"})},sortClass:function(t){var e="",a=this.currentSortOrderPosition(t);return!1!==a&&(e="asc"==this.sortOrder[a].direction?this.css.ascendingClass:this.css.descendingClass),e},sortIcon:function(t){var e=this.css.sortableIcon,a=this.currentSortOrderPosition(t);return!1!==a&&(e="asc"==this.sortOrder[a].direction?this.css.ascendingIcon:this.css.descendingIcon),e},sortIconOpacity:function(t){var e=.3,a=this.sortOrder.length;return 1-a*e<.3&&(e=.7/(a-1)),1-this.currentSortOrderPosition(t)*e},hasCallback:function(t){return!!t.callback},callCallback:function(t,e){if(this.hasCallback(t)){if("function"==typeof t.callback)return t.callback(this.getObjectValue(e,t.name));var a=t.callback.split("|"),s=a.shift();if("function"==typeof this.$parent[s]){var r=this.getObjectValue(e,t.name);return a.length>0?this.$parent[s].apply(this.$parent,[r].concat(a)):this.$parent[s].call(this.$parent,r)}return null}},getObjectValue:function(t,e,a){a=void 0===a?null:a;var s=t;""!=e.trim()&&e.split(".").forEach((function(t){s=null!==s&&void 0!==s[t]&&null!==s[t]?s[t]:a}));return s},toggleCheckbox:function(t,e,a){var s=a.target.checked,r=this.trackBy;if(void 0!==t[r]){var o=t[r];s?this.selectId(o):this.unselectId(o),this.$emit("vuetable:checkbox-toggled",s,t)}else this.warn('__checkbox field: The "'+this.trackBy+'" field does not exist! Make sure the field you specify in "track-by" prop does exist.')},selectId:function(t){this.isSelectedRow(t)||this.selectedTo.push(t)},unselectId:function(t){this.selectedTo=this.selectedTo.filter((function(e){return e!==t}))},isSelectedRow:function(t){return this.selectedTo.indexOf(t)>=0},rowSelected:function(t,e){var a=t[this.trackBy];return this.isSelectedRow(a)},isTableRowsSelected:function(){return this.selectedTo.length>0},checkCheckboxesState:function(t){if(this.tableData){var e=this,a=this.trackBy,s="th.vuetable-th-checkbox-"+a+" input[type=checkbox]",r=document.querySelectorAll(s);void 0===r.forEach&&(r.forEach=function(t){[].forEach.call(r,t)});var o=this.tableData.filter((function(t){return e.selectedTo.indexOf(t[a])>=0}));return o.length<=0?(r.forEach((function(t){t.indeterminate=!1})),!1):o.length<this.perPage?(r.forEach((function(t){t.indeterminate=!0})),!0):(r.forEach((function(t){t.indeterminate=!1})),!0)}},toggleAllCheckboxes:function(t,e){var a=this,s=e.target.checked,r=this.trackBy;s?this.tableData.forEach((function(t){a.selectId(t[r])})):this.tableData.forEach((function(t){a.unselectId(t[r])})),this.$emit("vuetable:checkbox-toggled-all",s)},gotoPreviousPage:function(){this.currentPage>1&&(this.currentPage--,this.loadData())},gotoNextPage:function(){this.currentPage<this.tablePagination.last_page&&(this.currentPage++,this.loadData())},gotoPage:function(t){t!=this.currentPage&&t>0&&t<=this.tablePagination.last_page&&(this.currentPage=t,this.loadData())},isVisibleDetailRow:function(t){return this.visibleDetailRows.indexOf(t)>=0},showDetailRow:function(t){this.isVisibleDetailRow(t)||this.visibleDetailRows.push(t)},hideDetailRow:function(t){this.isVisibleDetailRow(t)&&this.visibleDetailRows.splice(this.visibleDetailRows.indexOf(t),1)},toggleDetailRow:function(t){this.isVisibleDetailRow(t)?this.hideDetailRow(t):this.showDetailRow(t)},showField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!0)},hideField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!1)},toggleField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!this.tableFields[t].visible)},renderIconTag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return void 0===this.css.renderIcon?'<i class="'.concat(t.join(" "),'" ').concat(e,"></i>"):this.css.renderIcon(t,e)},makePagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{total:t=null===t?this.dataTotal:t,"page[size]":e=null===e?this.perPage:e,current_page:a=null===a?this.currentPage:a,last_page:Math.ceil(t/e)||0,next_page_url:"",prev_page_url:"",from:(a-1)*e+1,to:Math.min(a*e,t)}},normalizeSortOrder:function(){this.sortOrder.forEach((function(t){t.sortField=t.sortField||t.field}))},callDataManager:function(){if(null!==this.dataManager||null!==this.data)return Array.isArray(this.data)?this.setData(this.data):(this.normalizeSortOrder(),this.setData(this.dataManager?this.dataManager(this.sortOrder,this.makePagination()):this.data))},onRowClass:function(t,e){if(""===this.rowClassCallback)return"function"==typeof this.rowClass?this.rowClass(t,e):this.rowClass;this.warn('"row-class-callback" prop is deprecated, please use "row-class" prop instead.')},onRowChanged:function(t){return this.fireEvent("row-changed",t),!0},onRowClicked:function(t,e){return this.$emit(this.eventPrefix+"row-clicked",t,e),!0},onRowDoubleClicked:function(t,e){this.$emit(this.eventPrefix+"row-dblclicked",t,e)},onDetailRowClick:function(t,e){this.$emit(this.eventPrefix+"detail-row-clicked",t,e)},onCellClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-clicked",t,e,a)},onCellDoubleClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-dblclicked",t,e,a)},onCellRightClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-rightclicked",t,e,a)},changePage:function(t){"prev"===t?this.gotoPreviousPage():"next"===t?this.gotoNextPage():this.gotoPage(t)},reload:function(){return this.loadData()},refresh:function(){return this.currentPage=1,this.loadData()},resetData:function(){this.tableData=null,this.tablePagination=null,this.fireEvent("data-reset")}}},i=n;var l=a(3379),c=a.n(l),d=a(2049),m={insert:"head",singleton:!1};c()(d.Z,m);d.Z.locals;var u=a(1900);const p=(0,u.Z)(i,(function(){var t=this,e=t._self._c;return t.isFixedHeader?e("div",[e("div",{staticClass:"vuetable-head-wrapper"},[e("table",{class:["vuetable",t.css.tableClass]},[e("thead",{class:["thead-light",t.css.tableHeaderClass]},[e("tr",[t._l(t.tableFields,(function(a,s){return[a.visible?[t.isSpecialField(a.name)?["__checkbox"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-checkbox-"+t.trackBy,a.titleClass],style:{width:a.width}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkCheckboxesState(a.name)},on:{change:function(e){return t.toggleAllCheckboxes(a.name,e)}}})]):t._e(),t._v(" "),"__component"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-component-"+t.trackBy,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__slot"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-slot-"+t.extractArgs(a.name),a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__sequence"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-sequence",a.titleClass||""],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e(),t._v(" "),t.notIn(t.extractName(a.name),["__sequence","__checkbox","__component","__slot"])?e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass||""],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e()]:[e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},attrs:{id:"_"+a.name},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}})]]:t._e()]})),t._v(" "),t.scrollVisible?e("th",{staticClass:"vuetable-gutter-col",style:{width:t.scrollBarWidth}}):t._e()],2)])])]),t._v(" "),e("div",{staticClass:"vuetable-body-wrapper",style:{height:t.tableHeight}},[e("table",{class:["vuetable",t.css.tableClass,t.css.tableBodyClass]},[e("colgroup",[t._l(t.tableFields,(function(a,s){return[a.visible?[e("col",{key:s,class:["vuetable-th-"+a.name,a.titleClass],style:{width:a.width},attrs:{id:"_col_"+a.name}})]:t._e()]}))],2),t._v(" "),e("tbody",{staticClass:"vuetable-body"},[t._l(t.tableData,(function(a,s){return[e("tr",{key:s,class:t.onRowClass(a,s),attrs:{"item-index":s,render:t.onRowChanged(a)},on:{click:function(e){return t.onRowClicked(a,e)},dblclick:function(e){return t.onRowDoubleClicked(a,e)}}},[t._l(t.tableFields,(function(r,o){return[r.visible?[t.isSpecialField(r.name)?["__sequence"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-sequence",r.dataClass],domProps:{innerHTML:t._s(t.renderSequence(s))}}):t._e(),t._v(" "),"__handle"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-handle",r.dataClass],domProps:{innerHTML:t._s(t.renderIconTag(["handle-icon",t.css.handleIcon]))}}):t._e(),t._v(" "),"__checkbox"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-checkboxes",r.dataClass]},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.rowSelected(a,r.name)},on:{change:function(e){return t.toggleCheckbox(a,r.name,e)}}})]):t._e(),t._v(" "),"__component"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-component",r.dataClass]},[e(t.extractArgs(r.name),{tag:"component",attrs:{"row-data":a,"row-index":s,"row-field":r.sortField}})],1):t._e(),t._v(" "),"__slot"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-slot",r.dataClass]},[t._t(t.extractArgs(r.name),null,{rowData:a,rowIndex:s,rowField:r.sortField})],2):t._e()]:[e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.renderNormalField(r,a))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}})]]:t._e()]}))],2),t._v(" "),t.useDetailRow?[e("transition",{key:s,attrs:{name:t.detailRowTransition}},[t.isVisibleDetailRow(a[t.trackBy])?e("tr",{class:[t.css.detailRowClass],on:{click:function(e){return t.onDetailRowClick(a,e)}}},[e("td",{attrs:{colspan:t.countVisibleFields}},[e(t.detailRowComponent,{tag:"component",attrs:{"row-data":a,"row-index":s}})],1)]):t._e()])]:t._e()]})),t._v(" "),t.displayEmptyDataRow?[e("tr",[e("td",{staticClass:"vuetable-empty-result",attrs:{colspan:t.countVisibleFields},domProps:{innerHTML:t._s(t.noDataTemplate)}})])]:t._e(),t._v(" "),t.lessThanMinRows?t._l(t.blankRows,(function(a){return e("tr",{key:a,staticClass:"blank-row"},[t._l(t.tableFields,(function(a,s){return[a.visible?e("td",{key:s},[t._v("\n                               \n              ")]):t._e()]}))],2)})):t._e()],2)])])]):e("table",{class:["vuetable",t.css.tableClass]},[e("thead",[e("tr",{staticClass:"fixed-top"},[t._l(t.tableFields,(function(a,s){return[a.visible?[t.isSpecialField(a.name)?["__checkbox"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-checkbox-"+t.trackBy,a.titleClass],style:{width:a.width}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkCheckboxesState(a.name)},on:{change:function(e){return t.toggleAllCheckboxes(a.name,e)}}})]):t._e(),t._v(" "),"__component"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-component-"+t.trackBy,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__slot"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-slot-"+t.extractArgs(a.name),a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__sequence"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-sequence",a.titleClass||"",t.sortClass(a)],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e(),t._v(" "),t.notIn(t.extractName(a.name),["__sequence","__checkbox","__component","__slot"])?e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass||"",t.sortClass(a)],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e()]:[e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},attrs:{id:"_"+a.name},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}})]]:t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"vuetable-body"},[t._l(t.tableData,(function(a,s){return[e("tr",{key:s,class:t.onRowClass(a,s),attrs:{"item-index":s,render:t.onRowChanged(a)},on:{dblclick:function(e){return t.onRowDoubleClicked(a,e)},click:function(e){return t.onRowClicked(a,e)}}},[t._l(t.tableFields,(function(r,o){return[r.visible?[t.isSpecialField(r.name)?["__sequence"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-sequence",r.dataClass],domProps:{innerHTML:t._s(t.renderSequence(s))}}):t._e(),t._v(" "),"__handle"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-handle",r.dataClass],domProps:{innerHTML:t._s(t.renderIconTag(["handle-icon",t.css.handleIcon]))}}):t._e(),t._v(" "),"__checkbox"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-checkboxes",r.dataClass]},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.rowSelected(a,r.name)},on:{change:function(e){return t.toggleCheckbox(a,r.name,e)}}})]):t._e(),t._v(" "),"__component"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-component",r.dataClass]},[e(t.extractArgs(r.name),{tag:"component",attrs:{"row-data":a,"row-index":s,"row-field":r.sortField}})],1):t._e(),t._v(" "),"__slot"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-slot",r.dataClass]},[t._t(t.extractArgs(r.name),null,{rowData:a,rowIndex:s,rowField:r.sortField})],2):t._e()]:[t.hasCallback(r)?e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.callCallback(r,a))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}}):e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.getObjectValue(a,r.name,""))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}})]]:t._e()]}))],2),t._v(" "),t.useDetailRow?[e("transition",{key:s,attrs:{name:t.detailRowTransition}},[t.isVisibleDetailRow(a[t.trackBy])?e("tr",{class:[t.css.detailRowClass],on:{click:function(e){return t.onDetailRowClick(a,e)}}},[e("td",{attrs:{colspan:t.countVisibleFields}},[e(t.detailRowComponent,{tag:"component",attrs:{"row-data":a,"row-index":s}})],1)]):t._e()])]:t._e()]})),t._v(" "),t.displayEmptyDataRow?[e("tr",[e("td",{staticClass:"vuetable-empty-result",attrs:{colspan:t.countVisibleFields},domProps:{innerHTML:t._s(t.noDataTemplate)}})])]:t._e(),t._v(" "),t.lessThanMinRows?t._l(t.blankRows,(function(a){return e("tr",{key:a,staticClass:"blank-row"},[t._l(t.tableFields,(function(a,s){return[a.visible?e("td",{key:s},[t._v("\n                       \n          ")]):t._e()]}))],2)})):t._e()],2)])}),[],!1,null,"52787ff2",null).exports;const f={props:{css:{type:Object,default:function(){return{wrapperClass:"ui right floated pagination menu",activeClass:"active large",disabledClass:"disabled",pageClass:"item",linkClass:"icon item",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"angle double left icon",prev:"left chevron icon",next:"right chevron icon",last:"angle double right icon"}}}},onEachSide:{type:Number,default:function(){return 2}}},data:function(){return{eventPrefix:"vuetable-pagination:",tablePagination:null}},computed:{totalPage:function(){return null===this.tablePagination?0:this.tablePagination.last_page},isOnFirstPage:function(){return null!==this.tablePagination&&1===this.tablePagination.current_page},isOnLastPage:function(){return null!==this.tablePagination&&this.tablePagination.current_page===this.tablePagination.last_page},notEnoughPages:function(){return this.totalPage<2*this.onEachSide+4},windowSize:function(){return 2*this.onEachSide+1},windowStart:function(){return!this.tablePagination||this.tablePagination.current_page<=this.onEachSide?1:this.tablePagination.current_page>=this.totalPage-this.onEachSide?this.totalPage-2*this.onEachSide:this.tablePagination.current_page-this.onEachSide}},methods:{loadPage:function(t){this.$emit(this.eventPrefix+"change-page",t)},isCurrentPage:function(t){return t===this.tablePagination.current_page},setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}};const v={mixins:[(0,u.Z)(f,undefined,undefined,!1,null,null,null).exports]};const _=(0,u.Z)(v,(function(){var t=this,e=t._self._c;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination pagination-sm"},[e("li",{staticClass:"page-item",class:{"previous disabled":t.isOnFirstPage}},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"},on:{click:function(e){return e.preventDefault(),t.loadPage("prev")}}},[t._v("Prev\n                "),e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),e("polyline",{attrs:{points:"15 6 9 12 15 18"}})])])]),t._v(" "),t.notEnoughPages?t._l(t.totalPage,(function(a){return e("li",{staticClass:"page-item",class:{active:t.isCurrentPage(a)}},[e("a",{staticClass:"page-link",attrs:{href:"#"},domProps:{innerHTML:t._s(a)},on:{click:function(e){return e.preventDefault(),t.loadPage(a)}}})])})):t._l(t.windowSize,(function(a){return e("li",{staticClass:"page-item",class:{"page-item active":t.isCurrentPage(t.windowStart+a-1)}},[e("a",{staticClass:"page-link",attrs:{href:"#"},domProps:{innerHTML:t._s(t.windowStart+a-1)},on:{click:function(e){return e.preventDefault(),t.loadPage(t.windowStart+a-1)}}},[t._v("Next")])])})),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:t.isOnLastPage}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loadPage("next")}}},[t._v("\n                Next\n                "),e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),e("polyline",{attrs:{points:"9 6 15 12 9 18"}})])])])],2)])}),[],!1,null,null,null).exports;const b={props:{css:{type:Object,default:function(){return{infoClass:"left floated left aligned six wide column"}}},infoTemplate:{type:String,default:function(){return"Displaying {from} to {to} of {total} entries"}},noDataTemplate:{type:String,default:function(){return"No relevant data"}}},data:function(){return{tablePagination:null}},computed:{paginationInfo:function(){return null==this.tablePagination||0==this.tablePagination.total?this.noDataTemplate:this.infoTemplate.replace("{from}",this.tablePagination.from||0).replace("{to}",this.tablePagination.to||0).replace("{total}",this.tablePagination.total||0)}},methods:{setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}};const h={mixins:[(0,u.Z)(b,undefined,undefined,!1,null,null,null).exports]};const y=(0,u.Z)(h,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.paginationInfo)}})}),[],!1,null,null,null).exports,g={table:{tableClass:"table card-table",tableHeaderClass:"mb-0",tableBodyClass:"mb-0",ascendingIcon:"text-indigo uil uil-arrow-up",descendingIcon:"text-indigo uil uil-arrow-down",handleIcon:"glyphicon glyphicon-menu-hamburger",detailRowClass:"vuetable-detail-row bg-muted-lt",renderIcon:function(t,e){return'<i class="'.concat(t.join(" "),'"></i>')}},pagination:{wrapperClass:"pagination",activeClass:"page-item active",disabledClass:"disabled",pageClass:"page-link",linkClass:"page-link",icons:{first:"",prev:"&laquo;",next:"&raquo;",last:""}},paginationInfo:{infoClass:"text-muted"}};const C={data:function(){return{filterText:""}},methods:{doFilter:function(){this.$emit("filter-set",this.filterText)},resetFilter:function(){this.filterText="",this.$emit("filter-reset")}}};var w=a(6667),x={insert:"head",singleton:!1};c()(w.Z,x);w.Z.locals;const k=(0,u.Z)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dataTables_filter text-md-right"},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n    Search "),e("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doFilter.apply(null,arguments)}},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1)])}),[],!1,null,null,null).exports;const P={data:function(){return{perPage:60,limits:[30,90,200]}},created:function(){},methods:{changeLimit:function(){this.$emit("limit-changed",this.perPage)}}};const E=(0,u.Z)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dataTables_length"},[e("label",{staticClass:"d-inline-flex align-items-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-select form-select-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?a:a[0]},t.changeLimit]}},t._l(t.limits,(function(a){return e("option",{domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)])])}),[],!1,null,"371d69b0",null).exports;s.default.component("FilterBar",k),s.default.component("PerPage",E);const F={name:"VueTable",components:{Vuetable:p,VuetablePaginationBootstrap:_,VuetablePaginationInfo:y},props:{css:{type:Object,default:function(){return g}},showFilter:{type:Boolean,default:function(){return!0}},showPagination:{type:Boolean,default:function(){return!0}},showPerPage:{type:Boolean,default:function(){return!0}},apiUrl:{type:String,default:""},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},fields:{type:Array,required:!0},dataPath:{type:String,default:"data"},sortOrder:{type:Array,default:function(){return[]}},appendParams:{type:Object,default:function(){return{}}},perPage:{type:[Number],default:60},onRowClass:{type:Function,default:function(){return null}},dataManager:{type:Function,default:function(){return null}},transformData:{type:Function,default:function(){return null}},paginationPath:{type:String,default:"meta"},detailRowComponent:{type:[String,Object],default:""},detailRowClass:{type:[String],default:"vuetable-detail-row bg-muted"},loadOnStart:{type:Boolean,default:!0},tableHeight:{type:String,default:null}},data:function(){return{tableCss:this.css,showOverlay:!1}},mounted:function(){var t=this;this.$on("filter-set",(function(e){return t.onFilterSet(e)})),this.$on("filter-reset",(function(e){return t.onFilterReset(e)})),this.$on("limit-changed",(function(e){return t.onLimitSet(e)}))},methods:{onPaginationData:function(t){this.$refs.pagination.setPaginationData(t)},onChangePage:function(t){this.$refs.vuetable.changePage(t)},onCellClicked:function(t,e,a){this.$refs.vuetable.toggleDetailRow(t.id),this.$emit("vuetable:cell-clicked",t,e,a)},onRowClicked:function(t,e,a){this.$emit("vuetable:row-clicked",t,e,a)},showLoader:function(){this.showOverlay=!0},loadedSuccess:function(t){this.$emit("vuetable:load-success",t),this.hideLoader()},loadError:function(t){this.$emit("vuetable:load-error",t),this.hideLoader()},hideLoader:function(t){this.$emit("vuetable:loaded",t),this.showOverlay=!1},onCheckBoxToggled:function(t,e){this.$emit("vuetable:checkbox-toggled",t,e)},onCheckBoxToggledAll:function(t){this.$emit("vuetable:checkbox-toggled-all",t)},onFilterSet:function(t){var e=this;this.appendParams.filter=t,s.default.nextTick((function(){return e.$refs.vuetable.refresh()}))},onFilterReset:function(){delete this.appendParams.filterText,this.$refs.vuetable.refresh()},onLimitSet:function(t){var e=this;this.perPage=t,s.default.nextTick((function(){return e.$refs.vuetable.refresh()}))},httpFetch:function(t,e){return r.Z.get(t,e)}}};var D=a(7475),$={insert:"head",singleton:!1};c()(D.Z,$);D.Z.locals;const S=(0,u.Z)(F,(function(){var t=this,e=t._self._c;return e("div",[e("b-overlay",{attrs:{show:t.showOverlay,opacity:"0.9",rounded:"sm","spinner-variant":"primary","spinner-small":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive-sm"},[e("Vuetable",{ref:"vuetable",attrs:{id:"vuetable","api-url":t.apiUrl,"api-mode":t.apiMode,data:t.data,"http-fetch":t.httpFetch,fields:t.fields,"table-height":t.tableHeight,"pagination-path":t.paginationPath,"per-page":t.perPage,"row-class":t.onRowClass,css:t.tableCss.table,"sort-order":t.sortOrder,"multi-sort":!1,"append-params":t.appendParams,"load-on-start":t.loadOnStart,"data-manager":t.dataManager,transform:t.transformData,"detail-row-component":t.detailRowComponent},on:{"vuetable:cell-clicked":t.onCellClicked,"vuetable:row-clicked":t.onRowClicked,"vuetable:cell-row":t.onRowClicked,"vuetable:checkbox-toggled":t.onCheckBoxToggled,"vuetable:checkbox-toggled-all":t.onCheckBoxToggledAll,"vuetable:pagination-data":t.onPaginationData,"vuetable:loading":t.showLoader,"vuetable:load-success":t.loadedSuccess,"vuetable:loaded":t.hideLoader,"vuetable:load-error":t.loadError},scopedSlots:t._u([t._l(t.$scopedSlots?Object.keys(t.$scopedSlots):null,(function(e){return{key:e,fn:function(a){return[t._t(e,null,{rowData:a.rowData,rowIndex:a.rowIndex,rowField:a.rowField})]}}}))],null,!0)})],1),t._v(" "),t.showPagination?e("div",{staticClass:"d-flex justify-content-end align-items-baseline px-3 pt-3 bg-light"},[e("vuetable-pagination-bootstrap",{ref:"pagination",attrs:{css:t.css.pagination},on:{"vuetable-pagination:change-page":t.onChangePage}})],1):t._e()])])])],1)}),[],!1,null,"3ba4c6e5",null).exports;var A=a(6945),j=a.n(A);a(2977),a(6561);const T={name:"DatePicker",components:{flatPickr:j()},props:{value:{required:!0},placeholder:{type:String,default:""},formclass:{type:String,default:"form-control bg-white"},dateFormat:{default:"Y-m-d"},altFormat:{type:String,default:"F j, Y"},wrap:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},monthSelectorType:{type:String,default:"dropdown"},mode:{type:String,default:"single"},position:{type:String,default:"auto center"},maxDate:{default:""},minDate:{default:""},defaultDate:{type:[String,Array],default:""},disabled:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1}},data:function(){return{date:this.value,config:{wrap:!1,altFormat:this.altFormat,altInputClass:this.formclass,placeholder:this.placeholder,altInput:!0,dateFormat:this.dateFormat,enableTime:this.enableTime,inline:this.inline,mode:this.mode,position:this.position,maxDate:this.maxDate,minDate:this.minDate,defaultDate:this.defaultDate,monthSelectorType:this.monthSelectorType,noCalendar:this.noCalendar}}},watch:{defaultDate:function(t,e){this.$refs.flatpickr.fp.setDate(t,!0)}},methods:{onChange:function(t,e,a){this.$emit("on-change",t,e,a)},onClose:function(t,e,a){this.$emit("on-close",t,e,a)},onOpen:function(){}}};const O=(0,u.Z)(T,(function(){var t=this;return(0,t._self._c)("flat-pickr",{ref:"flatpickr",attrs:{placeholder:t.placeholder,config:t.config,disabled:t.disabled},on:{"on-change":t.onChange,"on-close":t.onClose},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})}),[],!1,null,null,null).exports;const N={name:"medic-money",components:{Money:a(9178).Money},props:{title:{type:String,default:"",description:"Selectbox label text"},placeholder:{type:String,default:"",description:"Selectbox input placeholder text"},name:{type:String,default:null,description:"Selectbox attribute name"},value:0,icon:{type:String,description:"Prepend icon (left)"},moneyClass:{type:String,default:null,description:"Selectbox disabled status"},group_class:{type:String,default:null,description:"Selectbox disabled status"},col:{type:String,default:null,description:"Selectbox disabled status"},error:{type:String,default:null,description:"Selectbox disabled status"},required:{type:Boolean,default:!1,description:"Selectbox disabled status"},readonly:{type:Boolean,default:!1,description:"Selectbox disabled status"},disabled:{type:[Boolean,Number],default:!1,description:"Selectbox disabled status"},dynamicCurrency:{type:Object,default:function(){return{decimal_mark:".",thousands_separator:",",symbol_first:1,symbol:"$",precision:2}},description:"Dynamic currency"},currency:{type:Object,default:function(){return{decimal_mark:".",thousands_separator:",",symbol_first:1,symbol:"KES ",precision:2}},description:"Default currency"},masked:{type:Boolean,default:!1,description:"Money result value"},rowInput:{type:Boolean,default:!1,description:"Money result value"}},data:function(){return{model:this.value,money:{decimal:this.currency.decimal_mark,thousands:this.currency.thousands_separator,prefix:this.currency.symbol_first?this.currency.symbol:"",suffix:this.currency.symbol_first?"":this.currency.symbol,precision:parseInt(this.currency.precision),masked:this.masked}}},mounted:function(){this.dynamicCurrency.code!=this.currency.code&&(this.dynamicCurrency.decimal?this.money=this.dynamicCurrency:this.money={decimal:this.dynamicCurrency.decimal_mark,thousands:this.dynamicCurrency.thousands_separator,prefix:this.dynamicCurrency.symbol_first?this.dynamicCurrency.symbol:"",suffix:this.dynamicCurrency.symbol_first?"":this.dynamicCurrency.symbol,precision:parseInt(this.dynamicCurrency.precision),masked:this.masked}),this.$emit("interface",this.model)},methods:{change:function(){this.$emit("input",this.model)},input:function(t){this.model=t,this.$emit("input",t)}},watch:{dynamicCurrency:function(t){t&&(this.money={decimal:t.decimal_mark,thousands:t.thousands_separator,prefix:t.symbol_first?t.symbol:"",suffix:t.symbol_first?"":t.symbol,precision:parseInt(t.precision),masked:this.masked})},value:function(t){this.model=t},model:function(t){this.$emit("change",this.model),this.$emit("interface",this.model)}}};var R=a(1112),M={insert:"head",singleton:!1};c()(R.Z,M);R.Z.locals;[S,O,(0,u.Z)(N,(function(){var t=this,e=t._self._c;return t.rowInput?e("div",{class:[{"has-error":t.error},{required:t.required},{readonly:t.readonly},{disabled:t.disabled},t.col]},[t.title?e("label",{staticClass:"form-control-label",attrs:{for:t.name}},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.icon?e("div",{staticClass:"input-group input-group-merge",class:t.group_class},[t.icon?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{class:"uil "+t.icon})])]):t._e(),t._v(" "),e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1))],1):e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1)),t._v(" "),t.error?e("div",{staticClass:"invalid-feedback d-block",domProps:{innerHTML:t._s(t.error)}}):t._e()],1):e("div",{staticClass:"form-group",class:[{"has-error":t.error},{required:t.required},{readonly:t.readonly},{disabled:t.disabled},t.col]},[t.title?e("label",{staticClass:"form-control-label",attrs:{for:t.name}},[t._v(t._s(t.title))]):t._e(),t._v(" "),e("div",{staticClass:"input-group input-group-merge",class:t.group_class},[t.icon?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{class:"uil "+t.icon})])]):t._e(),t._v(" "),e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1))],1),t._v(" "),t.error?e("div",{staticClass:"invalid-feedback d-block",domProps:{innerHTML:t._s(t.error)}}):t._e()])}),[],!1,null,"58f92376",null).exports].forEach((function(t){s.default.component(t.name,t)}));var L=a(2970);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function U(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(r=s.key,o=void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==I(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===I(o)?o:String(o)),s)}var r,o}s.default.use(L.XG7);var q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.record(e)}var e,a,s;return e=t,a=[{key:"all",value:function(){return this.errors}},{key:"has",value:function(t){var e=this.errors.hasOwnProperty(t);return e||(e=Object.keys(this.errors).filter((function(e){return e.startsWith("".concat(t,"."))||e.startsWith("".concat(t,"["))})).length>0),e}},{key:"first",value:function(t){return this.get(t)[0]}},{key:"get",value:function(t){return this.errors[t]||[]}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"record",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errors=t}},{key:"clear",value:function(t){if(t){var e=Object.assign({},this.errors);Object.keys(e).filter((function(e){return e===t||e.startsWith("".concat(t,"."))||e.startsWith("".concat(t,"["))})).forEach((function(t){return delete e[t]})),this.errors=e}else this.errors={}}}],a&&U(e.prototype,a),s&&U(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();Object.defineProperty(s.default.prototype,"$Errors",{value:q});const B=q;function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Z(t){return t instanceof File||t instanceof FileList}function V(t,e){for(var a in e)t[a]=H(e[a])}function H(t){if(null===t)return null;if(Z(t))return t;if(Array.isArray(t)){var e=[];for(var a in t)t.hasOwnProperty(a)&&(e[a]=H(t[a]));return e}if("object"===z(t)){var s={};for(var r in t)t.hasOwnProperty(r)&&(s[r]=H(t[r]));return s}return t}var J=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"];function K(t){if(-1!==J.indexOf(t))throw new Error("Field name ".concat(t," isn't allowed to be used in a Form or Errors instance."))}function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new FormData,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t||"undefined"===t||0===t.length)return e.append(a,t);for(var s in t)t.hasOwnProperty(s)&&Q(e,W(a,s),t[s]);return e}function W(t,e){return t?t+"["+e+"]":e}function Q(t,e,a){return a instanceof Date?t.append(e,a.toISOString()):a instanceof File?t.append(e,a,a.name):"boolean"==typeof a?t.append(e,a?"1":"0"):null===a?t.append(e,""):"object"!==G(a)?t.append(e,a):void Y(a,t,e)}function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function tt(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,et(s.key),s)}}function et(t){var e=function(t,e){if("object"!==X(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==X(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===X(e)?e:String(e)}var at=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.processing=!1,this.successful=!1,this.withData(e).withOptions(a).withErrors({})}var e,a,s;return e=t,a=[{key:"withData",value:function(t){var e;for(var a in e=t,"[object Array]"===Object.prototype.toString.call(e)&&(t=t.reduce((function(t,e){return t[e]="",t}),{})),this.setInitialValues(t),this.errors=new B,this.processing=!1,this.successful=!1,t)K(a),this[a]=t[a];return this}},{key:"withErrors",value:function(t){return this.errors=new B(t),this}},{key:"withOptions",value:function(t){if(this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail),this.__http=r.Z,!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}},{key:"data",value:function(){var t={};for(var e in this.initial)t[e]=this[e];return t}},{key:"only",value:function(t){var e=this;return t.reduce((function(t,a){return t[a]=e[a],t}),{})}},{key:"reset",value:function(){V(this,this.initial),this.errors.clear()}},{key:"setInitialValues",value:function(t){this.initial={},V(this.initial,t)}},{key:"populate",value:function(t){var e=this;return Object.keys(t).forEach((function(a){var s,r,o;K(a),e.hasOwnProperty(a)&&V(e,(s={},r=a,o=t[a],(r=et(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s))})),this}},{key:"clear",value:function(){for(var t in this.initial)this[t]="";this.errors.clear()}},{key:"post",value:function(t){return this.submit("post",t)}},{key:"put",value:function(t){return this.submit("put",t)}},{key:"patch",value:function(t){return this.submit("patch",t)}},{key:"delete",value:function(t){return this.submit("delete",t)}},{key:"submit",value:function(t,e){var a=this;return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((function(s,r){a.__http[t](e,a.hasFiles()?Y(a.data()):a.data()).then((function(t){a.processing=!1,a.onSuccess(t.data),s(t.data)})).catch((function(t){a.processing=!1,a.onFail(t),r(t)}))}))}},{key:"hasFiles",value:function(){for(var t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}},{key:"hasFilesDeep",value:function(t){if(null===t)return!1;if("object"===X(t))for(var e in t)if(t.hasOwnProperty(e)&&Z(t[e]))return!0;if(Array.isArray(t))for(var a in t)if(t.hasOwnProperty(a))return this.hasFilesDeep(t[a]);return Z(t)}},{key:"onSuccess",value:function(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}},{key:"onFail",value:function(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}},{key:"hasError",value:function(t){return this.errors.has(t)}},{key:"getError",value:function(t){return this.errors.first(t)}},{key:"getErrors",value:function(t){return this.errors.get(t)}},{key:"__validateRequestType",value:function(t){var e=["get","delete","head","post","put","patch"];if(-1===e.indexOf(t))throw new Error("`".concat(t,"` is not a valid request type, ")+"must be one of: `".concat(e.join("`, `"),"`."))}}],s=[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new t).withData(e)}}],a&&tt(e.prototype,a),s&&tt(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();const st=at;window.Form=st;a(7778);var rt=a(9938),ot=a.n(rt);s.default.component("v-select",ot());var nt=a(4554),it=a(6606),lt=a.n(it),ct=a(4155);window.Pusher=lt();var dt=new nt.Z({broadcaster:"pusher",key:"",wsHost:ct.env.MIX_APP_DOMAIN_URL,wsPort:ct.env.MIX_PUSHER_APP_PORT,app_id:ct.env.MIX_PUSHER_APP_ID,secret:ct.env.MIX_PUSHER_APP_SECRET,forceTLS:!1,enabledTransports:["ws"],authTransport:"ajax",encrypted:!1,disableStats:!0});dt.connector.pusher.connection.bind("connected",(function(){console.log("✅ Soketi Connected!")})),dt.connector.pusher.connection.bind("disconnected",(function(){console.log("👋 Soketi Disconnected!")})),dt.connector.pusher.connection.bind("failed",(function(){console.log("❌ Soketi Connection Failed!")})),dt.connect(),Object.defineProperty(s.default.prototype,"$laravelEcho",{value:dt});a(873);var mt=a(7166),ut=a.n(mt);s.default.use(ut()),s.default.component("apexchart",ut());var pt=a(4801),ft=a(1857),vt=a(6972),_t=a(8162),bt=a(4850),ht=a(3855);s.default.filter("date_differenceYears",(function(t){if(t)return(0,ft.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_differenceHours",(function(t){if(t)return(0,vt.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_difference",(function(t){if(t)return(0,_t.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_DATE_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"dd/MM/yyyy")})),s.default.filter("date_DATE_MONTH_LONG",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM dd")})),s.default.filter("date_LONG_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM, yyyy")})),s.default.filter("date_DAY_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM dd, yyyy")})),s.default.filter("DATE_MONTH_YEAR_HOUR_MINUTES",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"dd/M/yyyy h:mm aaa")})),s.default.filter("TIME_HOUR_MINUTES",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"h:mm aaa")})),s.default.filter("toMoneyFormat",(function(t){return null===t?0:t<0?"("+(0,pt.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,pt.p)(t).toFormat("0,0.00")})),s.default.filter("readableFileSize",(function(t){for(var e=0;t>=1024;)t/=1024,++e;return t.toFixed(1)+" "+["B","kB","MB","GB","TB","PB","EB","ZB","YB"][e]})),s.default.config.productionTip=!1,s.default.component("LoginForm",a(254).Z),s.default.component("RegisterForm",a(5373).Z),s.default.component("EmployeeManagement",a(7615).Z),s.default.component("EmployeeRegistration",a(4112).Z),s.default.component("EmployeeProfile",a(6772).Z),s.default.component("HomeEmployeeProfile",a(7140).Z),s.default.component("Deduction",a(5266).Z),s.default.component("Departments",a(4182).Z),s.default.component("Branches",a(1088).Z),s.default.component("employee-types",a(165).Z),s.default.component("job-groups",a(8853).Z),s.default.component("Allowance",a(7834).Z),s.default.component("Banks",a(1698).Z),s.default.component("Kpis",a(2165).Z),s.default.component("Contributions",a(153).Z),s.default.component("Benefits",a(1613).Z),s.default.component("Pensions",a(7058).Z),s.default.component("Vendors",a(5924).Z),s.default.component("Tax",a(9664).Z),s.default.component("LeaveTypes",a(1208).Z),s.default.component("Incomes",a(7687).Z),s.default.component("Relief",a(8798).Z),s.default.component("EmployeeContributions",a(7521).Z),s.default.component("EmployeeLeave",a(7645).Z),s.default.component("EmployeeLeaveSupervisor",a(2141).Z),s.default.component("MyLeave",a(3756).Z),s.default.component("LeavePlan",a(1827).Z),s.default.component("EmployeeLeavePlan",a(8839).Z),s.default.component("EmployeeLeaveType",a(2570).Z),s.default.component("Dashboard",a(5040).Z),s.default.component("SystemUsers",a(191).Z),s.default.component("Payroll",a(5800).Z),s.default.component("PayrollDetails",a(5584).Z),s.default.component("HousingLevyConfig",a(7530).Z),s.default.component("LoanPage",a(454).Z),s.default.component("Recruitment",a(6488).Z),s.default.component("Performance",a(2692).Z),s.default.component("Resignations",a(8579).Z),s.default.component("EmployeeTrainings",a(5777).Z),s.default.component("EmployeeProbations",a(8627).Z),s.default.component("SupervisorPerformance",a(2669).Z),s.default.component("MyReview",a(5270).Z),s.default.component("DisciplinaryCases",a(8376).Z),s.default.component("Promotions",a(4202).Z),s.default.component("Demotions",a(8645).Z),s.default.component("Transfers",a(160).Z),s.default.component("Organization",a(4693).Z),s.default.component("Chart",a(5302).Z),s.default.component("EmployeeListing",a(8086).Z),s.default.component("PerformanceAppraisal",a(2946).Z),s.default.component("EmployeeLeaveBalance",a(6524).Z),s.default.component("EmployeeContact",a(8468).Z),s.default.component("ContactExpiration",a(8910).Z),s.default.component("LeaveRequests",a(8960).Z),s.default.component("EmployeeType",a(7789).Z),s.default.component("EmployeeTraining",a(8672).Z),s.default.component("UserProfile",a(5579).Z);new s.default({el:"#app"})},9301:(t,e,a)=>{"use strict";a.d(e,{Z:()=>m});var s=a(9669),r=a.n(s),o=a(538),n=a(7778),i=a(129),l=a.n(i),c={retries:2,headers:{Accept:"application/json",common:{"X-Requested-With":"XMLHttpRequest"}},paramsSerializer:function(t){return l().stringify(t,{arrayFormat:"brackets"})}},d=r().create(c);d.interceptors.response.use((function(t){return t}),(function(t){if(t.response){var e=t.response.status;return 401===e&&n.Z.error("You need to sign in to perform this action","Unauthenticated"),403===e&&n.Z.warning("You are not authorized to perform this action","Unauthorized"),Promise.reject(t)}return t.request,Promise.reject(t)})),Object.defineProperty(o.default.prototype,"$httpClient",{value:d});const m=d},4801:(t,e,a)=>{"use strict";a.d(e,{p:()=>o});var s=a(711),r=a(538);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.pow(10,2);return(0,s.Z)({amount:Math.round(t*e),currency:"KES"})}s.Z.globalLocale="en-Ke",s.Z.defaultCurrency="KES",Object.defineProperty(r.default.prototype,"$money",{value:s.Z})},7778:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(3518),r=a.n(s),o=a(538),n="topRight",i="replace",l=9e3,c={error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error";return r().error({title:e,message:t,position:n,transitionIn:"fadeIn",icon:"icon-x",displayMode:i,layout:2,timeout:l})},success:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";return r().success({title:e,message:t,position:n,transitionIn:"fadeIn",icon:"uil uil-check",displayMode:i,layout:2,timeout:l})},question:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Deleting the selected item",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Caution";return new Promise((function(a){r().question({title:e,message:t,timeout:2e4,progressBar:!1,close:!1,overlay:!0,displayMode:i,id:"question",position:"center",transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,buttons:[['<button class="btn btn-danger"><b>Confirm</b></button>',function(t,e,s,r,o){t.hide({transitionOut:"fadeOut"},e,"button"),a()},!1],['<button class="btn btn-light">Cancel</button>',function(t,e,a,s){t.hide({transitionOut:"fadeOut"},e,"button")}]],onClosing:function(t,e,a){}})}))},info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Info";return r().info({title:e,message:t,displayMode:i,position:n,transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,timeout:l})},warning:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning";return r().warning({title:e,message:t,displayMode:i,id:"question",position:n,transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,timeout:l})}};Object.defineProperty(o.default.prototype,"$toast",{value:c});const d=c},873:(t,e,a)=>{"use strict";var s=a(538),r=a(629),o=a(8929),n=a.n(o);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m,u={},p={modules:{}};function f(t,e){if(1===e.length)return t;var a=e.shift();return t.modules[a]=c({modules:{},namespaced:!0},t.modules[a]),f(t.modules[a],e)}(m=a(6448)).keys().forEach((function(t){var e=m(t);if(u[t]!==e){u[t]=e;var a=t.replace(/^\.\//,"").replace(/\.\w+$/,"").split(/\//).map(n());f(p,a).modules[a.pop()]=c({namespaced:!0},e)}}));const v=p.modules;s.default.use(r.ZP);const _=new r.ZP.Store({modules:v,strict:!1});!function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.modules,r=void 0===s?v:s,o=a.modulePrefix,n=void 0===o?"":o,i=a.flags,l=void 0===i?{}:i;for(var c in r){var d=r[c];d.actions&&d.actions[e]&&(d.namespaced?_.dispatch("".concat(n).concat(c,"/").concat(e)):l.dispatchGlobal=!0),d.modules&&t(e,{modules:d.modules,modulePrefix:n+c+"/",flags:l})}!n&&l.dispatchGlobal&&_.dispatch(e)}("init")},9854:(t,e,a)=>{"use strict";a.r(e),a.d(e,{actions:()=>u,getters:()=>d,mutations:()=>m,state:()=>c});var s=a(9301);const r=function(t){},o=function(t){};a(873);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return e};var t,e={},a=Object.prototype,s=a.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function m(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{m({},"")}catch(t){m=function(t,e,a){return t[e]=a}}function u(t,e,a,s){var o=e&&e.prototype instanceof y?e:y,n=Object.create(o.prototype),i=new j(s||[]);return r(n,"_invoke",{value:D(t,a,i)}),n}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",v="suspendedYield",_="executing",b="completed",h={};function y(){}function g(){}function C(){}var w={};m(w,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==a&&s.call(k,l)&&(w=k);var P=C.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){m(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function a(r,o,i,l){var c=p(t[r],t,o);if("throw"!==c.type){var d=c.arg,m=d.value;return m&&"object"==n(m)&&s.call(m,"__await")?e.resolve(m.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(m).then((function(t){d.value=t,i(d)}),(function(t){return a("throw",t,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(t,s){function r(){return new e((function(e,r){a(t,s,e,r)}))}return o=o?o.then(r,r):r()}})}function D(e,a,s){var r=f;return function(o,n){if(r===_)throw new Error("Generator is already running");if(r===b){if("throw"===o)throw n;return{value:t,done:!0}}for(s.method=o,s.arg=n;;){var i=s.delegate;if(i){var l=$(i,s);if(l){if(l===h)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(r===f)throw r=b,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);r=_;var c=p(e,a,s);if("normal"===c.type){if(r=s.done?b:v,c.arg===h)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(r=b,s.method="throw",s.arg=c.arg)}}}function $(e,a){var s=a.method,r=e.iterator[s];if(r===t)return a.delegate=null,"throw"===s&&e.iterator.return&&(a.method="return",a.arg=t,$(e,a),"throw"===a.method)||"return"!==s&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+s+"' method")),h;var o=p(r,e.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var n=o.arg;return n?n.done?(a[e.resultName]=n.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,h):n:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function a(){for(;++r<e.length;)if(s.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return g.prototype=C,r(P,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:g,configurable:!0}),g.displayName=m(C,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,m(t,d,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(F.prototype),m(F.prototype,c,(function(){return this})),e.AsyncIterator=F,e.async=function(t,a,s,r,o){void 0===o&&(o=Promise);var n=new F(u(t,a,s,r),o);return e.isGeneratorFunction(a)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},E(P),m(P,d,"Generator"),m(P,l,(function(){return this})),m(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var s in e)a.push(s);return a.reverse(),function t(){for(;a.length;){var s=a.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var a in this)"t"===a.charAt(0)&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(s,r){return i.type="throw",i.arg=e,a.next=s,r&&(a.method="next",a.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var l=s.call(n,"catchLoc"),c=s.call(n,"finallyLoc");if(l&&c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=t,n.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),A(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var s=a.completion;if("throw"===s.type){var r=s.arg;A(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,s){return this.delegate={iterator:T(e),resultName:a,nextLoc:s},"next"===this.method&&(this.arg=t),h}},e}function l(t,e,a,s,r,o,n){try{var i=t[o](n),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(s,r)}var c={currentUser:p("auth.currentUser"),permissions:p("auth.permissions"),roles:[]},d={loggedIn:function(t){return!!t.currentUser},user:function(t){return t.currentUser},roles:function(t){return t.roles},permissions:function(t){return t.permissions},token:function(t){return t.token},refresh_token:function(t){return t.refresh_token}},m={SET_CURRENT_USER:function(t,e){f("auth.currentUser",e),t.currentUser=e},SAVE_TOKEN:function(t,e){},SAVE_PERMISSIONS:function(t,e){f("auth.permissions",e)},LOGOUT:function(t){v("accounts.CHARTS_OF_ACCOUNT"),v("auth.currentUser"),v("auth.permissions"),v("auth.roles"),t.token=null,t.refresh_token=null,t.currentUser=null,t.permissions=null},FETCH_PERMISSIONS_FAILURE:function(t){t.permissions=[]},FETCH_ROLES_SUCCESS:function(t,e){var a=e.roles;t.roles=a,f("auth.roles",a)},FETCH_ROLES_FAILURE:function(t){t.roles=[]}},u={init:function(t){t.state,t.dispatch},logIn:function(t){t.commit;var e=t.dispatch,a=(t.getters,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return new Promise((function(t,r){s.Z.post((void 0).VITE_APP_URL+"/login",a).then((function(a){var s=a.data;e("saveToken",s),t()})).catch((function(t){r(t)}))}))},saveUser:function(t,e){var a=t.commit;a("SET_CURRENT_USER",e),e.permissions.length&&a("SAVE_PERMISSIONS",e.permissions.map((function(t){return t.name})))},fetchAuthenticatedUser:function(t){var e=t.commit;return new Promise((function(t,a){s.Z.get((void 0).VITE_APP_URL+"/api/v1/session").then((function(t){var a=t.data;if(e("SET_CURRENT_USER",a.data),a.data.permissions.length>0){var s=a.data.permissions.map((function(t){return t.name}));e("SAVE_PERMISSIONS",s)}else e("SAVE_PERMISSIONS",[])})).catch((function(t){a(t)}))}))},logOut:function(t){var e=t.commit;e("SET_CURRENT_USER",null),e("LOGOUT",c)},resetPassword:function(t){t.commit;var e=t.dispatch,a=t.getters,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).email;return a.loggedIn?e("validate"):s.Z.post("/api/reset",{email:r}).then((function(t){return t.data}))},getUserPermissions:function(t){return(e=i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.commit,r(c.currentUser.id).then((function(t){t.data.length>0&&a("FETCH_PERMISSIONS_SUCCESS",{permissions:t.data.map((function(t){return t}))})})).catch((function(){console.log("Failed fetching permissions"),a("FETCH_PERMISSIONS_FAILURE")}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,r){var o=e.apply(t,a);function n(t){l(o,s,r,n,i,"next",t)}function i(t){l(o,s,r,n,i,"throw",t)}n(void 0)}))})();var e},getUserRoles:function(t){var e=t.commit;o(c.currentUser.id).then((function(t){e("FETCH_ROLES_SUCCESS",{roles:t.data})})).catch((function(){e("FETCH_ROLES_FAILURE")}))}};function p(t){if(t)return JSON.parse(window.localStorage.getItem(t))}function f(t,e){window.localStorage.setItem(t,JSON.stringify(e))}function v(t){window.localStorage.removeItem(t)}},3150:(t,e,a)=>{"use strict";a.r(e),a.d(e,{actions:()=>d,mutations:()=>c,state:()=>l});var s=a(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}n(n({},(0,s.rn)("auth",{currentUser:function(t){return t.currentUser}})),(0,s.Se)("auth",["loggedIn"])),n({},(0,s.rn)("layout",{layoutType:function(t){return t.layoutType},leftSidebarTheme:function(t){return t.leftSidebarTheme},leftSidebarType:function(t){return t.leftSidebarType},layoutWidth:function(t){return t.layoutWidth}})),(0,s.nv)("auth",["logIn","validate","saveToken","getUserPermissions","getUserRoles","logOut","register","resetPassword","fetchAuthenticatedUser"]),(0,s.nv)("layout",["changeLayoutType","changeLeftSidebarTheme","changeLeftSidebarType","changeLayoutWidth"]);var l={inAdmission:m("admission.patients"),inAdmissionQueue:m("admission.queue")},c={ADD_TO_QUEUE:function(t,e){!function(t,e){window.localStorage.setItem(t,JSON.stringify(e))}("admission.queue",e)}},d={enQueuePatient:function(t,e){(0,t.commit)("ADD_TO_QUEUE",e)}};function m(t){if(t)return JSON.parse(window.localStorage.getItem(t))}},9940:(t,e,a)=>{"use strict";a.d(e,{c:()=>Yr});var s=a(538),r=a(4155);var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function n(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var i=function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t};var l=function(t){if(Array.isArray(t))return t};var c=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],s=!0,r=!1,o=void 0;try{for(var n,i=t[Symbol.iterator]();!(s=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){r=!0,o=t}finally{try{s||null==i.return||i.return()}finally{if(r)throw o}}return a}};var d=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s};var m=function(t,e){if(t){if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(t,e):void 0}};var u=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var p=function(t,e){return l(t)||c(t,e)||m(t,e)||u()};var f=function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t},v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{};function _(t,e,a){return t(a={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&a.path)}},a.exports),a.exports}var b=_((function(t){function e(a){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(a)}t.exports=e}));function h(t,e,a,s,r,o,n){try{var i=t[o](n),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(s,r)}var y=function(t){return function(){var e=this,a=arguments;return new Promise((function(s,r){var o=t.apply(e,a);function n(t){h(o,s,r,n,i,"next",t)}function i(t){h(o,s,r,n,i,"throw",t)}n(void 0)}))}},g=_((function(t){var e=function(t){var e,a=Object.prototype,s=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,a){return t[e]=a}}function c(t,e,a,s){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),n=new $(s||[]);return o._invoke=function(t,e,a){var s=m;return function(r,o){if(s===p)throw new Error("Generator is already running");if(s===f){if("throw"===r)throw o;return A()}for(a.method=r,a.arg=o;;){var n=a.delegate;if(n){var i=E(n,a);if(i){if(i===v)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===m)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=p;var l=d(t,e,a);if("normal"===l.type){if(s=a.done?f:u,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=f,a.method="throw",a.arg=l.arg)}}}(t,a,n),o}function d(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var m="suspendedStart",u="suspendedYield",p="executing",f="completed",v={};function _(){}function h(){}function y(){}var g={};g[o]=function(){return this};var C=Object.getPrototypeOf,w=C&&C(C(S([])));w&&w!==a&&s.call(w,o)&&(g=w);var x=y.prototype=_.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function a(r,o,n,i){var l=d(t[r],t,o);if("throw"!==l.type){var c=l.arg,m=c.value;return m&&"object"===b(m)&&s.call(m,"__await")?e.resolve(m.__await).then((function(t){a("next",t,n,i)}),(function(t){a("throw",t,n,i)})):e.resolve(m).then((function(t){c.value=t,n(c)}),(function(t){return a("throw",t,n,i)}))}i(l.arg)}var r;this._invoke=function(t,s){function o(){return new e((function(e,r){a(t,s,e,r)}))}return r=r?r.then(o,o):o()}}function E(t,a){var s=t.iterator[a.method];if(s===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,E(t,a),"throw"===a.method))return v;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=d(s,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,v;var o=r.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function S(t){if(t){var a=t[o];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function a(){for(;++r<t.length;)if(s.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return n.next=n}}return{next:A}}function A(){return{value:e,done:!0}}return h.prototype=x.constructor=y,y.constructor=h,h.displayName=l(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,i,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(P.prototype),P.prototype[n]=function(){return this},t.AsyncIterator=P,t.async=function(e,a,s,r,o){void 0===o&&(o=Promise);var n=new P(c(e,a,s,r),o);return t.isGeneratorFunction(a)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},k(x),l(x,i,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var s=e.pop();if(s in t)return a.value=s,a.done=!1,a}return a.done=!0,a}},t.values=S,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var a in this)"t"===a.charAt(0)&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(s,r){return i.type="throw",i.arg=t,a.next=s,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var l=s.call(n,"catchLoc"),c=s.call(n,"finallyLoc");if(l&&c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=t,n.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),D(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var s=a.completion;if("throw"===s.type){var r=s.arg;D(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,s){return this.delegate={iterator:S(t),resultName:a,nextLoc:s},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),C=g;function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function k(t){for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(a.length?" "+a.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(t){return!!t&&!!t[dt]}function E(t){return!!t&&(function(t){if(!t||"object"!=b(t))return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[ct]||!!t.constructor[ct]||A(t)||j(t))}function F(t,e,a){void 0===a&&(a=!1),0===D(t)?(a?Object.keys:mt)(t).forEach((function(s){a&&"symbol"==b(s)||e(s,t[s],t)})):t.forEach((function(a,s){return e(s,a,t)}))}function D(t){var e=t[dt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:A(t)?2:j(t)?3:0}function $(t,e){return 2===D(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function S(t,e,a){var s=D(t);2===s?t.set(e,a):3===s?(t.delete(e),t.add(a)):t[e]=a}function A(t){return ot&&t instanceof Map}function j(t){return nt&&t instanceof Set}function T(t){return t.o||t.t}function O(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ut(t);delete e[dt];for(var a=mt(e),s=0;s<a.length;s++){var r=a[s],o=e[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function N(t,e){return void 0===e&&(e=!1),M(t)||P(t)||!E(t)||(D(t)>1&&(t.set=t.add=t.clear=t.delete=R),Object.freeze(t),e&&F(t,(function(t,e){return N(e,!0)}),!0)),t}function R(){k(2)}function M(t){return null==t||"object"!=b(t)||Object.isFrozen(t)}function L(t){var e=pt[t];return e||k(18,t),e}function I(){return st}function U(t,e){e&&(L("Patches"),t.u=[],t.s=[],t.v=e)}function q(t){B(t),t.p.forEach(Z),t.p=null}function B(t){t===st&&(st=t.l)}function z(t){return st={p:[],l:st,h:t,m:!0,_:0}}function Z(t){var e=t[dt];0===e.i||1===e.i?e.j():e.g=!0}function V(t,e){e._=e.p.length;var a=e.p[0],s=void 0!==t&&t!==a;return e.h.O||L("ES5").S(e,t,s),s?(a[dt].P&&(q(e),k(4)),E(t)&&(t=H(e,t),e.l||K(e,t)),e.u&&L("Patches").M(a[dt],t,e.u,e.s)):t=H(e,a,[]),q(e),e.u&&e.v(e.u,e.s),t!==lt?t:void 0}function H(t,e,a){if(M(e))return e;var s=e[dt];if(!s)return F(e,(function(r,o){return J(t,s,e,r,o,a)}),!0),e;if(s.A!==t)return e;if(!s.P)return K(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var r=4===s.i||5===s.i?s.o=O(s.k):s.o;F(3===s.i?new Set(r):r,(function(e,o){return J(t,s,r,e,o,a)})),K(t,r,!1),a&&t.u&&L("Patches").R(s,a,t.u,t.s)}return s.o}function J(t,e,a,s,r,o){if(P(r)){var n=H(t,r,o&&e&&3!==e.i&&!$(e.D,s)?o.concat(s):void 0);if(S(a,s,n),!P(n))return;t.m=!1}if(E(r)&&!M(r)){if(!t.h.N&&t._<1)return;H(t,r),e&&e.A.l||K(t,r)}}function K(t,e,a){void 0===a&&(a=!1),t.h.N&&t.m&&N(e,a)}function G(t,e){var a=t[dt];return(a?T(a):t)[e]}function Y(t,e){if(e in t)for(var a=Object.getPrototypeOf(t);a;){var s=Object.getOwnPropertyDescriptor(a,e);if(s)return s;a=Object.getPrototypeOf(a)}}function W(t){t.P||(t.P=!0,t.l&&W(t.l))}function Q(t){t.o||(t.o=O(t.t))}function X(t,e,a){var s=A(e)?L("MapSet").T(e,a):j(e)?L("MapSet").F(e,a):t.O?function(t,e){var a=Array.isArray(t),s={i:a?1:0,A:e?e.A:I(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},r=s,o=ft;a&&(r=[s],o=vt);var n=Proxy.revocable(r,o),i=n.revoke,l=n.proxy;return s.k=l,s.j=i,l}(e,a):L("ES5").J(e,a);return(a?a.A:I()).p.push(s),s}function tt(t){return P(t)||k(22,t),function t(e){if(!E(e))return e;var a,s=e[dt],r=D(e);if(s){if(!s.P&&(s.i<4||!L("ES5").K(s)))return s.t;s.I=!0,a=et(e,r),s.I=!1}else a=et(e,r);return F(a,(function(e,r){s&&function(t,e){return 2===D(t)?t.get(e):t[e]}(s.t,e)===r||S(a,e,t(r))})),3===r?new Set(a):a}(t)}function et(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return O(t)}var at,st,rt="undefined"!=typeof Symbol&&"symbol"==b(Symbol("x")),ot="undefined"!=typeof Map,nt="undefined"!=typeof Set,it="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,lt=rt?Symbol.for("immer-nothing"):((at={})["immer-nothing"]=!0,at),ct=rt?Symbol.for("immer-draftable"):"__$immer_draftable",dt=rt?Symbol.for("immer-state"):"__$immer_state",mt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ut=Object.getOwnPropertyDescriptors||function(t){var e={};return mt(t).forEach((function(a){e[a]=Object.getOwnPropertyDescriptor(t,a)})),e},pt={},ft={get:function(t,e){if(e===dt)return t;var a=T(t);if(!$(a,e))return function(t,e,a){var s,r=Y(e,a);return r?"value"in r?r.value:null===(s=r.get)||void 0===s?void 0:s.call(t.k):void 0}(t,a,e);var s=a[e];return t.I||!E(s)?s:s===G(t.t,e)?(Q(t),t.o[e]=X(t.A.h,s,t)):s},has:function(t,e){return e in T(t)},ownKeys:function(t){return Reflect.ownKeys(T(t))},set:function(t,e,a){var s=Y(T(t),e);if(null==s?void 0:s.set)return s.set.call(t.k,a),!0;if(!t.P){var r=G(T(t),e),o=null==r?void 0:r[dt];if(o&&o.t===a)return t.o[e]=a,t.D[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(a,r)&&(void 0!==a||$(t.t,e)))return!0;Q(t),W(t)}return t.o[e]=a,t.D[e]=!0,!0},deleteProperty:function(t,e){return void 0!==G(t.t,e)||e in t.t?(t.D[e]=!1,Q(t),W(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var a=T(t),s=Reflect.getOwnPropertyDescriptor(a,e);return s?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:s.enumerable,value:a[e]}:s},defineProperty:function(){k(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){k(12)}},vt={};F(ft,(function(t,e){vt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),vt.deleteProperty=function(t,e){return ft.deleteProperty.call(this,t[0],e)},vt.set=function(t,e,a){return ft.set.call(this,t[0],e,a,t[0])};var _t=function(){function t(t){this.O=it,this.N=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var e=t.prototype;return e.produce=function(t,e,a){if("function"==typeof t&&"function"!=typeof e){var s=e;e=t;var r=this;return function(t){var a=this;void 0===t&&(t=s);for(var o=arguments.length,n=Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return r.produce(t,(function(t){var s;return(s=e).call.apply(s,[a,t].concat(n))}))}}var o;if("function"!=typeof e&&k(6),void 0!==a&&"function"!=typeof a&&k(7),E(t)){var n=z(this),i=X(this,t,void 0),l=!0;try{o=e(i),l=!1}finally{l?q(n):B(n)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return U(n,a),V(t,n)}),(function(t){throw q(n),t})):(U(n,a),V(o,n))}if(!t||"object"!=b(t)){if((o=e(t))===lt)return;return void 0===o&&(o=t),this.N&&N(o,!0),o}k(21,t)},e.produceWithPatches=function(t,e){var a,s,r=this;return"function"==typeof t?function(e){for(var a=arguments.length,s=Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return r.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(s))}))}:[this.produce(t,e,(function(t,e){a=t,s=e})),a,s]},e.createDraft=function(t){E(t)||k(8),P(t)&&(t=tt(t));var e=z(this),a=X(this,t,void 0);return a[dt].C=!0,B(e),a},e.finishDraft=function(t,e){var a=(t&&t[dt]).A;return U(a,e),V(void 0,a)},e.setAutoFreeze=function(t){this.N=t},e.setUseProxies=function(t){t&&!it&&k(20),this.O=t},e.applyPatches=function(t,e){var a;for(a=e.length-1;a>=0;a--){var s=e[a];if(0===s.path.length&&"replace"===s.op){t=s.value;break}}var r=L("Patches").$;return P(t)?r(t,e):this.produce(t,(function(t){return r(t,e.slice(a+1))}))},t}(),bt=new _t,ht=bt.produce,yt=(bt.produceWithPatches.bind(bt),bt.setAutoFreeze.bind(bt),bt.setUseProxies.bind(bt),bt.applyPatches.bind(bt),bt.createDraft.bind(bt),bt.finishDraft.bind(bt),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{});function gt(t,e,a){return t(a={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&a.path)}},a.exports),a.exports}for(var Ct=gt((function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var a=new Uint8Array(16);t.exports=function(){return e(a),a}}else{var s=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),s[e]=t>>>((3&e)<<3)&255;return s}}})),wt=[],xt=0;xt<256;++xt)wt[xt]=(xt+256).toString(16).substr(1);var kt,Pt,Et=function(t,e){var a=e||0,s=wt;return[s[t[a++]],s[t[a++]],s[t[a++]],s[t[a++]],"-",s[t[a++]],s[t[a++]],"-",s[t[a++]],s[t[a++]],"-",s[t[a++]],s[t[a++]],"-",s[t[a++]],s[t[a++]],s[t[a++]],s[t[a++]],s[t[a++]],s[t[a++]]].join("")},Ft=0,Dt=0;var $t=function(t,e,a){var s=e&&a||0,r=e||[],o=(t=t||{}).node||kt,n=void 0!==t.clockseq?t.clockseq:Pt;if(null==o||null==n){var i=Ct();null==o&&(o=kt=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==n&&(n=Pt=16383&(i[6]<<8|i[7]))}var l=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:Dt+1,d=l-Ft+(c-Dt)/1e4;if(d<0&&void 0===t.clockseq&&(n=n+1&16383),(d<0||l>Ft)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ft=l,Dt=c,Pt=n;var m=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;r[s++]=m>>>24&255,r[s++]=m>>>16&255,r[s++]=m>>>8&255,r[s++]=255&m;var u=l/4294967296*1e4&268435455;r[s++]=u>>>8&255,r[s++]=255&u,r[s++]=u>>>24&15|16,r[s++]=u>>>16&255,r[s++]=n>>>8|128,r[s++]=255&n;for(var p=0;p<6;++p)r[s+p]=o[p];return e||Et(r)};var St=function(t,e,a){var s=e&&a||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||Ct)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[s+o]=r[o];return e||Et(r)},At=St;At.v1=$t,At.v4=St;var jt=At,Tt="object"==b(yt)&&yt&&yt.Object===Object&&yt,Ot="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,Nt=Tt||Ot||Function("return this")(),Rt=Nt.Symbol,Mt=Object.prototype,Lt=Mt.hasOwnProperty,It=Mt.toString,Ut=Rt?Rt.toStringTag:void 0;var qt=function(t){var e=Lt.call(t,Ut),a=t[Ut];try{t[Ut]=void 0;var s=!0}catch(t){}var r=It.call(t);return s&&(e?t[Ut]=a:delete t[Ut]),r},Bt=Object.prototype.toString;var zt=function(t){return Bt.call(t)},Zt=Rt?Rt.toStringTag:void 0;var Vt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Zt&&Zt in Object(t)?qt(t):zt(t)};var Ht=function(t){var e=b(t);return null!=t&&("object"==e||"function"==e)};var Jt,Kt=function(t){if(!Ht(t))return!1;var e=Vt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Gt=Nt["__core-js_shared__"],Yt=(Jt=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||""))?"Symbol(src)_1."+Jt:"";var Wt=function(t){return!!Yt&&Yt in t},Qt=Function.prototype.toString;var Xt=function(t){if(null!=t){try{return Qt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},te=/^\[object .+?Constructor\]$/,ee=Function.prototype,ae=Object.prototype,se=ee.toString,re=ae.hasOwnProperty,oe=RegExp("^"+se.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ne=function(t){return!(!Ht(t)||Wt(t))&&(Kt(t)?oe:te).test(Xt(t))};var ie=function(t,e){return null==t?void 0:t[e]};var le=function(t,e){var a=ie(t,e);return ne(a)?a:void 0},ce=function(){try{var t=le(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var de=function(t,e,a){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[e]=a};var me=function(t,e){return t===e||t!=t&&e!=e},ue=Object.prototype.hasOwnProperty;var pe=function(t,e,a){var s=t[e];ue.call(t,e)&&me(s,a)&&(void 0!==a||e in t)||de(t,e,a)},fe=Array.isArray;var ve=function(t){return null!=t&&"object"==b(t)};var _e=function(t){return"symbol"==b(t)||ve(t)&&"[object Symbol]"==Vt(t)},be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/;var ye=function(t,e){if(fe(t))return!1;var a=b(t);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!_e(t))||(he.test(t)||!be.test(t)||null!=e&&t in Object(e))},ge=le(Object,"create");var Ce=function(){this.__data__=ge?ge(null):{},this.size=0};var we=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xe=Object.prototype.hasOwnProperty;var ke=function(t){var e=this.__data__;if(ge){var a=e[t];return"__lodash_hash_undefined__"===a?void 0:a}return xe.call(e,t)?e[t]:void 0},Pe=Object.prototype.hasOwnProperty;var Ee=function(t){var e=this.__data__;return ge?void 0!==e[t]:Pe.call(e,t)};var Fe=function(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=ge&&void 0===e?"__lodash_hash_undefined__":e,this};function De(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}De.prototype.clear=Ce,De.prototype.delete=we,De.prototype.get=ke,De.prototype.has=Ee,De.prototype.set=Fe;var $e=De;var Se=function(){this.__data__=[],this.size=0};var Ae=function(t,e){for(var a=t.length;a--;)if(me(t[a][0],e))return a;return-1},je=Array.prototype.splice;var Te=function(t){var e=this.__data__,a=Ae(e,t);return!(a<0)&&(a==e.length-1?e.pop():je.call(e,a,1),--this.size,!0)};var Oe=function(t){var e=this.__data__,a=Ae(e,t);return a<0?void 0:e[a][1]};var Ne=function(t){return Ae(this.__data__,t)>-1};var Re=function(t,e){var a=this.__data__,s=Ae(a,t);return s<0?(++this.size,a.push([t,e])):a[s][1]=e,this};function Me(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}Me.prototype.clear=Se,Me.prototype.delete=Te,Me.prototype.get=Oe,Me.prototype.has=Ne,Me.prototype.set=Re;var Le=Me,Ie=le(Nt,"Map");var Ue=function(){this.size=0,this.__data__={hash:new $e,map:new(Ie||Le),string:new $e}};var qe=function(t){var e=b(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Be=function(t,e){var a=t.__data__;return qe(e)?a["string"==typeof e?"string":"hash"]:a.map};var ze=function(t){var e=Be(this,t).delete(t);return this.size-=e?1:0,e};var Ze=function(t){return Be(this,t).get(t)};var Ve=function(t){return Be(this,t).has(t)};var He=function(t,e){var a=Be(this,t),s=a.size;return a.set(t,e),this.size+=a.size==s?0:1,this};function Je(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}Je.prototype.clear=Ue,Je.prototype.delete=ze,Je.prototype.get=Ze,Je.prototype.has=Ve,Je.prototype.set=He;var Ke=Je;function Ge(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var a=function a(){var s=arguments,r=e?e.apply(this,s):s[0],o=a.cache;if(o.has(r))return o.get(r);var n=t.apply(this,s);return a.cache=o.set(r,n)||o,n};return a.cache=new(Ge.Cache||Ke),a}Ge.Cache=Ke;var Ye=Ge;var We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qe=/\\(\\)?/g,Xe=function(t){var e=Ye(t,(function(t){return 500===a.size&&a.clear(),t})),a=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(We,(function(t,a,s,r){e.push(s?r.replace(Qe,"$1"):a||t)})),e}));var ta=function(t,e){for(var a=-1,s=null==t?0:t.length,r=Array(s);++a<s;)r[a]=e(t[a],a,t);return r},ea=Rt?Rt.prototype:void 0,aa=ea?ea.toString:void 0;var sa=function t(e){if("string"==typeof e)return e;if(fe(e))return ta(e,t)+"";if(_e(e))return aa?aa.call(e):"";var a=e+"";return"0"==a&&1/e==-Infinity?"-0":a};var ra=function(t){return null==t?"":sa(t)};var oa=function(t,e){return fe(t)?t:ye(t,e)?[t]:Xe(ra(t))},na=/^(?:0|[1-9]\d*)$/;var ia=function(t,e){var a=b(t);return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&na.test(t))&&t>-1&&t%1==0&&t<e};var la=function(t){if("string"==typeof t||_e(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var ca=function(t,e,a,s){if(!Ht(t))return t;for(var r=-1,o=(e=oa(e,t)).length,n=o-1,i=t;null!=i&&++r<o;){var l=la(e[r]),c=a;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=n){var d=i[l];void 0===(c=s?s(d,l,i):void 0)&&(c=Ht(d)?d:ia(e[r+1])?[]:{})}pe(i,l,c),i=i[l]}return t};var da=function(t,e,a){return null==t?t:ca(t,e,a)};function ma(t,e){return t.media.findIndex((function(t){return t.attributes.uuid===e}))}var ua=function(t,e){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return t.apply(e,a)}},pa=Object.prototype.toString;function fa(t){return"[object Array]"===pa.call(t)}function va(t){return void 0===t}function _a(t){return null!==t&&"object"===b(t)}function ba(t){if("[object Object]"!==pa.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function ha(t){return"[object Function]"===pa.call(t)}function ya(t,e){if(null!=t)if("object"!==b(t)&&(t=[t]),fa(t))for(var a=0,s=t.length;a<s;a++)e.call(null,t[a],a,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var ga={isArray:fa,isArrayBuffer:function(t){return"[object ArrayBuffer]"===pa.call(t)},isBuffer:function(t){return null!==t&&!va(t)&&null!==t.constructor&&!va(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:_a,isPlainObject:ba,isUndefined:va,isDate:function(t){return"[object Date]"===pa.call(t)},isFile:function(t){return"[object File]"===pa.call(t)},isBlob:function(t){return"[object Blob]"===pa.call(t)},isFunction:ha,isStream:function(t){return _a(t)&&ha(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ya,merge:function t(){var e={};function a(a,s){ba(e[s])&&ba(a)?e[s]=t(e[s],a):ba(a)?e[s]=t({},a):fa(a)?e[s]=a.slice():e[s]=a}for(var s=0,r=arguments.length;s<r;s++)ya(arguments[s],a);return e},extend:function(t,e,a){return ya(e,(function(e,s){t[s]=a&&"function"==typeof e?ua(e,a):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function Ca(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var wa=function(t,e,a){if(!e)return t;var s;if(a)s=a(e);else if(ga.isURLSearchParams(e))s=e.toString();else{var r=[];ga.forEach(e,(function(t,e){null!=t&&(ga.isArray(t)?e+="[]":t=[t],ga.forEach(t,(function(t){ga.isDate(t)?t=t.toISOString():ga.isObject(t)&&(t=JSON.stringify(t)),r.push(Ca(e)+"="+Ca(t))})))})),s=r.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t};function xa(){this.handlers=[]}xa.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},xa.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},xa.prototype.forEach=function(t){ga.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var ka=xa,Pa=function(t,e,a){return ga.forEach(a,(function(a){t=a(t,e)})),t},Ea=function(t){return!(!t||!t.__CANCEL__)},Fa=function(t,e){ga.forEach(t,(function(a,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=a,delete t[s])}))},Da=function(t,e,a,s,r){return function(t,e,a,s,r){return t.config=e,a&&(t.code=a),t.request=s,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,a,s,r)},$a=ga.isStandardBrowserEnv()?{write:function(t,e,a,s,r,o){var n=[];n.push(t+"="+encodeURIComponent(e)),ga.isNumber(a)&&n.push("expires="+new Date(a).toGMTString()),ga.isString(s)&&n.push("path="+s),ga.isString(r)&&n.push("domain="+r),!0===o&&n.push("secure"),document.cookie=n.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Sa=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Aa=ga.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function s(t){var s=t;return e&&(a.setAttribute("href",s),s=a.href),a.setAttribute("href",s),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return t=s(window.location.href),function(e){var a=ga.isString(e)?s(e):e;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0},ja=function(t){return new Promise((function(e,a){var s=t.data,r=t.headers;ga.isFormData(s)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var n=t.auth.username||"",i=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.Authorization="Basic "+btoa(n+":"+i)}var l,c,d=(l=t.baseURL,c=t.url,l&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(l,c):c);if(o.open(t.method.toUpperCase(),wa(d,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in o?function(t){var e,a,s,r={};return t?(ga.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=ga.trim(t.substr(0,s)).toLowerCase(),a=ga.trim(t.substr(s+1)),e){if(r[e]&&Sa.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([a]):r[e]?r[e]+", "+a:a}})),r):r}(o.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:s,config:t,request:o};!function(t,e,a){var s=a.config.validateStatus;a.status&&s&&!s(a.status)?e(Da("Request failed with status code "+a.status,a.config,null,a.request,a)):t(a)}(e,a,r),o=null}},o.onabort=function(){o&&(a(Da("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){a(Da("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),a(Da(e,t,"ECONNABORTED",o)),o=null},ga.isStandardBrowserEnv()){var m=(t.withCredentials||Aa(d))&&t.xsrfCookieName?$a.read(t.xsrfCookieName):void 0;m&&(r[t.xsrfHeaderName]=m)}if("setRequestHeader"in o&&ga.forEach(r,(function(t,e){void 0===s&&"content-type"===e.toLowerCase()?delete r[e]:o.setRequestHeader(e,t)})),ga.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),a(t),o=null)})),s||(s=null),o.send(s)}))},Ta={"Content-Type":"application/x-www-form-urlencoded"};function Oa(t,e){!ga.isUndefined(t)&&ga.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Na,Ra={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(Na=ja),Na),transformRequest:[function(t,e){return Fa(e,"Accept"),Fa(e,"Content-Type"),ga.isFormData(t)||ga.isArrayBuffer(t)||ga.isBuffer(t)||ga.isStream(t)||ga.isFile(t)||ga.isBlob(t)?t:ga.isArrayBufferView(t)?t.buffer:ga.isURLSearchParams(t)?(Oa(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ga.isObject(t)?(Oa(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Ra.headers={common:{Accept:"application/json, text/plain, */*"}},ga.forEach(["delete","get","head"],(function(t){Ra.headers[t]={}})),ga.forEach(["post","put","patch"],(function(t){Ra.headers[t]=ga.merge(Ta)}));var Ma=Ra;function La(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Ia=function(t){return La(t),t.headers=t.headers||{},t.data=Pa(t.data,t.headers,t.transformRequest),t.headers=ga.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ga.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||Ma.adapter)(t).then((function(e){return La(t),e.data=Pa(e.data,e.headers,t.transformResponse),e}),(function(e){return Ea(e)||(La(t),e&&e.response&&(e.response.data=Pa(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Ua=function(t,e){e=e||{};var a={},s=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],n=["validateStatus"];function i(t,e){return ga.isPlainObject(t)&&ga.isPlainObject(e)?ga.merge(t,e):ga.isPlainObject(e)?ga.merge({},e):ga.isArray(e)?e.slice():e}function l(s){ga.isUndefined(e[s])?ga.isUndefined(t[s])||(a[s]=i(void 0,t[s])):a[s]=i(t[s],e[s])}ga.forEach(s,(function(t){ga.isUndefined(e[t])||(a[t]=i(void 0,e[t]))})),ga.forEach(r,l),ga.forEach(o,(function(s){ga.isUndefined(e[s])?ga.isUndefined(t[s])||(a[s]=i(void 0,t[s])):a[s]=i(void 0,e[s])})),ga.forEach(n,(function(s){s in e?a[s]=i(t[s],e[s]):s in t&&(a[s]=i(void 0,t[s]))}));var c=s.concat(r).concat(o).concat(n),d=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return ga.forEach(d,l),a};function qa(t){this.defaults=t,this.interceptors={request:new ka,response:new ka}}qa.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Ua(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[Ia,void 0],a=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)a=a.then(e.shift(),e.shift());return a},qa.prototype.getUri=function(t){return t=Ua(this.defaults,t),wa(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},ga.forEach(["delete","get","head","options"],(function(t){qa.prototype[t]=function(e,a){return this.request(Ua(a||{},{method:t,url:e,data:(a||{}).data}))}})),ga.forEach(["post","put","patch"],(function(t){qa.prototype[t]=function(e,a,s){return this.request(Ua(s||{},{method:t,url:e,data:a}))}}));var Ba=qa;function za(t){this.message=t}za.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},za.prototype.__CANCEL__=!0;var Za=za;function Va(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var a=this;t((function(t){a.reason||(a.reason=new Za(t),e(a.reason))}))}Va.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Va.source=function(){var t,e=new Va((function(e){t=e}));return{token:e,cancel:t}};var Ha=Va;function Ja(t){var e=new Ba(t),a=ua(Ba.prototype.request,e);return ga.extend(a,Ba.prototype,e),ga.extend(a,e),a}var Ka=Ja(Ma);Ka.Axios=Ba,Ka.create=function(t){return Ja(Ua(Ka.defaults,t))},Ka.Cancel=Za,Ka.CancelToken=Ha,Ka.isCancel=Ea,Ka.all=function(t){return Promise.all(t)},Ka.spread=function(t){return function(e){return t.apply(null,e)}},Ka.isAxiosError=function(t){return"object"===b(t)&&!0===t.isAxiosError};var Ga=Ka,Ya=Ka;Ga.default=Ya;var Wa=Ga;function Qa(t){return Xa.apply(this,arguments)}function Xa(){return Xa=y(C.mark((function t(e){var a,s,r,o,n=arguments;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{signedStorageUrl:"/vapor/signed-storage-url",withCredentials:!0},t.next=3,es.post(a.signedStorageUrl,{bucket:a.bucket||"",content_type:a.contentType||e.type,expires:a.expires||"",visibility:a.visibility||""},x({withCredentials:a.withCredentials,baseURL:a.baseURL||void 0,headers:a.headers||{}},a.options));case 3:return s=t.sent,"Host"in(r=s.data.headers)&&delete r.Host,o=a.cancelToken||void 0,t.next=9,es.put(s.data.url,e,{withCredentials:a.withCredentials,cancelToken:o,headers:r,onUploadProgress:a.onUploadProgress});case 9:return s.data.extension=e.name.split(".").pop(),t.abrupt("return",s.data);case 11:case"end":return t.stop()}}),t)}))),Xa.apply(this,arguments)}function ts(){return Wa.CancelToken.source()}var es=Wa.create();function as(){return as=y(C.mark((function t(e){var a,s,r,o,n,i,l,c,d,m,u,p;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.routePrefix,s=e.file,r=e.uuid,o=e.cancelTokenSource,n=e.vapor,i=e.vaporSignedStorageUrl,l=e.uploadDomain,c=e.withCredentials,d=e.headers,m=e.onUploadProgress,!n){t.next=6;break}return t.next=4,Qa(s,{onUploadProgress:m,signedStorageUrl:i,withCredentials:c});case 4:return u=t.sent,t.abrupt("return",es.post(l+"/"+a+"/post-s3",{uuid:u.uuid,key:u.key,bucket:u.bucket,name:s.name,size:s.size,content_type:s.type},{withCredentials:c,headers:d}));case 6:return(p=new FormData).append("file",s),p.append("name",s.name),p.append("uuid",r),t.abrupt("return",es.post(l+"/"+a+"/uploads",p,{withCredentials:c,cancelToken:o.token,headers:x({"Content-Type":"multipart/form-data"},d),onUploadProgress:m}));case 11:case"end":return t.stop()}}),t)}))),as.apply(this,arguments)}function ss(t,e){return new Promise((function(a){if(t.size>e)return a(null);var s=new FileReader;s.onload=function(t){a(t.target.result)},s.onerror=function(){a(null)};try{s.readAsDataURL(t)}catch(t){a(null)}}))}function rs(t,e){return!e.length||(!!e.includes(t)||!!e.some((function(e){return e.endsWith("*")&&t.includes(e.replace("*",""))})))}function os(t){return t&&"object"===b(t)&&!Array.isArray(t)}function ns(t,e){if(os(t)&&os(e))for(var a in e)os(e[a])?(t[a]||Object.assign(t,f({},a,{})),ns(t[a],e[a])):void 0!==e[a]&&Object.assign(t,f({},a,e[a]));return t}var is={fileTypeNotAllowed:"You must upload a file of type",tooLarge:"File too large, max",tooSmall:"File too small, min",tryAgain:"please try uploading this file again",somethingWentWrong:"Something went wrong while uploading this file",selectOrDragMax:"Select or drag max {maxItems} {file}",selectOrDrag:"Select or drag files",file:{singular:"file",plural:"files"},anyImage:"any image",anyVideo:"any video",goBack:"Go back",dropFile:"Drop file to upload",dragHere:"Drag file here",remove:"Remove",name:"Name",download:"Download"},ls=gt((function(t,e){(function(){var a,s="Expected a function",r="__lodash_hash_undefined__",o="__lodash_placeholder__",n=16,i=32,l=64,c=128,d=256,m=1/0,u=9007199254740991,p=NaN,f=4294967295,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",n],["flip",512],["partial",i],["partialRight",l],["rearg",d]],_="[object Arguments]",h="[object Array]",y="[object Boolean]",g="[object Date]",C="[object Error]",w="[object Function]",x="[object GeneratorFunction]",k="[object Map]",P="[object Number]",E="[object Object]",F="[object Promise]",D="[object RegExp]",$="[object Set]",S="[object String]",A="[object Symbol]",j="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",N="[object Float32Array]",R="[object Float64Array]",M="[object Int8Array]",L="[object Int16Array]",I="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",Z=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(J.source),Y=RegExp(K.source),W=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(st.source),ot=/^\s+/,nt=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,Ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",Pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",Ft="a-z\\xdf-\\xf6\\xf8-\\xff",Dt="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['’]",jt="["+kt+"]",Tt="["+St+"]",Ot="["+Pt+"]",Nt="\\d+",Rt="["+Et+"]",Mt="["+Ft+"]",Lt="[^"+kt+St+Nt+Et+Ft+Dt+"]",It="\\ud83c[\\udffb-\\udfff]",Ut="[^"+kt+"]",qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+Dt+"]",Zt="\\u200d",Vt="(?:"+Mt+"|"+Lt+")",Ht="(?:"+zt+"|"+Lt+")",Jt="(?:['’](?:d|ll|m|re|s|t|ve))?",Kt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+Ot+"|"+It+")"+"?",Yt="["+$t+"]?",Wt=Yt+Gt+("(?:"+Zt+"(?:"+[Ut,qt,Bt].join("|")+")"+Yt+Gt+")*"),Qt="(?:"+[Rt,qt,Bt].join("|")+")"+Wt,Xt="(?:"+[Ut+Ot+"?",Ot,qt,Bt,jt].join("|")+")",te=RegExp(At,"g"),ee=RegExp(Ot,"g"),ae=RegExp(It+"(?="+It+")|"+Xt+Wt,"g"),se=RegExp([zt+"?"+Mt+"+"+Jt+"(?="+[Tt,zt,"$"].join("|")+")",Ht+"+"+Kt+"(?="+[Tt,zt+Vt,"$"].join("|")+")",zt+"?"+Vt+"+"+Jt,zt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Qt].join("|"),"g"),re=RegExp("["+Zt+kt+Pt+$t+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,le={};le[N]=le[R]=le[M]=le[L]=le[I]=le[U]=le[q]=le[B]=le[z]=!0,le[_]=le[h]=le[T]=le[y]=le[O]=le[g]=le[C]=le[w]=le[k]=le[P]=le[E]=le[D]=le[$]=le[S]=le[j]=!1;var ce={};ce[_]=ce[h]=ce[T]=ce[O]=ce[y]=ce[g]=ce[N]=ce[R]=ce[M]=ce[L]=ce[I]=ce[k]=ce[P]=ce[E]=ce[D]=ce[$]=ce[S]=ce[A]=ce[U]=ce[q]=ce[B]=ce[z]=!0,ce[C]=ce[w]=ce[j]=!1;var de={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},me=parseFloat,ue=parseInt,pe="object"==b(yt)&&yt&&yt.Object===Object&&yt,fe="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,ve=pe||fe||Function("return this")(),_e=e&&!e.nodeType&&e,be=_e&&t&&!t.nodeType&&t,he=be&&be.exports===_e,ye=he&&pe.process,ge=function(){try{var t=be&&be.require&&be.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(t){}}(),Ce=ge&&ge.isArrayBuffer,we=ge&&ge.isDate,xe=ge&&ge.isMap,ke=ge&&ge.isRegExp,Pe=ge&&ge.isSet,Ee=ge&&ge.isTypedArray;function Fe(t,e,a){switch(a.length){case 0:return t.call(e);case 1:return t.call(e,a[0]);case 2:return t.call(e,a[0],a[1]);case 3:return t.call(e,a[0],a[1],a[2])}return t.apply(e,a)}function De(t,e,a,s){for(var r=-1,o=null==t?0:t.length;++r<o;){var n=t[r];e(s,n,a(n),t)}return s}function $e(t,e){for(var a=-1,s=null==t?0:t.length;++a<s&&!1!==e(t[a],a,t););return t}function Se(t,e){for(var a=null==t?0:t.length;a--&&!1!==e(t[a],a,t););return t}function Ae(t,e){for(var a=-1,s=null==t?0:t.length;++a<s;)if(!e(t[a],a,t))return!1;return!0}function je(t,e){for(var a=-1,s=null==t?0:t.length,r=0,o=[];++a<s;){var n=t[a];e(n,a,t)&&(o[r++]=n)}return o}function Te(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Oe(t,e,a){for(var s=-1,r=null==t?0:t.length;++s<r;)if(a(e,t[s]))return!0;return!1}function Ne(t,e){for(var a=-1,s=null==t?0:t.length,r=Array(s);++a<s;)r[a]=e(t[a],a,t);return r}function Re(t,e){for(var a=-1,s=e.length,r=t.length;++a<s;)t[r+a]=e[a];return t}function Me(t,e,a,s){var r=-1,o=null==t?0:t.length;for(s&&o&&(a=t[++r]);++r<o;)a=e(a,t[r],r,t);return a}function Le(t,e,a,s){var r=null==t?0:t.length;for(s&&r&&(a=t[--r]);r--;)a=e(a,t[r],r,t);return a}function Ie(t,e){for(var a=-1,s=null==t?0:t.length;++a<s;)if(e(t[a],a,t))return!0;return!1}var Ue=Je("length");function qe(t,e,a){var s;return a(t,(function(t,a,r){if(e(t,a,r))return s=a,!1})),s}function Be(t,e,a,s){for(var r=t.length,o=a+(s?1:-1);s?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ze(t,e,a){return e==e?function(t,e,a){var s=a-1,r=t.length;for(;++s<r;)if(t[s]===e)return s;return-1}(t,e,a):Be(t,Ve,a)}function Ze(t,e,a,s){for(var r=a-1,o=t.length;++r<o;)if(s(t[r],e))return r;return-1}function Ve(t){return t!=t}function He(t,e){var a=null==t?0:t.length;return a?Ye(t,e)/a:p}function Je(t){return function(e){return null==e?a:e[t]}}function Ke(t){return function(e){return null==t?a:t[e]}}function Ge(t,e,a,s,r){return r(t,(function(t,r,o){a=s?(s=!1,t):e(a,t,r,o)})),a}function Ye(t,e){for(var s,r=-1,o=t.length;++r<o;){var n=e(t[r]);n!==a&&(s=s===a?n:s+n)}return s}function We(t,e){for(var a=-1,s=Array(t);++a<t;)s[a]=e(a);return s}function Qe(t){return t?t.slice(0,va(t)+1).replace(ot,""):t}function Xe(t){return function(e){return t(e)}}function ta(t,e){return Ne(e,(function(e){return t[e]}))}function ea(t,e){return t.has(e)}function aa(t,e){for(var a=-1,s=t.length;++a<s&&ze(e,t[a],0)>-1;);return a}function sa(t,e){for(var a=t.length;a--&&ze(e,t[a],0)>-1;);return a}var ra=Ke({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),oa=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function na(t){return"\\"+de[t]}function ia(t){return re.test(t)}function la(t){var e=-1,a=Array(t.size);return t.forEach((function(t,s){a[++e]=[s,t]})),a}function ca(t,e){return function(a){return t(e(a))}}function da(t,e){for(var a=-1,s=t.length,r=0,n=[];++a<s;){var i=t[a];i!==e&&i!==o||(t[a]=o,n[r++]=a)}return n}function ma(t){var e=-1,a=Array(t.size);return t.forEach((function(t){a[++e]=t})),a}function ua(t){var e=-1,a=Array(t.size);return t.forEach((function(t){a[++e]=[t,t]})),a}function pa(t){return ia(t)?function(t){var e=ae.lastIndex=0;for(;ae.test(t);)++e;return e}(t):Ue(t)}function fa(t){return ia(t)?function(t){return t.match(ae)||[]}(t):function(t){return t.split("")}(t)}function va(t){for(var e=t.length;e--&&nt.test(t.charAt(e)););return e}var _a=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ba=function t(e){var nt=(e=null==e?ve:ba.defaults(ve.Object(),e,ba.pick(ve,ne))).Array,yt=e.Date,kt=e.Error,Pt=e.Function,Et=e.Math,Ft=e.Object,Dt=e.RegExp,$t=e.String,St=e.TypeError,At=nt.prototype,jt=Pt.prototype,Tt=Ft.prototype,Ot=e["__core-js_shared__"],Nt=jt.toString,Rt=Tt.hasOwnProperty,Mt=0,Lt=function(){var t=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),It=Tt.toString,Ut=Nt.call(Ft),qt=ve._,Bt=Dt("^"+Nt.call(Rt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=he?e.Buffer:a,Zt=e.Symbol,Vt=e.Uint8Array,Ht=zt?zt.allocUnsafe:a,Jt=ca(Ft.getPrototypeOf,Ft),Kt=Ft.create,Gt=Tt.propertyIsEnumerable,Yt=At.splice,Wt=Zt?Zt.isConcatSpreadable:a,Qt=Zt?Zt.iterator:a,Xt=Zt?Zt.toStringTag:a,ae=function(){try{var t=uo(Ft,"defineProperty");return t({},"",{}),t}catch(t){}}(),re=e.clearTimeout!==ve.clearTimeout&&e.clearTimeout,de=yt&&yt.now!==ve.Date.now&&yt.now,pe=e.setTimeout!==ve.setTimeout&&e.setTimeout,fe=Et.ceil,_e=Et.floor,be=Ft.getOwnPropertySymbols,ye=zt?zt.isBuffer:a,ge=e.isFinite,Ue=At.join,Ke=ca(Ft.keys,Ft),ha=Et.max,ya=Et.min,ga=yt.now,Ca=e.parseInt,wa=Et.random,xa=At.reverse,ka=uo(e,"DataView"),Pa=uo(e,"Map"),Ea=uo(e,"Promise"),Fa=uo(e,"Set"),Da=uo(e,"WeakMap"),$a=uo(Ft,"create"),Sa=Da&&new Da,Aa={},ja=Lo(ka),Ta=Lo(Pa),Oa=Lo(Ea),Na=Lo(Fa),Ra=Lo(Da),Ma=Zt?Zt.prototype:a,La=Ma?Ma.valueOf:a,Ia=Ma?Ma.toString:a;function Ua(t){if(ai(t)&&!Vn(t)&&!(t instanceof Za)){if(t instanceof za)return t;if(Rt.call(t,"__wrapped__"))return Io(t)}return new za(t)}var qa=function(){function t(){}return function(e){if(!ei(e))return{};if(Kt)return Kt(e);t.prototype=e;var s=new t;return t.prototype=a,s}}();function Ba(){}function za(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=a}function Za(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Va(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}function Ha(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}function Ja(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}function Ka(t){var e=-1,a=null==t?0:t.length;for(this.__data__=new Ja;++e<a;)this.add(t[e])}function Ga(t){var e=this.__data__=new Ha(t);this.size=e.size}function Ya(t,e){var a=Vn(t),s=!a&&Zn(t),r=!a&&!s&&Gn(t),o=!a&&!s&&!r&&di(t),n=a||s||r||o,i=n?We(t.length,$t):[],l=i.length;for(var c in t)!e&&!Rt.call(t,c)||n&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yo(c,l))||i.push(c);return i}function Wa(t){var e=t.length;return e?t[Ks(0,e-1)]:a}function Qa(t,e){return No($r(t),is(e,0,t.length))}function Xa(t){return No($r(t))}function ts(t,e,s){(s!==a&&!qn(t[e],s)||s===a&&!(e in t))&&os(t,e,s)}function es(t,e,s){var r=t[e];Rt.call(t,e)&&qn(r,s)&&(s!==a||e in t)||os(t,e,s)}function as(t,e){for(var a=t.length;a--;)if(qn(t[a][0],e))return a;return-1}function ss(t,e,a,s){return us(t,(function(t,r,o){e(s,t,a(t),o)})),s}function rs(t,e){return t&&Sr(e,ji(e),t)}function os(t,e,a){"__proto__"==e&&ae?ae(t,e,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[e]=a}function ns(t,e){for(var s=-1,r=e.length,o=nt(r),n=null==t;++s<r;)o[s]=n?a:Fi(t,e[s]);return o}function is(t,e,s){return t==t&&(s!==a&&(t=t<=s?t:s),e!==a&&(t=t>=e?t:e)),t}function ls(t,e,s,r,o,n){var i,l=1&e,c=2&e,d=4&e;if(s&&(i=o?s(t,r,o,n):s(t)),i!==a)return i;if(!ei(t))return t;var m=Vn(t);if(m){if(i=function(t){var e=t.length,a=new t.constructor(e);e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(a.index=t.index,a.input=t.input);return a}(t),!l)return $r(t,i)}else{var u=vo(t),p=u==w||u==x;if(Gn(t))return xr(t,l);if(u==E||u==_||p&&!o){if(i=c||p?{}:bo(t),!l)return c?function(t,e){return Sr(t,fo(t),e)}(t,function(t,e){return t&&Sr(e,Ti(e),t)}(i,t)):function(t,e){return Sr(t,po(t),e)}(t,rs(i,t))}else{if(!ce[u])return o?t:{};i=function(t,e,a){var s=t.constructor;switch(e){case T:return kr(t);case y:case g:return new s(+t);case O:return function(t,e){var a=e?kr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}(t,a);case N:case R:case M:case L:case I:case U:case q:case B:case z:return Pr(t,a);case k:return new s;case P:case S:return new s(t);case D:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case $:return new s;case A:return r=t,La?Ft(La.call(r)):{}}var r}(t,u,l)}}n||(n=new Ga);var f=n.get(t);if(f)return f;n.set(t,i),ii(t)?t.forEach((function(a){i.add(ls(a,e,s,a,t,n))})):si(t)&&t.forEach((function(a,r){i.set(r,ls(a,e,s,r,t,n))}));var v=m?a:(d?c?ro:so:c?Ti:ji)(t);return $e(v||t,(function(a,r){v&&(a=t[r=a]),es(i,r,ls(a,e,s,r,t,n))})),i}function cs(t,e,s){var r=s.length;if(null==t)return!r;for(t=Ft(t);r--;){var o=s[r],n=e[o],i=t[o];if(i===a&&!(o in t)||!n(i))return!1}return!0}function ds(t,e,r){if("function"!=typeof t)throw new St(s);return Ao((function(){t.apply(a,r)}),e)}function ms(t,e,a,s){var r=-1,o=Te,n=!0,i=t.length,l=[],c=e.length;if(!i)return l;a&&(e=Ne(e,Xe(a))),s?(o=Oe,n=!1):e.length>=200&&(o=ea,n=!1,e=new Ka(e));t:for(;++r<i;){var d=t[r],m=null==a?d:a(d);if(d=s||0!==d?d:0,n&&m==m){for(var u=c;u--;)if(e[u]===m)continue t;l.push(d)}else o(e,m,s)||l.push(d)}return l}Ua.templateSettings={escape:W,evaluate:Q,interpolate:X,variable:"",imports:{_:Ua}},Ua.prototype=Ba.prototype,Ua.prototype.constructor=Ua,za.prototype=qa(Ba.prototype),za.prototype.constructor=za,Za.prototype=qa(Ba.prototype),Za.prototype.constructor=Za,Va.prototype.clear=function(){this.__data__=$a?$a(null):{},this.size=0},Va.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Va.prototype.get=function(t){var e=this.__data__;if($a){var s=e[t];return s===r?a:s}return Rt.call(e,t)?e[t]:a},Va.prototype.has=function(t){var e=this.__data__;return $a?e[t]!==a:Rt.call(e,t)},Va.prototype.set=function(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=$a&&e===a?r:e,this},Ha.prototype.clear=function(){this.__data__=[],this.size=0},Ha.prototype.delete=function(t){var e=this.__data__,a=as(e,t);return!(a<0)&&(a==e.length-1?e.pop():Yt.call(e,a,1),--this.size,!0)},Ha.prototype.get=function(t){var e=this.__data__,s=as(e,t);return s<0?a:e[s][1]},Ha.prototype.has=function(t){return as(this.__data__,t)>-1},Ha.prototype.set=function(t,e){var a=this.__data__,s=as(a,t);return s<0?(++this.size,a.push([t,e])):a[s][1]=e,this},Ja.prototype.clear=function(){this.size=0,this.__data__={hash:new Va,map:new(Pa||Ha),string:new Va}},Ja.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Ja.prototype.get=function(t){return co(this,t).get(t)},Ja.prototype.has=function(t){return co(this,t).has(t)},Ja.prototype.set=function(t,e){var a=co(this,t),s=a.size;return a.set(t,e),this.size+=a.size==s?0:1,this},Ka.prototype.add=Ka.prototype.push=function(t){return this.__data__.set(t,r),this},Ka.prototype.has=function(t){return this.__data__.has(t)},Ga.prototype.clear=function(){this.__data__=new Ha,this.size=0},Ga.prototype.delete=function(t){var e=this.__data__,a=e.delete(t);return this.size=e.size,a},Ga.prototype.get=function(t){return this.__data__.get(t)},Ga.prototype.has=function(t){return this.__data__.has(t)},Ga.prototype.set=function(t,e){var a=this.__data__;if(a instanceof Ha){var s=a.__data__;if(!Pa||s.length<199)return s.push([t,e]),this.size=++a.size,this;a=this.__data__=new Ja(s)}return a.set(t,e),this.size=a.size,this};var us=Tr(gs),ps=Tr(Cs,!0);function fs(t,e){var a=!0;return us(t,(function(t,s,r){return a=!!e(t,s,r)})),a}function vs(t,e,s){for(var r=-1,o=t.length;++r<o;){var n=t[r],i=e(n);if(null!=i&&(l===a?i==i&&!ci(i):s(i,l)))var l=i,c=n}return c}function _s(t,e){var a=[];return us(t,(function(t,s,r){e(t,s,r)&&a.push(t)})),a}function bs(t,e,a,s,r){var o=-1,n=t.length;for(a||(a=ho),r||(r=[]);++o<n;){var i=t[o];e>0&&a(i)?e>1?bs(i,e-1,a,s,r):Re(r,i):s||(r[r.length]=i)}return r}var hs=Or(),ys=Or(!0);function gs(t,e){return t&&hs(t,e,ji)}function Cs(t,e){return t&&ys(t,e,ji)}function ws(t,e){return je(e,(function(e){return Qn(t[e])}))}function xs(t,e){for(var s=0,r=(e=yr(e,t)).length;null!=t&&s<r;)t=t[Mo(e[s++])];return s&&s==r?t:a}function ks(t,e,a){var s=e(t);return Vn(t)?s:Re(s,a(t))}function Ps(t){return null==t?t===a?"[object Undefined]":"[object Null]":Xt&&Xt in Ft(t)?function(t){var e=Rt.call(t,Xt),s=t[Xt];try{t[Xt]=a;var r=!0}catch(t){}var o=It.call(t);r&&(e?t[Xt]=s:delete t[Xt]);return o}(t):function(t){return It.call(t)}(t)}function Es(t,e){return t>e}function Fs(t,e){return null!=t&&Rt.call(t,e)}function Ds(t,e){return null!=t&&e in Ft(t)}function $s(t,e,s){for(var r=s?Oe:Te,o=t[0].length,n=t.length,i=n,l=nt(n),c=1/0,d=[];i--;){var m=t[i];i&&e&&(m=Ne(m,Xe(e))),c=ya(m.length,c),l[i]=!s&&(e||o>=120&&m.length>=120)?new Ka(i&&m):a}m=t[0];var u=-1,p=l[0];t:for(;++u<o&&d.length<c;){var f=m[u],v=e?e(f):f;if(f=s||0!==f?f:0,!(p?ea(p,v):r(d,v,s))){for(i=n;--i;){var _=l[i];if(!(_?ea(_,v):r(t[i],v,s)))continue t}p&&p.push(v),d.push(f)}}return d}function Ss(t,e,s){var r=null==(t=Do(t,e=yr(e,t)))?t:t[Mo(Yo(e))];return null==r?a:Fe(r,t,s)}function As(t){return ai(t)&&Ps(t)==_}function js(t,e,s,r,o){return t===e||(null==t||null==e||!ai(t)&&!ai(e)?t!=t&&e!=e:function(t,e,s,r,o,n){var i=Vn(t),l=Vn(e),c=i?h:vo(t),d=l?h:vo(e),m=(c=c==_?E:c)==E,u=(d=d==_?E:d)==E,p=c==d;if(p&&Gn(t)){if(!Gn(e))return!1;i=!0,m=!1}if(p&&!m)return n||(n=new Ga),i||di(t)?eo(t,e,s,r,o,n):function(t,e,a,s,r,o,n){switch(a){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case y:case g:case P:return qn(+t,+e);case C:return t.name==e.name&&t.message==e.message;case D:case S:return t==e+"";case k:var i=la;case $:var l=1&s;if(i||(i=ma),t.size!=e.size&&!l)return!1;var c=n.get(t);if(c)return c==e;s|=2,n.set(t,e);var d=eo(i(t),i(e),s,r,o,n);return n.delete(t),d;case A:if(La)return La.call(t)==La.call(e)}return!1}(t,e,c,s,r,o,n);if(!(1&s)){var f=m&&Rt.call(t,"__wrapped__"),v=u&&Rt.call(e,"__wrapped__");if(f||v){var b=f?t.value():t,w=v?e.value():e;return n||(n=new Ga),o(b,w,s,r,n)}}if(!p)return!1;return n||(n=new Ga),function(t,e,s,r,o,n){var i=1&s,l=so(t),c=l.length,d=so(e),m=d.length;if(c!=m&&!i)return!1;var u=c;for(;u--;){var p=l[u];if(!(i?p in e:Rt.call(e,p)))return!1}var f=n.get(t),v=n.get(e);if(f&&v)return f==e&&v==t;var _=!0;n.set(t,e),n.set(e,t);var b=i;for(;++u<c;){var h=t[p=l[u]],y=e[p];if(r)var g=i?r(y,h,p,e,t,n):r(h,y,p,t,e,n);if(!(g===a?h===y||o(h,y,s,r,n):g)){_=!1;break}b||(b="constructor"==p)}if(_&&!b){var C=t.constructor,w=e.constructor;C==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w||(_=!1)}return n.delete(t),n.delete(e),_}(t,e,s,r,o,n)}(t,e,s,r,js,o))}function Ts(t,e,s,r){var o=s.length,n=o,i=!r;if(null==t)return!n;for(t=Ft(t);o--;){var l=s[o];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<n;){var c=(l=s[o])[0],d=t[c],m=l[1];if(i&&l[2]){if(d===a&&!(c in t))return!1}else{var u=new Ga;if(r)var p=r(d,m,c,t,e,u);if(!(p===a?js(m,d,3,r,u):p))return!1}}return!0}function Os(t){return!(!ei(t)||(e=t,Lt&&Lt in e))&&(Qn(t)?Bt:bt).test(Lo(t));var e}function Ns(t){return"function"==typeof t?t:null==t?rl:"object"==b(t)?Vn(t)?qs(t[0],t[1]):Us(t):pl(t)}function Rs(t){if(!ko(t))return Ke(t);var e=[];for(var a in Ft(t))Rt.call(t,a)&&"constructor"!=a&&e.push(a);return e}function Ms(t){if(!ei(t))return function(t){var e=[];if(null!=t)for(var a in Ft(t))e.push(a);return e}(t);var e=ko(t),a=[];for(var s in t)("constructor"!=s||!e&&Rt.call(t,s))&&a.push(s);return a}function Ls(t,e){return t<e}function Is(t,e){var a=-1,s=Jn(t)?nt(t.length):[];return us(t,(function(t,r,o){s[++a]=e(t,r,o)})),s}function Us(t){var e=mo(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(a){return a===t||Ts(a,t,e)}}function qs(t,e){return Co(t)&&Po(e)?Eo(Mo(t),e):function(s){var r=Fi(s,t);return r===a&&r===e?Di(s,t):js(e,r,3)}}function Bs(t,e,s,r,o){t!==e&&hs(e,(function(n,i){if(o||(o=new Ga),ei(n))!function(t,e,s,r,o,n,i){var l=$o(t,s),c=$o(e,s),d=i.get(c);if(d)return void ts(t,s,d);var m=n?n(l,c,s+"",t,e,i):a,u=m===a;if(u){var p=Vn(c),f=!p&&Gn(c),v=!p&&!f&&di(c);m=c,p||f||v?Vn(l)?m=l:Kn(l)?m=$r(l):f?(u=!1,m=xr(c,!0)):v?(u=!1,m=Pr(c,!0)):m=[]:oi(c)||Zn(c)?(m=l,Zn(l)?m=hi(l):ei(l)&&!Qn(l)||(m=bo(c))):u=!1}u&&(i.set(c,m),o(m,c,r,n,i),i.delete(c));ts(t,s,m)}(t,e,i,s,Bs,r,o);else{var l=r?r($o(t,i),n,i+"",t,e,o):a;l===a&&(l=n),ts(t,i,l)}}),Ti)}function zs(t,e){var s=t.length;if(s)return yo(e+=e<0?s:0,s)?t[e]:a}function Zs(t,e,a){e=e.length?Ne(e,(function(t){return Vn(t)?function(e){return xs(e,1===t.length?t[0]:t)}:t})):[rl];var s=-1;e=Ne(e,Xe(lo()));var r=Is(t,(function(t,a,r){var o=Ne(e,(function(e){return e(t)}));return{criteria:o,index:++s,value:t}}));return function(t,e){var a=t.length;for(t.sort(e);a--;)t[a]=t[a].value;return t}(r,(function(t,e){return function(t,e,a){var s=-1,r=t.criteria,o=e.criteria,n=r.length,i=a.length;for(;++s<n;){var l=Er(r[s],o[s]);if(l)return s>=i?l:l*("desc"==a[s]?-1:1)}return t.index-e.index}(t,e,a)}))}function Vs(t,e,a){for(var s=-1,r=e.length,o={};++s<r;){var n=e[s],i=xs(t,n);a(i,n)&&Xs(o,yr(n,t),i)}return o}function Hs(t,e,a,s){var r=s?Ze:ze,o=-1,n=e.length,i=t;for(t===e&&(e=$r(e)),a&&(i=Ne(t,Xe(a)));++o<n;)for(var l=0,c=e[o],d=a?a(c):c;(l=r(i,d,l,s))>-1;)i!==t&&Yt.call(i,l,1),Yt.call(t,l,1);return t}function Js(t,e){for(var a=t?e.length:0,s=a-1;a--;){var r=e[a];if(a==s||r!==o){var o=r;yo(r)?Yt.call(t,r,1):mr(t,r)}}return t}function Ks(t,e){return t+_e(wa()*(e-t+1))}function Gs(t,e){var a="";if(!t||e<1||e>u)return a;do{e%2&&(a+=t),(e=_e(e/2))&&(t+=t)}while(e);return a}function Ys(t,e){return jo(Fo(t,e,rl),t+"")}function Ws(t){return Wa(qi(t))}function Qs(t,e){var a=qi(t);return No(a,is(e,0,a.length))}function Xs(t,e,s,r){if(!ei(t))return t;for(var o=-1,n=(e=yr(e,t)).length,i=n-1,l=t;null!=l&&++o<n;){var c=Mo(e[o]),d=s;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=i){var m=l[c];(d=r?r(m,c,l):a)===a&&(d=ei(m)?m:yo(e[o+1])?[]:{})}es(l,c,d),l=l[c]}return t}var tr=Sa?function(t,e){return Sa.set(t,e),t}:rl,er=ae?function(t,e){return ae(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function ar(t){return No(qi(t))}function sr(t,e,a){var s=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(a=a>r?r:a)<0&&(a+=r),r=e>a?0:a-e>>>0,e>>>=0;for(var o=nt(r);++s<r;)o[s]=t[s+e];return o}function rr(t,e){var a;return us(t,(function(t,s,r){return!(a=e(t,s,r))})),!!a}function or(t,e,a){var s=0,r=null==t?s:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;s<r;){var o=s+r>>>1,n=t[o];null!==n&&!ci(n)&&(a?n<=e:n<e)?s=o+1:r=o}return r}return nr(t,e,rl,a)}function nr(t,e,s,r){var o=0,n=null==t?0:t.length;if(0===n)return 0;for(var i=(e=s(e))!=e,l=null===e,c=ci(e),d=e===a;o<n;){var m=_e((o+n)/2),u=s(t[m]),p=u!==a,f=null===u,v=u==u,_=ci(u);if(i)var b=r||v;else b=d?v&&(r||p):l?v&&p&&(r||!f):c?v&&p&&!f&&(r||!_):!f&&!_&&(r?u<=e:u<e);b?o=m+1:n=m}return ya(n,4294967294)}function ir(t,e){for(var a=-1,s=t.length,r=0,o=[];++a<s;){var n=t[a],i=e?e(n):n;if(!a||!qn(i,l)){var l=i;o[r++]=0===n?0:n}}return o}function lr(t){return"number"==typeof t?t:ci(t)?p:+t}function cr(t){if("string"==typeof t)return t;if(Vn(t))return Ne(t,cr)+"";if(ci(t))return Ia?Ia.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dr(t,e,a){var s=-1,r=Te,o=t.length,n=!0,i=[],l=i;if(a)n=!1,r=Oe;else if(o>=200){var c=e?null:Gr(t);if(c)return ma(c);n=!1,r=ea,l=new Ka}else l=e?[]:i;t:for(;++s<o;){var d=t[s],m=e?e(d):d;if(d=a||0!==d?d:0,n&&m==m){for(var u=l.length;u--;)if(l[u]===m)continue t;e&&l.push(m),i.push(d)}else r(l,m,a)||(l!==i&&l.push(m),i.push(d))}return i}function mr(t,e){return null==(t=Do(t,e=yr(e,t)))||delete t[Mo(Yo(e))]}function ur(t,e,a,s){return Xs(t,e,a(xs(t,e)),s)}function pr(t,e,a,s){for(var r=t.length,o=s?r:-1;(s?o--:++o<r)&&e(t[o],o,t););return a?sr(t,s?0:o,s?o+1:r):sr(t,s?o+1:0,s?r:o)}function fr(t,e){var a=t;return a instanceof Za&&(a=a.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),a)}function vr(t,e,a){var s=t.length;if(s<2)return s?dr(t[0]):[];for(var r=-1,o=nt(s);++r<s;)for(var n=t[r],i=-1;++i<s;)i!=r&&(o[r]=ms(o[r]||n,t[i],e,a));return dr(bs(o,1),e,a)}function _r(t,e,s){for(var r=-1,o=t.length,n=e.length,i={};++r<o;){var l=r<n?e[r]:a;s(i,t[r],l)}return i}function br(t){return Kn(t)?t:[]}function hr(t){return"function"==typeof t?t:rl}function yr(t,e){return Vn(t)?t:Co(t,e)?[t]:Ro(yi(t))}var gr=Ys;function Cr(t,e,s){var r=t.length;return s=s===a?r:s,!e&&s>=r?t:sr(t,e,s)}var wr=re||function(t){return ve.clearTimeout(t)};function xr(t,e){if(e)return t.slice();var a=t.length,s=Ht?Ht(a):new t.constructor(a);return t.copy(s),s}function kr(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Pr(t,e){var a=e?kr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function Er(t,e){if(t!==e){var s=t!==a,r=null===t,o=t==t,n=ci(t),i=e!==a,l=null===e,c=e==e,d=ci(e);if(!l&&!d&&!n&&t>e||n&&i&&c&&!l&&!d||r&&i&&c||!s&&c||!o)return 1;if(!r&&!n&&!d&&t<e||d&&s&&o&&!r&&!n||l&&s&&o||!i&&o||!c)return-1}return 0}function Fr(t,e,a,s){for(var r=-1,o=t.length,n=a.length,i=-1,l=e.length,c=ha(o-n,0),d=nt(l+c),m=!s;++i<l;)d[i]=e[i];for(;++r<n;)(m||r<o)&&(d[a[r]]=t[r]);for(;c--;)d[i++]=t[r++];return d}function Dr(t,e,a,s){for(var r=-1,o=t.length,n=-1,i=a.length,l=-1,c=e.length,d=ha(o-i,0),m=nt(d+c),u=!s;++r<d;)m[r]=t[r];for(var p=r;++l<c;)m[p+l]=e[l];for(;++n<i;)(u||r<o)&&(m[p+a[n]]=t[r++]);return m}function $r(t,e){var a=-1,s=t.length;for(e||(e=nt(s));++a<s;)e[a]=t[a];return e}function Sr(t,e,s,r){var o=!s;s||(s={});for(var n=-1,i=e.length;++n<i;){var l=e[n],c=r?r(s[l],t[l],l,s,t):a;c===a&&(c=t[l]),o?os(s,l,c):es(s,l,c)}return s}function Ar(t,e){return function(a,s){var r=Vn(a)?De:ss,o=e?e():{};return r(a,t,lo(s,2),o)}}function jr(t){return Ys((function(e,s){var r=-1,o=s.length,n=o>1?s[o-1]:a,i=o>2?s[2]:a;for(n=t.length>3&&"function"==typeof n?(o--,n):a,i&&go(s[0],s[1],i)&&(n=o<3?a:n,o=1),e=Ft(e);++r<o;){var l=s[r];l&&t(e,l,r,n)}return e}))}function Tr(t,e){return function(a,s){if(null==a)return a;if(!Jn(a))return t(a,s);for(var r=a.length,o=e?r:-1,n=Ft(a);(e?o--:++o<r)&&!1!==s(n[o],o,n););return a}}function Or(t){return function(e,a,s){for(var r=-1,o=Ft(e),n=s(e),i=n.length;i--;){var l=n[t?i:++r];if(!1===a(o[l],l,o))break}return e}}function Nr(t){return function(e){var s=ia(e=yi(e))?fa(e):a,r=s?s[0]:e.charAt(0),o=s?Cr(s,1).join(""):e.slice(1);return r[t]()+o}}function Rr(t){return function(e){return Me(Qi(Zi(e).replace(te,"")),t,"")}}function Mr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var a=qa(t.prototype),s=t.apply(a,e);return ei(s)?s:a}}function Lr(t){return function(e,s,r){var o=Ft(e);if(!Jn(e)){var n=lo(s,3);e=ji(e),s=function(t){return n(o[t],t,o)}}var i=t(e,s,r);return i>-1?o[n?e[i]:i]:a}}function Ir(t){return ao((function(e){var r=e.length,o=r,n=za.prototype.thru;for(t&&e.reverse();o--;){var i=e[o];if("function"!=typeof i)throw new St(s);if(n&&!l&&"wrapper"==no(i))var l=new za([],!0)}for(o=l?o:r;++o<r;){var c=no(i=e[o]),d="wrapper"==c?oo(i):a;l=d&&wo(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[no(d[0])].apply(l,d[3]):1==i.length&&wo(i)?l[c]():l.thru(i)}return function(){var t=arguments,a=t[0];if(l&&1==t.length&&Vn(a))return l.plant(a).value();for(var s=0,o=r?e[s].apply(this,t):a;++s<r;)o=e[s].call(this,o);return o}}))}function Ur(t,e,s,r,o,n,i,l,d,m){var u=e&c,p=1&e,f=2&e,v=24&e,_=512&e,b=f?a:Mr(t);return function c(){for(var h=arguments.length,y=nt(h),g=h;g--;)y[g]=arguments[g];if(v)var C=io(c),w=function(t,e){for(var a=t.length,s=0;a--;)t[a]===e&&++s;return s}(y,C);if(r&&(y=Fr(y,r,o,v)),n&&(y=Dr(y,n,i,v)),h-=w,v&&h<m){var x=da(y,C);return Jr(t,e,Ur,c.placeholder,s,y,x,l,d,m-h)}var k=p?s:this,P=f?k[t]:t;return h=y.length,l?y=function(t,e){var s=t.length,r=ya(e.length,s),o=$r(t);for(;r--;){var n=e[r];t[r]=yo(n,s)?o[n]:a}return t}(y,l):_&&h>1&&y.reverse(),u&&d<h&&(y.length=d),this&&this!==ve&&this instanceof c&&(P=b||Mr(P)),P.apply(k,y)}}function qr(t,e){return function(a,s){return function(t,e,a,s){return gs(t,(function(t,r,o){e(s,a(t),r,o)})),s}(a,t,e(s),{})}}function Br(t,e){return function(s,r){var o;if(s===a&&r===a)return e;if(s!==a&&(o=s),r!==a){if(o===a)return r;"string"==typeof s||"string"==typeof r?(s=cr(s),r=cr(r)):(s=lr(s),r=lr(r)),o=t(s,r)}return o}}function zr(t){return ao((function(e){return e=Ne(e,Xe(lo())),Ys((function(a){var s=this;return t(e,(function(t){return Fe(t,s,a)}))}))}))}function Zr(t,e){var s=(e=e===a?" ":cr(e)).length;if(s<2)return s?Gs(e,t):e;var r=Gs(e,fe(t/pa(e)));return ia(e)?Cr(fa(r),0,t).join(""):r.slice(0,t)}function Vr(t){return function(e,s,r){return r&&"number"!=typeof r&&go(e,s,r)&&(s=r=a),e=fi(e),s===a?(s=e,e=0):s=fi(s),function(t,e,a,s){for(var r=-1,o=ha(fe((e-t)/(a||1)),0),n=nt(o);o--;)n[s?o:++r]=t,t+=a;return n}(e,s,r=r===a?e<s?1:-1:fi(r),t)}}function Hr(t){return function(e,a){return"string"==typeof e&&"string"==typeof a||(e=bi(e),a=bi(a)),t(e,a)}}function Jr(t,e,s,r,o,n,c,d,m,u){var p=8&e;e|=p?i:l,4&(e&=~(p?l:i))||(e&=-4);var f=[t,e,o,p?n:a,p?c:a,p?a:n,p?a:c,d,m,u],v=s.apply(a,f);return wo(t)&&So(v,f),v.placeholder=r,To(v,t,e)}function Kr(t){var e=Et[t];return function(t,a){if(t=bi(t),(a=null==a?0:ya(vi(a),292))&&ge(t)){var s=(yi(t)+"e").split("e");return+((s=(yi(e(s[0]+"e"+(+s[1]+a)))+"e").split("e"))[0]+"e"+(+s[1]-a))}return e(t)}}var Gr=Fa&&1/ma(new Fa([,-0]))[1]==m?function(t){return new Fa(t)}:cl;function Yr(t){return function(e){var a=vo(e);return a==k?la(e):a==$?ua(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wr(t,e,r,m,u,p,f,v){var _=2&e;if(!_&&"function"!=typeof t)throw new St(s);var b=m?m.length:0;if(b||(e&=-97,m=u=a),f=f===a?f:ha(vi(f),0),v=v===a?v:vi(v),b-=u?u.length:0,e&l){var h=m,y=u;m=u=a}var g=_?a:oo(t),C=[t,e,r,m,u,h,y,p,f,v];if(g&&function(t,e){var a=t[1],s=e[1],r=a|s,n=r<131,i=s==c&&8==a||s==c&&a==d&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==a;if(!n&&!i)return t;1&s&&(t[2]=e[2],r|=1&a?0:4);var l=e[3];if(l){var m=t[3];t[3]=m?Fr(m,l,e[4]):l,t[4]=m?da(t[3],o):e[4]}(l=e[5])&&(m=t[5],t[5]=m?Dr(m,l,e[6]):l,t[6]=m?da(t[5],o):e[6]);(l=e[7])&&(t[7]=l);s&c&&(t[8]=null==t[8]?e[8]:ya(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(C,g),t=C[0],e=C[1],r=C[2],m=C[3],u=C[4],!(v=C[9]=C[9]===a?_?0:t.length:ha(C[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||e==n?function(t,e,s){var r=Mr(t);return function o(){for(var n=arguments.length,i=nt(n),l=n,c=io(o);l--;)i[l]=arguments[l];var d=n<3&&i[0]!==c&&i[n-1]!==c?[]:da(i,c);return(n-=d.length)<s?Jr(t,e,Ur,o.placeholder,a,i,d,a,a,s-n):Fe(this&&this!==ve&&this instanceof o?r:t,this,i)}}(t,e,v):e!=i&&33!=e||u.length?Ur.apply(a,C):function(t,e,a,s){var r=1&e,o=Mr(t);return function e(){for(var n=-1,i=arguments.length,l=-1,c=s.length,d=nt(c+i),m=this&&this!==ve&&this instanceof e?o:t;++l<c;)d[l]=s[l];for(;i--;)d[l++]=arguments[++n];return Fe(m,r?a:this,d)}}(t,e,r,m);else var w=function(t,e,a){var s=1&e,r=Mr(t);return function e(){return(this&&this!==ve&&this instanceof e?r:t).apply(s?a:this,arguments)}}(t,e,r);return To((g?tr:So)(w,C),t,e)}function Qr(t,e,s,r){return t===a||qn(t,Tt[s])&&!Rt.call(r,s)?e:t}function Xr(t,e,s,r,o,n){return ei(t)&&ei(e)&&(n.set(e,t),Bs(t,e,a,Xr,n),n.delete(e)),t}function to(t){return oi(t)?a:t}function eo(t,e,s,r,o,n){var i=1&s,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var d=n.get(t),m=n.get(e);if(d&&m)return d==e&&m==t;var u=-1,p=!0,f=2&s?new Ka:a;for(n.set(t,e),n.set(e,t);++u<l;){var v=t[u],_=e[u];if(r)var b=i?r(_,v,u,e,t,n):r(v,_,u,t,e,n);if(b!==a){if(b)continue;p=!1;break}if(f){if(!Ie(e,(function(t,e){if(!ea(f,e)&&(v===t||o(v,t,s,r,n)))return f.push(e)}))){p=!1;break}}else if(v!==_&&!o(v,_,s,r,n)){p=!1;break}}return n.delete(t),n.delete(e),p}function ao(t){return jo(Fo(t,a,Vo),t+"")}function so(t){return ks(t,ji,po)}function ro(t){return ks(t,Ti,fo)}var oo=Sa?function(t){return Sa.get(t)}:cl;function no(t){for(var e=t.name+"",a=Aa[e],s=Rt.call(Aa,e)?a.length:0;s--;){var r=a[s],o=r.func;if(null==o||o==t)return r.name}return e}function io(t){return(Rt.call(Ua,"placeholder")?Ua:t).placeholder}function lo(){var t=Ua.iteratee||ol;return t=t===ol?Ns:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var a,s,r=t.__data__;return("string"==(s=b(a=e))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==a:null===a)?r["string"==typeof e?"string":"hash"]:r.map}function mo(t){for(var e=ji(t),a=e.length;a--;){var s=e[a],r=t[s];e[a]=[s,r,Po(r)]}return e}function uo(t,e){var s=function(t,e){return null==t?a:t[e]}(t,e);return Os(s)?s:a}var po=be?function(t){return null==t?[]:(t=Ft(t),je(be(t),(function(e){return Gt.call(t,e)})))}:_l,fo=be?function(t){for(var e=[];t;)Re(e,po(t)),t=Jt(t);return e}:_l,vo=Ps;function _o(t,e,a){for(var s=-1,r=(e=yr(e,t)).length,o=!1;++s<r;){var n=Mo(e[s]);if(!(o=null!=t&&a(t,n)))break;t=t[n]}return o||++s!=r?o:!!(r=null==t?0:t.length)&&ti(r)&&yo(n,r)&&(Vn(t)||Zn(t))}function bo(t){return"function"!=typeof t.constructor||ko(t)?{}:qa(Jt(t))}function ho(t){return Vn(t)||Zn(t)||!!(Wt&&t&&t[Wt])}function yo(t,e){var a=b(t);return!!(e=null==e?u:e)&&("number"==a||"symbol"!=a&&gt.test(t))&&t>-1&&t%1==0&&t<e}function go(t,e,a){if(!ei(a))return!1;var s=b(e);return!!("number"==s?Jn(a)&&yo(e,a.length):"string"==s&&e in a)&&qn(a[e],t)}function Co(t,e){if(Vn(t))return!1;var a=b(t);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!ci(t))||(et.test(t)||!tt.test(t)||null!=e&&t in Ft(e))}function wo(t){var e=no(t),a=Ua[e];if("function"!=typeof a||!(e in Za.prototype))return!1;if(t===a)return!0;var s=oo(a);return!!s&&t===s[0]}(ka&&vo(new ka(new ArrayBuffer(1)))!=O||Pa&&vo(new Pa)!=k||Ea&&vo(Ea.resolve())!=F||Fa&&vo(new Fa)!=$||Da&&vo(new Da)!=j)&&(vo=function(t){var e=Ps(t),s=e==E?t.constructor:a,r=s?Lo(s):"";if(r)switch(r){case ja:return O;case Ta:return k;case Oa:return F;case Na:return $;case Ra:return j}return e});var xo=Ot?Qn:bl;function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function Po(t){return t==t&&!ei(t)}function Eo(t,e){return function(s){return null!=s&&(s[t]===e&&(e!==a||t in Ft(s)))}}function Fo(t,e,s){return e=ha(e===a?t.length-1:e,0),function(){for(var a=arguments,r=-1,o=ha(a.length-e,0),n=nt(o);++r<o;)n[r]=a[e+r];r=-1;for(var i=nt(e+1);++r<e;)i[r]=a[r];return i[e]=s(n),Fe(t,this,i)}}function Do(t,e){return e.length<2?t:xs(t,sr(e,0,-1))}function $o(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var So=Oo(tr),Ao=pe||function(t,e){return ve.setTimeout(t,e)},jo=Oo(er);function To(t,e,a){var s=e+"";return jo(t,function(t,e){var a=e.length;if(!a)return t;var s=a-1;return e[s]=(a>1?"& ":"")+e[s],e=e.join(a>2?", ":" "),t.replace(it,"{\n/* [wrapped with "+e+"] */\n")}(s,function(t,e){return $e(v,(function(a){var s="_."+a[0];e&a[1]&&!Te(t,s)&&t.push(s)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(s),a)))}function Oo(t){var e=0,s=0;return function(){var r=ga(),o=16-(r-s);if(s=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(a,arguments)}}function No(t,e){var s=-1,r=t.length,o=r-1;for(e=e===a?r:e;++s<e;){var n=Ks(s,o),i=t[n];t[n]=t[s],t[s]=i}return t.length=e,t}var Ro=function(t){var e=Nn(t,(function(t){return 500===a.size&&a.clear(),t})),a=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(at,(function(t,a,s,r){e.push(s?r.replace(ut,"$1"):a||t)})),e}));function Mo(t){if("string"==typeof t||ci(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Lo(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Io(t){if(t instanceof Za)return t.clone();var e=new za(t.__wrapped__,t.__chain__);return e.__actions__=$r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Ys((function(t,e){return Kn(t)?ms(t,bs(e,1,Kn,!0)):[]})),qo=Ys((function(t,e){var s=Yo(e);return Kn(s)&&(s=a),Kn(t)?ms(t,bs(e,1,Kn,!0),lo(s,2)):[]})),Bo=Ys((function(t,e){var s=Yo(e);return Kn(s)&&(s=a),Kn(t)?ms(t,bs(e,1,Kn,!0),a,s):[]}));function zo(t,e,a){var s=null==t?0:t.length;if(!s)return-1;var r=null==a?0:vi(a);return r<0&&(r=ha(s+r,0)),Be(t,lo(e,3),r)}function Zo(t,e,s){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return s!==a&&(o=vi(s),o=s<0?ha(r+o,0):ya(o,r-1)),Be(t,lo(e,3),o,!0)}function Vo(t){return(null==t?0:t.length)?bs(t,1):[]}function Ho(t){return t&&t.length?t[0]:a}var Jo=Ys((function(t){var e=Ne(t,br);return e.length&&e[0]===t[0]?$s(e):[]})),Ko=Ys((function(t){var e=Yo(t),s=Ne(t,br);return e===Yo(s)?e=a:s.pop(),s.length&&s[0]===t[0]?$s(s,lo(e,2)):[]})),Go=Ys((function(t){var e=Yo(t),s=Ne(t,br);return(e="function"==typeof e?e:a)&&s.pop(),s.length&&s[0]===t[0]?$s(s,a,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:a}var Wo=Ys(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Hs(t,e):t}var Xo=ao((function(t,e){var a=null==t?0:t.length,s=ns(t,e);return Js(t,Ne(e,(function(t){return yo(t,a)?+t:t})).sort(Er)),s}));function tn(t){return null==t?t:xa.call(t)}var en=Ys((function(t){return dr(bs(t,1,Kn,!0))})),an=Ys((function(t){var e=Yo(t);return Kn(e)&&(e=a),dr(bs(t,1,Kn,!0),lo(e,2))})),sn=Ys((function(t){var e=Yo(t);return e="function"==typeof e?e:a,dr(bs(t,1,Kn,!0),a,e)}));function rn(t){if(!t||!t.length)return[];var e=0;return t=je(t,(function(t){if(Kn(t))return e=ha(t.length,e),!0})),We(e,(function(e){return Ne(t,Je(e))}))}function on(t,e){if(!t||!t.length)return[];var s=rn(t);return null==e?s:Ne(s,(function(t){return Fe(e,a,t)}))}var nn=Ys((function(t,e){return Kn(t)?ms(t,e):[]})),ln=Ys((function(t){return vr(je(t,Kn))})),cn=Ys((function(t){var e=Yo(t);return Kn(e)&&(e=a),vr(je(t,Kn),lo(e,2))})),dn=Ys((function(t){var e=Yo(t);return e="function"==typeof e?e:a,vr(je(t,Kn),a,e)})),mn=Ys(rn);var un=Ys((function(t){var e=t.length,s=e>1?t[e-1]:a;return s="function"==typeof s?(t.pop(),s):a,on(t,s)}));function pn(t){var e=Ua(t);return e.__chain__=!0,e}function fn(t,e){return e(t)}var vn=ao((function(t){var e=t.length,s=e?t[0]:0,r=this.__wrapped__,o=function(e){return ns(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Za&&yo(s)?((r=r.slice(s,+s+(e?1:0))).__actions__.push({func:fn,args:[o],thisArg:a}),new za(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(a),t}))):this.thru(o)}));var _n=Ar((function(t,e,a){Rt.call(t,a)?++t[a]:os(t,a,1)}));var bn=Lr(zo),hn=Lr(Zo);function yn(t,e){return(Vn(t)?$e:us)(t,lo(e,3))}function gn(t,e){return(Vn(t)?Se:ps)(t,lo(e,3))}var Cn=Ar((function(t,e,a){Rt.call(t,a)?t[a].push(e):os(t,a,[e])}));var wn=Ys((function(t,e,a){var s=-1,r="function"==typeof e,o=Jn(t)?nt(t.length):[];return us(t,(function(t){o[++s]=r?Fe(e,t,a):Ss(t,e,a)})),o})),xn=Ar((function(t,e,a){os(t,a,e)}));function kn(t,e){return(Vn(t)?Ne:Is)(t,lo(e,3))}var Pn=Ar((function(t,e,a){t[a?0:1].push(e)}),(function(){return[[],[]]}));var En=Ys((function(t,e){if(null==t)return[];var a=e.length;return a>1&&go(t,e[0],e[1])?e=[]:a>2&&go(e[0],e[1],e[2])&&(e=[e[0]]),Zs(t,bs(e,1),[])})),Fn=de||function(){return ve.Date.now()};function Dn(t,e,s){return e=s?a:e,e=t&&null==e?t.length:e,Wr(t,c,a,a,a,a,e)}function $n(t,e){var r;if("function"!=typeof e)throw new St(s);return t=vi(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=a),r}}var Sn=Ys((function(t,e,a){var s=1;if(a.length){var r=da(a,io(Sn));s|=i}return Wr(t,s,e,a,r)})),An=Ys((function(t,e,a){var s=3;if(a.length){var r=da(a,io(An));s|=i}return Wr(e,s,t,a,r)}));function jn(t,e,r){var o,n,i,l,c,d,m=0,u=!1,p=!1,f=!0;if("function"!=typeof t)throw new St(s);function v(e){var s=o,r=n;return o=n=a,m=e,l=t.apply(r,s)}function _(t){var s=t-d;return d===a||s>=e||s<0||p&&t-m>=i}function b(){var t=Fn();if(_(t))return h(t);c=Ao(b,function(t){var a=e-(t-d);return p?ya(a,i-(t-m)):a}(t))}function h(t){return c=a,f&&o?v(t):(o=n=a,l)}function y(){var t=Fn(),s=_(t);if(o=arguments,n=this,d=t,s){if(c===a)return function(t){return m=t,c=Ao(b,e),u?v(t):l}(d);if(p)return wr(c),c=Ao(b,e),v(d)}return c===a&&(c=Ao(b,e)),l}return e=bi(e)||0,ei(r)&&(u=!!r.leading,i=(p="maxWait"in r)?ha(bi(r.maxWait)||0,e):i,f="trailing"in r?!!r.trailing:f),y.cancel=function(){c!==a&&wr(c),m=0,o=d=n=c=a},y.flush=function(){return c===a?l:h(Fn())},y}var Tn=Ys((function(t,e){return ds(t,1,e)})),On=Ys((function(t,e,a){return ds(t,bi(e)||0,a)}));function Nn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new St(s);var a=function a(){var s=arguments,r=e?e.apply(this,s):s[0],o=a.cache;if(o.has(r))return o.get(r);var n=t.apply(this,s);return a.cache=o.set(r,n)||o,n};return a.cache=new(Nn.Cache||Ja),a}function Rn(t){if("function"!=typeof t)throw new St(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Nn.Cache=Ja;var Mn=gr((function(t,e){var a=(e=1==e.length&&Vn(e[0])?Ne(e[0],Xe(lo())):Ne(bs(e,1),Xe(lo()))).length;return Ys((function(s){for(var r=-1,o=ya(s.length,a);++r<o;)s[r]=e[r].call(this,s[r]);return Fe(t,this,s)}))})),Ln=Ys((function(t,e){var s=da(e,io(Ln));return Wr(t,i,a,e,s)})),In=Ys((function(t,e){var s=da(e,io(In));return Wr(t,l,a,e,s)})),Un=ao((function(t,e){return Wr(t,d,a,a,a,e)}));function qn(t,e){return t===e||t!=t&&e!=e}var Bn=Hr(Es),zn=Hr((function(t,e){return t>=e})),Zn=As(function(){return arguments}())?As:function(t){return ai(t)&&Rt.call(t,"callee")&&!Gt.call(t,"callee")},Vn=nt.isArray,Hn=Ce?Xe(Ce):function(t){return ai(t)&&Ps(t)==T};function Jn(t){return null!=t&&ti(t.length)&&!Qn(t)}function Kn(t){return ai(t)&&Jn(t)}var Gn=ye||bl,Yn=we?Xe(we):function(t){return ai(t)&&Ps(t)==g};function Wn(t){if(!ai(t))return!1;var e=Ps(t);return e==C||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oi(t)}function Qn(t){if(!ei(t))return!1;var e=Ps(t);return e==w||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xn(t){return"number"==typeof t&&t==vi(t)}function ti(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function ei(t){var e=b(t);return null!=t&&("object"==e||"function"==e)}function ai(t){return null!=t&&"object"==b(t)}var si=xe?Xe(xe):function(t){return ai(t)&&vo(t)==k};function ri(t){return"number"==typeof t||ai(t)&&Ps(t)==P}function oi(t){if(!ai(t)||Ps(t)!=E)return!1;var e=Jt(t);if(null===e)return!0;var a=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&Nt.call(a)==Ut}var ni=ke?Xe(ke):function(t){return ai(t)&&Ps(t)==D};var ii=Pe?Xe(Pe):function(t){return ai(t)&&vo(t)==$};function li(t){return"string"==typeof t||!Vn(t)&&ai(t)&&Ps(t)==S}function ci(t){return"symbol"==b(t)||ai(t)&&Ps(t)==A}var di=Ee?Xe(Ee):function(t){return ai(t)&&ti(t.length)&&!!le[Ps(t)]};var mi=Hr(Ls),ui=Hr((function(t,e){return t<=e}));function pi(t){if(!t)return[];if(Jn(t))return li(t)?fa(t):$r(t);if(Qt&&t[Qt])return function(t){for(var e,a=[];!(e=t.next()).done;)a.push(e.value);return a}(t[Qt]());var e=vo(t);return(e==k?la:e==$?ma:qi)(t)}function fi(t){return t?(t=bi(t))===m||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vi(t){var e=fi(t),a=e%1;return e==e?a?e-a:e:0}function _i(t){return t?is(vi(t),0,f):0}function bi(t){if("number"==typeof t)return t;if(ci(t))return p;if(ei(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ei(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var a=_t.test(t);return a||ht.test(t)?ue(t.slice(2),a?2:8):vt.test(t)?p:+t}function hi(t){return Sr(t,Ti(t))}function yi(t){return null==t?"":cr(t)}var gi=jr((function(t,e){if(ko(e)||Jn(e))Sr(e,ji(e),t);else for(var a in e)Rt.call(e,a)&&es(t,a,e[a])})),Ci=jr((function(t,e){Sr(e,Ti(e),t)})),wi=jr((function(t,e,a,s){Sr(e,Ti(e),t,s)})),xi=jr((function(t,e,a,s){Sr(e,ji(e),t,s)})),ki=ao(ns);var Pi=Ys((function(t,e){t=Ft(t);var s=-1,r=e.length,o=r>2?e[2]:a;for(o&&go(e[0],e[1],o)&&(r=1);++s<r;)for(var n=e[s],i=Ti(n),l=-1,c=i.length;++l<c;){var d=i[l],m=t[d];(m===a||qn(m,Tt[d])&&!Rt.call(t,d))&&(t[d]=n[d])}return t})),Ei=Ys((function(t){return t.push(a,Xr),Fe(Ni,a,t)}));function Fi(t,e,s){var r=null==t?a:xs(t,e);return r===a?s:r}function Di(t,e){return null!=t&&_o(t,e,Ds)}var $i=qr((function(t,e,a){null!=e&&"function"!=typeof e.toString&&(e=It.call(e)),t[e]=a}),el(rl)),Si=qr((function(t,e,a){null!=e&&"function"!=typeof e.toString&&(e=It.call(e)),Rt.call(t,e)?t[e].push(a):t[e]=[a]}),lo),Ai=Ys(Ss);function ji(t){return Jn(t)?Ya(t):Rs(t)}function Ti(t){return Jn(t)?Ya(t,!0):Ms(t)}var Oi=jr((function(t,e,a){Bs(t,e,a)})),Ni=jr((function(t,e,a,s){Bs(t,e,a,s)})),Ri=ao((function(t,e){var a={};if(null==t)return a;var s=!1;e=Ne(e,(function(e){return e=yr(e,t),s||(s=e.length>1),e})),Sr(t,ro(t),a),s&&(a=ls(a,7,to));for(var r=e.length;r--;)mr(a,e[r]);return a}));var Mi=ao((function(t,e){return null==t?{}:function(t,e){return Vs(t,e,(function(e,a){return Di(t,a)}))}(t,e)}));function Li(t,e){if(null==t)return{};var a=Ne(ro(t),(function(t){return[t]}));return e=lo(e),Vs(t,a,(function(t,a){return e(t,a[0])}))}var Ii=Yr(ji),Ui=Yr(Ti);function qi(t){return null==t?[]:ta(t,ji(t))}var Bi=Rr((function(t,e,a){return e=e.toLowerCase(),t+(a?zi(e):e)}));function zi(t){return Wi(yi(t).toLowerCase())}function Zi(t){return(t=yi(t))&&t.replace(Ct,ra).replace(ee,"")}var Vi=Rr((function(t,e,a){return t+(a?"-":"")+e.toLowerCase()})),Hi=Rr((function(t,e,a){return t+(a?" ":"")+e.toLowerCase()})),Ji=Nr("toLowerCase");var Ki=Rr((function(t,e,a){return t+(a?"_":"")+e.toLowerCase()}));var Gi=Rr((function(t,e,a){return t+(a?" ":"")+Wi(e)}));var Yi=Rr((function(t,e,a){return t+(a?" ":"")+e.toUpperCase()})),Wi=Nr("toUpperCase");function Qi(t,e,s){return t=yi(t),(e=s?a:e)===a?function(t){return oe.test(t)}(t)?function(t){return t.match(se)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var Xi=Ys((function(t,e){try{return Fe(t,a,e)}catch(t){return Wn(t)?t:new kt(t)}})),tl=ao((function(t,e){return $e(e,(function(e){e=Mo(e),os(t,e,Sn(t[e],t))})),t}));function el(t){return function(){return t}}var al=Ir(),sl=Ir(!0);function rl(t){return t}function ol(t){return Ns("function"==typeof t?t:ls(t,1))}var nl=Ys((function(t,e){return function(a){return Ss(a,t,e)}})),il=Ys((function(t,e){return function(a){return Ss(t,a,e)}}));function ll(t,e,a){var s=ji(e),r=ws(e,s);null!=a||ei(e)&&(r.length||!s.length)||(a=e,e=t,t=this,r=ws(e,ji(e)));var o=!(ei(a)&&"chain"in a&&!a.chain),n=Qn(t);return $e(r,(function(a){var s=e[a];t[a]=s,n&&(t.prototype[a]=function(){var e=this.__chain__;if(o||e){var a=t(this.__wrapped__);return(a.__actions__=$r(this.__actions__)).push({func:s,args:arguments,thisArg:t}),a.__chain__=e,a}return s.apply(t,Re([this.value()],arguments))})})),t}function cl(){}var dl=zr(Ne),ml=zr(Ae),ul=zr(Ie);function pl(t){return Co(t)?Je(Mo(t)):function(t){return function(e){return xs(e,t)}}(t)}var fl=Vr(),vl=Vr(!0);function _l(){return[]}function bl(){return!1}var hl=Br((function(t,e){return t+e}),0),yl=Kr("ceil"),gl=Br((function(t,e){return t/e}),1),Cl=Kr("floor");var wl,xl=Br((function(t,e){return t*e}),1),kl=Kr("round"),Pl=Br((function(t,e){return t-e}),0);return Ua.after=function(t,e){if("function"!=typeof e)throw new St(s);return t=vi(t),function(){if(--t<1)return e.apply(this,arguments)}},Ua.ary=Dn,Ua.assign=gi,Ua.assignIn=Ci,Ua.assignInWith=wi,Ua.assignWith=xi,Ua.at=ki,Ua.before=$n,Ua.bind=Sn,Ua.bindAll=tl,Ua.bindKey=An,Ua.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vn(t)?t:[t]},Ua.chain=pn,Ua.chunk=function(t,e,s){e=(s?go(t,e,s):e===a)?1:ha(vi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,n=0,i=nt(fe(r/e));o<r;)i[n++]=sr(t,o,o+=e);return i},Ua.compact=function(t){for(var e=-1,a=null==t?0:t.length,s=0,r=[];++e<a;){var o=t[e];o&&(r[s++]=o)}return r},Ua.concat=function(){var t=arguments.length;if(!t)return[];for(var e=nt(t-1),a=arguments[0],s=t;s--;)e[s-1]=arguments[s];return Re(Vn(a)?$r(a):[a],bs(e,1))},Ua.cond=function(t){var e=null==t?0:t.length,a=lo();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new St(s);return[a(t[0]),t[1]]})):[],Ys((function(a){for(var s=-1;++s<e;){var r=t[s];if(Fe(r[0],this,a))return Fe(r[1],this,a)}}))},Ua.conforms=function(t){return function(t){var e=ji(t);return function(a){return cs(a,t,e)}}(ls(t,1))},Ua.constant=el,Ua.countBy=_n,Ua.create=function(t,e){var a=qa(t);return null==e?a:rs(a,e)},Ua.curry=function t(e,s,r){var o=Wr(e,8,a,a,a,a,a,s=r?a:s);return o.placeholder=t.placeholder,o},Ua.curryRight=function t(e,s,r){var o=Wr(e,n,a,a,a,a,a,s=r?a:s);return o.placeholder=t.placeholder,o},Ua.debounce=jn,Ua.defaults=Pi,Ua.defaultsDeep=Ei,Ua.defer=Tn,Ua.delay=On,Ua.difference=Uo,Ua.differenceBy=qo,Ua.differenceWith=Bo,Ua.drop=function(t,e,s){var r=null==t?0:t.length;return r?sr(t,(e=s||e===a?1:vi(e))<0?0:e,r):[]},Ua.dropRight=function(t,e,s){var r=null==t?0:t.length;return r?sr(t,0,(e=r-(e=s||e===a?1:vi(e)))<0?0:e):[]},Ua.dropRightWhile=function(t,e){return t&&t.length?pr(t,lo(e,3),!0,!0):[]},Ua.dropWhile=function(t,e){return t&&t.length?pr(t,lo(e,3),!0):[]},Ua.fill=function(t,e,s,r){var o=null==t?0:t.length;return o?(s&&"number"!=typeof s&&go(t,e,s)&&(s=0,r=o),function(t,e,s,r){var o=t.length;for((s=vi(s))<0&&(s=-s>o?0:o+s),(r=r===a||r>o?o:vi(r))<0&&(r+=o),r=s>r?0:_i(r);s<r;)t[s++]=e;return t}(t,e,s,r)):[]},Ua.filter=function(t,e){return(Vn(t)?je:_s)(t,lo(e,3))},Ua.flatMap=function(t,e){return bs(kn(t,e),1)},Ua.flatMapDeep=function(t,e){return bs(kn(t,e),m)},Ua.flatMapDepth=function(t,e,s){return s=s===a?1:vi(s),bs(kn(t,e),s)},Ua.flatten=Vo,Ua.flattenDeep=function(t){return(null==t?0:t.length)?bs(t,m):[]},Ua.flattenDepth=function(t,e){return(null==t?0:t.length)?bs(t,e=e===a?1:vi(e)):[]},Ua.flip=function(t){return Wr(t,512)},Ua.flow=al,Ua.flowRight=sl,Ua.fromPairs=function(t){for(var e=-1,a=null==t?0:t.length,s={};++e<a;){var r=t[e];s[r[0]]=r[1]}return s},Ua.functions=function(t){return null==t?[]:ws(t,ji(t))},Ua.functionsIn=function(t){return null==t?[]:ws(t,Ti(t))},Ua.groupBy=Cn,Ua.initial=function(t){return(null==t?0:t.length)?sr(t,0,-1):[]},Ua.intersection=Jo,Ua.intersectionBy=Ko,Ua.intersectionWith=Go,Ua.invert=$i,Ua.invertBy=Si,Ua.invokeMap=wn,Ua.iteratee=ol,Ua.keyBy=xn,Ua.keys=ji,Ua.keysIn=Ti,Ua.map=kn,Ua.mapKeys=function(t,e){var a={};return e=lo(e,3),gs(t,(function(t,s,r){os(a,e(t,s,r),t)})),a},Ua.mapValues=function(t,e){var a={};return e=lo(e,3),gs(t,(function(t,s,r){os(a,s,e(t,s,r))})),a},Ua.matches=function(t){return Us(ls(t,1))},Ua.matchesProperty=function(t,e){return qs(t,ls(e,1))},Ua.memoize=Nn,Ua.merge=Oi,Ua.mergeWith=Ni,Ua.method=nl,Ua.methodOf=il,Ua.mixin=ll,Ua.negate=Rn,Ua.nthArg=function(t){return t=vi(t),Ys((function(e){return zs(e,t)}))},Ua.omit=Ri,Ua.omitBy=function(t,e){return Li(t,Rn(lo(e)))},Ua.once=function(t){return $n(2,t)},Ua.orderBy=function(t,e,s,r){return null==t?[]:(Vn(e)||(e=null==e?[]:[e]),Vn(s=r?a:s)||(s=null==s?[]:[s]),Zs(t,e,s))},Ua.over=dl,Ua.overArgs=Mn,Ua.overEvery=ml,Ua.overSome=ul,Ua.partial=Ln,Ua.partialRight=In,Ua.partition=Pn,Ua.pick=Mi,Ua.pickBy=Li,Ua.property=pl,Ua.propertyOf=function(t){return function(e){return null==t?a:xs(t,e)}},Ua.pull=Wo,Ua.pullAll=Qo,Ua.pullAllBy=function(t,e,a){return t&&t.length&&e&&e.length?Hs(t,e,lo(a,2)):t},Ua.pullAllWith=function(t,e,s){return t&&t.length&&e&&e.length?Hs(t,e,a,s):t},Ua.pullAt=Xo,Ua.range=fl,Ua.rangeRight=vl,Ua.rearg=Un,Ua.reject=function(t,e){return(Vn(t)?je:_s)(t,Rn(lo(e,3)))},Ua.remove=function(t,e){var a=[];if(!t||!t.length)return a;var s=-1,r=[],o=t.length;for(e=lo(e,3);++s<o;){var n=t[s];e(n,s,t)&&(a.push(n),r.push(s))}return Js(t,r),a},Ua.rest=function(t,e){if("function"!=typeof t)throw new St(s);return Ys(t,e=e===a?e:vi(e))},Ua.reverse=tn,Ua.sampleSize=function(t,e,s){return e=(s?go(t,e,s):e===a)?1:vi(e),(Vn(t)?Qa:Qs)(t,e)},Ua.set=function(t,e,a){return null==t?t:Xs(t,e,a)},Ua.setWith=function(t,e,s,r){return r="function"==typeof r?r:a,null==t?t:Xs(t,e,s,r)},Ua.shuffle=function(t){return(Vn(t)?Xa:ar)(t)},Ua.slice=function(t,e,s){var r=null==t?0:t.length;return r?(s&&"number"!=typeof s&&go(t,e,s)?(e=0,s=r):(e=null==e?0:vi(e),s=s===a?r:vi(s)),sr(t,e,s)):[]},Ua.sortBy=En,Ua.sortedUniq=function(t){return t&&t.length?ir(t):[]},Ua.sortedUniqBy=function(t,e){return t&&t.length?ir(t,lo(e,2)):[]},Ua.split=function(t,e,s){return s&&"number"!=typeof s&&go(t,e,s)&&(e=s=a),(s=s===a?f:s>>>0)?(t=yi(t))&&("string"==typeof e||null!=e&&!ni(e))&&!(e=cr(e))&&ia(t)?Cr(fa(t),0,s):t.split(e,s):[]},Ua.spread=function(t,e){if("function"!=typeof t)throw new St(s);return e=null==e?0:ha(vi(e),0),Ys((function(a){var s=a[e],r=Cr(a,0,e);return s&&Re(r,s),Fe(t,this,r)}))},Ua.tail=function(t){var e=null==t?0:t.length;return e?sr(t,1,e):[]},Ua.take=function(t,e,s){return t&&t.length?sr(t,0,(e=s||e===a?1:vi(e))<0?0:e):[]},Ua.takeRight=function(t,e,s){var r=null==t?0:t.length;return r?sr(t,(e=r-(e=s||e===a?1:vi(e)))<0?0:e,r):[]},Ua.takeRightWhile=function(t,e){return t&&t.length?pr(t,lo(e,3),!1,!0):[]},Ua.takeWhile=function(t,e){return t&&t.length?pr(t,lo(e,3)):[]},Ua.tap=function(t,e){return e(t),t},Ua.throttle=function(t,e,a){var r=!0,o=!0;if("function"!=typeof t)throw new St(s);return ei(a)&&(r="leading"in a?!!a.leading:r,o="trailing"in a?!!a.trailing:o),jn(t,e,{leading:r,maxWait:e,trailing:o})},Ua.thru=fn,Ua.toArray=pi,Ua.toPairs=Ii,Ua.toPairsIn=Ui,Ua.toPath=function(t){return Vn(t)?Ne(t,Mo):ci(t)?[t]:$r(Ro(yi(t)))},Ua.toPlainObject=hi,Ua.transform=function(t,e,a){var s=Vn(t),r=s||Gn(t)||di(t);if(e=lo(e,4),null==a){var o=t&&t.constructor;a=r?s?new o:[]:ei(t)&&Qn(o)?qa(Jt(t)):{}}return(r?$e:gs)(t,(function(t,s,r){return e(a,t,s,r)})),a},Ua.unary=function(t){return Dn(t,1)},Ua.union=en,Ua.unionBy=an,Ua.unionWith=sn,Ua.uniq=function(t){return t&&t.length?dr(t):[]},Ua.uniqBy=function(t,e){return t&&t.length?dr(t,lo(e,2)):[]},Ua.uniqWith=function(t,e){return e="function"==typeof e?e:a,t&&t.length?dr(t,a,e):[]},Ua.unset=function(t,e){return null==t||mr(t,e)},Ua.unzip=rn,Ua.unzipWith=on,Ua.update=function(t,e,a){return null==t?t:ur(t,e,hr(a))},Ua.updateWith=function(t,e,s,r){return r="function"==typeof r?r:a,null==t?t:ur(t,e,hr(s),r)},Ua.values=qi,Ua.valuesIn=function(t){return null==t?[]:ta(t,Ti(t))},Ua.without=nn,Ua.words=Qi,Ua.wrap=function(t,e){return Ln(hr(e),t)},Ua.xor=ln,Ua.xorBy=cn,Ua.xorWith=dn,Ua.zip=mn,Ua.zipObject=function(t,e){return _r(t||[],e||[],es)},Ua.zipObjectDeep=function(t,e){return _r(t||[],e||[],Xs)},Ua.zipWith=un,Ua.entries=Ii,Ua.entriesIn=Ui,Ua.extend=Ci,Ua.extendWith=wi,ll(Ua,Ua),Ua.add=hl,Ua.attempt=Xi,Ua.camelCase=Bi,Ua.capitalize=zi,Ua.ceil=yl,Ua.clamp=function(t,e,s){return s===a&&(s=e,e=a),s!==a&&(s=(s=bi(s))==s?s:0),e!==a&&(e=(e=bi(e))==e?e:0),is(bi(t),e,s)},Ua.clone=function(t){return ls(t,4)},Ua.cloneDeep=function(t){return ls(t,5)},Ua.cloneDeepWith=function(t,e){return ls(t,5,e="function"==typeof e?e:a)},Ua.cloneWith=function(t,e){return ls(t,4,e="function"==typeof e?e:a)},Ua.conformsTo=function(t,e){return null==e||cs(t,e,ji(e))},Ua.deburr=Zi,Ua.defaultTo=function(t,e){return null==t||t!=t?e:t},Ua.divide=gl,Ua.endsWith=function(t,e,s){t=yi(t),e=cr(e);var r=t.length,o=s=s===a?r:is(vi(s),0,r);return(s-=e.length)>=0&&t.slice(s,o)==e},Ua.eq=qn,Ua.escape=function(t){return(t=yi(t))&&Y.test(t)?t.replace(K,oa):t},Ua.escapeRegExp=function(t){return(t=yi(t))&&rt.test(t)?t.replace(st,"\\$&"):t},Ua.every=function(t,e,s){var r=Vn(t)?Ae:fs;return s&&go(t,e,s)&&(e=a),r(t,lo(e,3))},Ua.find=bn,Ua.findIndex=zo,Ua.findKey=function(t,e){return qe(t,lo(e,3),gs)},Ua.findLast=hn,Ua.findLastIndex=Zo,Ua.findLastKey=function(t,e){return qe(t,lo(e,3),Cs)},Ua.floor=Cl,Ua.forEach=yn,Ua.forEachRight=gn,Ua.forIn=function(t,e){return null==t?t:hs(t,lo(e,3),Ti)},Ua.forInRight=function(t,e){return null==t?t:ys(t,lo(e,3),Ti)},Ua.forOwn=function(t,e){return t&&gs(t,lo(e,3))},Ua.forOwnRight=function(t,e){return t&&Cs(t,lo(e,3))},Ua.get=Fi,Ua.gt=Bn,Ua.gte=zn,Ua.has=function(t,e){return null!=t&&_o(t,e,Fs)},Ua.hasIn=Di,Ua.head=Ho,Ua.identity=rl,Ua.includes=function(t,e,a,s){t=Jn(t)?t:qi(t),a=a&&!s?vi(a):0;var r=t.length;return a<0&&(a=ha(r+a,0)),li(t)?a<=r&&t.indexOf(e,a)>-1:!!r&&ze(t,e,a)>-1},Ua.indexOf=function(t,e,a){var s=null==t?0:t.length;if(!s)return-1;var r=null==a?0:vi(a);return r<0&&(r=ha(s+r,0)),ze(t,e,r)},Ua.inRange=function(t,e,s){return e=fi(e),s===a?(s=e,e=0):s=fi(s),function(t,e,a){return t>=ya(e,a)&&t<ha(e,a)}(t=bi(t),e,s)},Ua.invoke=Ai,Ua.isArguments=Zn,Ua.isArray=Vn,Ua.isArrayBuffer=Hn,Ua.isArrayLike=Jn,Ua.isArrayLikeObject=Kn,Ua.isBoolean=function(t){return!0===t||!1===t||ai(t)&&Ps(t)==y},Ua.isBuffer=Gn,Ua.isDate=Yn,Ua.isElement=function(t){return ai(t)&&1===t.nodeType&&!oi(t)},Ua.isEmpty=function(t){if(null==t)return!0;if(Jn(t)&&(Vn(t)||"string"==typeof t||"function"==typeof t.splice||Gn(t)||di(t)||Zn(t)))return!t.length;var e=vo(t);if(e==k||e==$)return!t.size;if(ko(t))return!Rs(t).length;for(var a in t)if(Rt.call(t,a))return!1;return!0},Ua.isEqual=function(t,e){return js(t,e)},Ua.isEqualWith=function(t,e,s){var r=(s="function"==typeof s?s:a)?s(t,e):a;return r===a?js(t,e,a,s):!!r},Ua.isError=Wn,Ua.isFinite=function(t){return"number"==typeof t&&ge(t)},Ua.isFunction=Qn,Ua.isInteger=Xn,Ua.isLength=ti,Ua.isMap=si,Ua.isMatch=function(t,e){return t===e||Ts(t,e,mo(e))},Ua.isMatchWith=function(t,e,s){return s="function"==typeof s?s:a,Ts(t,e,mo(e),s)},Ua.isNaN=function(t){return ri(t)&&t!=+t},Ua.isNative=function(t){if(xo(t))throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Os(t)},Ua.isNil=function(t){return null==t},Ua.isNull=function(t){return null===t},Ua.isNumber=ri,Ua.isObject=ei,Ua.isObjectLike=ai,Ua.isPlainObject=oi,Ua.isRegExp=ni,Ua.isSafeInteger=function(t){return Xn(t)&&t>=-9007199254740991&&t<=u},Ua.isSet=ii,Ua.isString=li,Ua.isSymbol=ci,Ua.isTypedArray=di,Ua.isUndefined=function(t){return t===a},Ua.isWeakMap=function(t){return ai(t)&&vo(t)==j},Ua.isWeakSet=function(t){return ai(t)&&"[object WeakSet]"==Ps(t)},Ua.join=function(t,e){return null==t?"":Ue.call(t,e)},Ua.kebabCase=Vi,Ua.last=Yo,Ua.lastIndexOf=function(t,e,s){var r=null==t?0:t.length;if(!r)return-1;var o=r;return s!==a&&(o=(o=vi(s))<0?ha(r+o,0):ya(o,r-1)),e==e?function(t,e,a){for(var s=a+1;s--;)if(t[s]===e)return s;return s}(t,e,o):Be(t,Ve,o,!0)},Ua.lowerCase=Hi,Ua.lowerFirst=Ji,Ua.lt=mi,Ua.lte=ui,Ua.max=function(t){return t&&t.length?vs(t,rl,Es):a},Ua.maxBy=function(t,e){return t&&t.length?vs(t,lo(e,2),Es):a},Ua.mean=function(t){return He(t,rl)},Ua.meanBy=function(t,e){return He(t,lo(e,2))},Ua.min=function(t){return t&&t.length?vs(t,rl,Ls):a},Ua.minBy=function(t,e){return t&&t.length?vs(t,lo(e,2),Ls):a},Ua.stubArray=_l,Ua.stubFalse=bl,Ua.stubObject=function(){return{}},Ua.stubString=function(){return""},Ua.stubTrue=function(){return!0},Ua.multiply=xl,Ua.nth=function(t,e){return t&&t.length?zs(t,vi(e)):a},Ua.noConflict=function(){return ve._===this&&(ve._=qt),this},Ua.noop=cl,Ua.now=Fn,Ua.pad=function(t,e,a){t=yi(t);var s=(e=vi(e))?pa(t):0;if(!e||s>=e)return t;var r=(e-s)/2;return Zr(_e(r),a)+t+Zr(fe(r),a)},Ua.padEnd=function(t,e,a){t=yi(t);var s=(e=vi(e))?pa(t):0;return e&&s<e?t+Zr(e-s,a):t},Ua.padStart=function(t,e,a){t=yi(t);var s=(e=vi(e))?pa(t):0;return e&&s<e?Zr(e-s,a)+t:t},Ua.parseInt=function(t,e,a){return a||null==e?e=0:e&&(e=+e),Ca(yi(t).replace(ot,""),e||0)},Ua.random=function(t,e,s){if(s&&"boolean"!=typeof s&&go(t,e,s)&&(e=s=a),s===a&&("boolean"==typeof e?(s=e,e=a):"boolean"==typeof t&&(s=t,t=a)),t===a&&e===a?(t=0,e=1):(t=fi(t),e===a?(e=t,t=0):e=fi(e)),t>e){var r=t;t=e,e=r}if(s||t%1||e%1){var o=wa();return ya(t+o*(e-t+me("1e-"+((o+"").length-1))),e)}return Ks(t,e)},Ua.reduce=function(t,e,a){var s=Vn(t)?Me:Ge,r=arguments.length<3;return s(t,lo(e,4),a,r,us)},Ua.reduceRight=function(t,e,a){var s=Vn(t)?Le:Ge,r=arguments.length<3;return s(t,lo(e,4),a,r,ps)},Ua.repeat=function(t,e,s){return e=(s?go(t,e,s):e===a)?1:vi(e),Gs(yi(t),e)},Ua.replace=function(){var t=arguments,e=yi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ua.result=function(t,e,s){var r=-1,o=(e=yr(e,t)).length;for(o||(o=1,t=a);++r<o;){var n=null==t?a:t[Mo(e[r])];n===a&&(r=o,n=s),t=Qn(n)?n.call(t):n}return t},Ua.round=kl,Ua.runInContext=t,Ua.sample=function(t){return(Vn(t)?Wa:Ws)(t)},Ua.size=function(t){if(null==t)return 0;if(Jn(t))return li(t)?pa(t):t.length;var e=vo(t);return e==k||e==$?t.size:Rs(t).length},Ua.snakeCase=Ki,Ua.some=function(t,e,s){var r=Vn(t)?Ie:rr;return s&&go(t,e,s)&&(e=a),r(t,lo(e,3))},Ua.sortedIndex=function(t,e){return or(t,e)},Ua.sortedIndexBy=function(t,e,a){return nr(t,e,lo(a,2))},Ua.sortedIndexOf=function(t,e){var a=null==t?0:t.length;if(a){var s=or(t,e);if(s<a&&qn(t[s],e))return s}return-1},Ua.sortedLastIndex=function(t,e){return or(t,e,!0)},Ua.sortedLastIndexBy=function(t,e,a){return nr(t,e,lo(a,2),!0)},Ua.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var a=or(t,e,!0)-1;if(qn(t[a],e))return a}return-1},Ua.startCase=Gi,Ua.startsWith=function(t,e,a){return t=yi(t),a=null==a?0:is(vi(a),0,t.length),e=cr(e),t.slice(a,a+e.length)==e},Ua.subtract=Pl,Ua.sum=function(t){return t&&t.length?Ye(t,rl):0},Ua.sumBy=function(t,e){return t&&t.length?Ye(t,lo(e,2)):0},Ua.template=function(t,e,s){var r=Ua.templateSettings;s&&go(t,e,s)&&(e=a),t=yi(t),e=wi({},e,r,Qr);var o,n,i=wi({},e.imports,r.imports,Qr),l=ji(i),c=ta(i,l),d=0,m=e.interpolate||wt,u="__p += '",p=Dt((e.escape||wt).source+"|"+m.source+"|"+(m===X?pt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),f="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(p,(function(e,a,s,r,i,l){return s||(s=r),u+=t.slice(d,l).replace(xt,na),a&&(o=!0,u+="' +\n__e("+a+") +\n'"),i&&(n=!0,u+="';\n"+i+";\n__p += '"),s&&(u+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),d=l+e.length,e})),u+="';\n";var v=Rt.call(e,"variable")&&e.variable;if(v){if(mt.test(v))throw new kt("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(n?u.replace(Z,""):u).replace(V,"$1").replace(H,"$1;"),u="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(n?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var _=Xi((function(){return Pt(l,f+"return "+u).apply(a,c)}));if(_.source=u,Wn(_))throw _;return _},Ua.times=function(t,e){if((t=vi(t))<1||t>u)return[];var a=f,s=ya(t,f);e=lo(e),t-=f;for(var r=We(s,e);++a<t;)e(a);return r},Ua.toFinite=fi,Ua.toInteger=vi,Ua.toLength=_i,Ua.toLower=function(t){return yi(t).toLowerCase()},Ua.toNumber=bi,Ua.toSafeInteger=function(t){return t?is(vi(t),-9007199254740991,u):0===t?t:0},Ua.toString=yi,Ua.toUpper=function(t){return yi(t).toUpperCase()},Ua.trim=function(t,e,s){if((t=yi(t))&&(s||e===a))return Qe(t);if(!t||!(e=cr(e)))return t;var r=fa(t),o=fa(e);return Cr(r,aa(r,o),sa(r,o)+1).join("")},Ua.trimEnd=function(t,e,s){if((t=yi(t))&&(s||e===a))return t.slice(0,va(t)+1);if(!t||!(e=cr(e)))return t;var r=fa(t);return Cr(r,0,sa(r,fa(e))+1).join("")},Ua.trimStart=function(t,e,s){if((t=yi(t))&&(s||e===a))return t.replace(ot,"");if(!t||!(e=cr(e)))return t;var r=fa(t);return Cr(r,aa(r,fa(e))).join("")},Ua.truncate=function(t,e){var s=30,r="...";if(ei(e)){var o="separator"in e?e.separator:o;s="length"in e?vi(e.length):s,r="omission"in e?cr(e.omission):r}var n=(t=yi(t)).length;if(ia(t)){var i=fa(t);n=i.length}if(s>=n)return t;var l=s-pa(r);if(l<1)return r;var c=i?Cr(i,0,l).join(""):t.slice(0,l);if(o===a)return c+r;if(i&&(l+=c.length-l),ni(o)){if(t.slice(l).search(o)){var d,m=c;for(o.global||(o=Dt(o.source,yi(ft.exec(o))+"g")),o.lastIndex=0;d=o.exec(m);)var u=d.index;c=c.slice(0,u===a?l:u)}}else if(t.indexOf(cr(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},Ua.unescape=function(t){return(t=yi(t))&&G.test(t)?t.replace(J,_a):t},Ua.uniqueId=function(t){var e=++Mt;return yi(t)+e},Ua.upperCase=Yi,Ua.upperFirst=Wi,Ua.each=yn,Ua.eachRight=gn,Ua.first=Ho,ll(Ua,(wl={},gs(Ua,(function(t,e){Rt.call(Ua.prototype,e)||(wl[e]=t)})),wl),{chain:!1}),Ua.VERSION="4.17.21",$e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ua[t].placeholder=Ua})),$e(["drop","take"],(function(t,e){Za.prototype[t]=function(s){s=s===a?1:ha(vi(s),0);var r=this.__filtered__&&!e?new Za(this):this.clone();return r.__filtered__?r.__takeCount__=ya(s,r.__takeCount__):r.__views__.push({size:ya(s,f),type:t+(r.__dir__<0?"Right":"")}),r},Za.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),$e(["filter","map","takeWhile"],(function(t,e){var a=e+1,s=1==a||3==a;Za.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:a}),e.__filtered__=e.__filtered__||s,e}})),$e(["head","last"],(function(t,e){var a="take"+(e?"Right":"");Za.prototype[t]=function(){return this[a](1).value()[0]}})),$e(["initial","tail"],(function(t,e){var a="drop"+(e?"":"Right");Za.prototype[t]=function(){return this.__filtered__?new Za(this):this[a](1)}})),Za.prototype.compact=function(){return this.filter(rl)},Za.prototype.find=function(t){return this.filter(t).head()},Za.prototype.findLast=function(t){return this.reverse().find(t)},Za.prototype.invokeMap=Ys((function(t,e){return"function"==typeof t?new Za(this):this.map((function(a){return Ss(a,t,e)}))})),Za.prototype.reject=function(t){return this.filter(Rn(lo(t)))},Za.prototype.slice=function(t,e){t=vi(t);var s=this;return s.__filtered__&&(t>0||e<0)?new Za(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),e!==a&&(s=(e=vi(e))<0?s.dropRight(-e):s.take(e-t)),s)},Za.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Za.prototype.toArray=function(){return this.take(f)},gs(Za.prototype,(function(t,e){var s=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Ua[r?"take"+("last"==e?"Right":""):e],n=r||/^find/.test(e);o&&(Ua.prototype[e]=function(){var e=this.__wrapped__,i=r?[1]:arguments,l=e instanceof Za,c=i[0],d=l||Vn(e),m=function(t){var e=o.apply(Ua,Re([t],i));return r&&u?e[0]:e};d&&s&&"function"==typeof c&&1!=c.length&&(l=d=!1);var u=this.__chain__,p=!!this.__actions__.length,f=n&&!u,v=l&&!p;if(!n&&d){e=v?e:new Za(this);var _=t.apply(e,i);return _.__actions__.push({func:fn,args:[m],thisArg:a}),new za(_,u)}return f&&v?t.apply(this,i):(_=this.thru(m),f?r?_.value()[0]:_.value():_)})})),$e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=At[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);Ua.prototype[t]=function(){var t=arguments;if(s&&!this.__chain__){var r=this.value();return e.apply(Vn(r)?r:[],t)}return this[a]((function(a){return e.apply(Vn(a)?a:[],t)}))}})),gs(Za.prototype,(function(t,e){var a=Ua[e];if(a){var s=a.name+"";Rt.call(Aa,s)||(Aa[s]=[]),Aa[s].push({name:e,func:a})}})),Aa[Ur(a,2).name]=[{name:"wrapper",func:a}],Za.prototype.clone=function(){var t=new Za(this.__wrapped__);return t.__actions__=$r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=$r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=$r(this.__views__),t},Za.prototype.reverse=function(){if(this.__filtered__){var t=new Za(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Za.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,a=Vn(t),s=e<0,r=a?t.length:0,o=function(t,e,a){var s=-1,r=a.length;for(;++s<r;){var o=a[s],n=o.size;switch(o.type){case"drop":t+=n;break;case"dropRight":e-=n;break;case"take":e=ya(e,t+n);break;case"takeRight":t=ha(t,e-n)}}return{start:t,end:e}}(0,r,this.__views__),n=o.start,i=o.end,l=i-n,c=s?i:n-1,d=this.__iteratees__,m=d.length,u=0,p=ya(l,this.__takeCount__);if(!a||!s&&r==l&&p==l)return fr(t,this.__actions__);var f=[];t:for(;l--&&u<p;){for(var v=-1,_=t[c+=e];++v<m;){var b=d[v],h=b.iteratee,y=b.type,g=h(_);if(2==y)_=g;else if(!g){if(1==y)continue t;break t}}f[u++]=_}return f},Ua.prototype.at=vn,Ua.prototype.chain=function(){return pn(this)},Ua.prototype.commit=function(){return new za(this.value(),this.__chain__)},Ua.prototype.next=function(){this.__values__===a&&(this.__values__=pi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?a:this.__values__[this.__index__++]}},Ua.prototype.plant=function(t){for(var e,s=this;s instanceof Ba;){var r=Io(s);r.__index__=0,r.__values__=a,e?o.__wrapped__=r:e=r;var o=r;s=s.__wrapped__}return o.__wrapped__=t,e},Ua.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Za){var e=t;return this.__actions__.length&&(e=new Za(this)),(e=e.reverse()).__actions__.push({func:fn,args:[tn],thisArg:a}),new za(e,this.__chain__)}return this.thru(tn)},Ua.prototype.toJSON=Ua.prototype.valueOf=Ua.prototype.value=function(){return fr(this.__wrapped__,this.__actions__)},Ua.prototype.first=Ua.prototype.head,Qt&&(Ua.prototype[Qt]=function(){return this}),Ua}();be?((be.exports=ba)._=ba,_e._=ba):ve._=ba}).call(yt)})),cs=function(){function t(e){o(this,t),this.config=ns({routePrefix:"media-library-pro",immutable:!1,validationRules:{accept:[],minSizeInKB:0,maxSizeInKB:0},maxSizeForPreviewInBytes:5242880,vapor:!1,vaporSignedStorageUrl:"/vapor/signed-storage-url",uploadDomain:"",withCredentials:!0,headers:{},beforeUpload:function(){},afterUpload:function(){}},e.config);var a=e.initialValue?Array.isArray(e.initialValue)?e.initialValue:Object.values(e.initialValue):[];this.state={media:a.map(this.createMedia),invalidMedia:[],validationErrors:e.validationErrors||{}},this.translations=window.mediaLibraryTranslations||e.translations?ns(is,window.mediaLibraryTranslations||e.translations):is,window.mediaLibraryTranslations=this.translations,this.subscribers=[]}var e,a,s,r,n;return i(t,[{key:"createMedia",value:function(t){if(!t.uuid)throw new Error("media-library-pro-core: A media object requires a uuid");return{attributes:x(x({uuid:"",order:0,name:"",preview_url:null,original_url:null},t),{},{custom_properties:"string"==typeof t.custom_properties?JSON.parse(t.custom_properties):t.custom_properties||{}}),client_preview:null,clientValidationErrors:[],upload:{uploadProgress:100,hasFinishedUploading:!0,hadErrorWhileUploading:!1,errorMessage:null,cancelTokenSource:null}}}},{key:"hasUploadsInProgress",get:function(){return this.state.media.some((function(t){return!t.upload.hasFinishedUploading}))}},{key:"hasValidationErrors",get:function(){return this.state.media.some((function(t){return t.clientValidationErrors.length}))}},{key:"isReadyToSubmit",get:function(){return!(this.hasUploadsInProgress||this.hasValidationErrors)}},{key:"value",get:function(){return this.state.media.map((function(t){return t.attributes}))}},{key:"getErrors",value:function(t){var e=this.state.media.find((function(e){return e.attributes.uuid===t}));if(!e)return[];var a=[];return e.upload.errorMessage&&a.push(e.upload.errorMessage),e.clientValidationErrors.length&&(a=a.concat(e.clientValidationErrors)),this.state.validationErrors[t]&&(a=a.concat(this.state.validationErrors[t])),a}},{key:"clearObjectErrors",value:function(t){var e=ma(this.state,t);-1!==e&&this.changeState((function(t){t.media[e].clientValidationErrors=[],t.media[e].upload.hadErrorWhileUploading=!1,t.media[e].upload.errorMessage=null})),this.state.validationErrors[t]&&this.setValidationErrors(x(x({},this.state.validationErrors),{},f({},t,[])))}},{key:"changeState",value:function(t){var e=this;this.config.immutable?this.state=ht(this.state,t):t(this.state),this.subscribers.forEach((function(t){t(e.state)}))}},{key:"subscribe",value:function(t){this.subscribers.push(t)}},{key:"addInvalidMedia",value:(n=y(C.mark((function t(e,a){var s;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ss(e,this.config.maxSizeForPreviewInBytes);case 2:s=t.sent,this.changeState((function(t){t.invalidMedia.push({attributes:{name:e.name},client_preview:s,errors:a})}));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"clearInvalidMedia",value:function(){this.changeState((function(t){t.invalidMedia=[]}))}},{key:"addFile",value:(r=y(C.mark((function t(e){var a,s,r,o,n,i,l;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getFileValidationErrors(e);case 2:if(!(a=t.sent).length){t.next=6;break}return this.addInvalidMedia(e,a),t.abrupt("return");case 6:return s=jt.v4(),r=ts(),o={attributes:{uuid:s,name:e.name,order:this.state.media.length,custom_properties:{},preview_url:null,original_url:null,extension:e.name.split(".").pop(),size:e.size},client_preview:null,clientValidationErrors:[],upload:{uploadProgress:0,hasFinishedUploading:!1,hadErrorWhileUploading:!1,errorMessage:null,cancelTokenSource:r}},this.setClientPreview(s,e),this.addMediaObject(o),t.next=13,this.upload(s,e,r);case 13:n=t.sent,i=n.success,l=n.error,i||(this.removeMedia(s),this.addInvalidMedia(e,[l]));case 17:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setClientPreview",value:(s=y(C.mark((function t(e,a){var s;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ss(a,this.config.maxSizeForPreviewInBytes);case 2:s=t.sent,this.setProperty(e,"client_preview",s);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"getFileValidationErrors",value:(a=y(C.mark((function t(e){var a;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],this.config.validationRules&&(rs(e.type,this.config.validationRules.accept)||a.push("".concat(this.translations.fileTypeNotAllowed," ").concat(this.config.validationRules.accept.join(", "))),this.config.validationRules.maxSizeInKB&&e.size/1024>this.config.validationRules.maxSizeInKB&&a.push("".concat(this.translations.tooLarge," ").concat(this.config.validationRules.maxSizeInKB,"KB")),this.config.validationRules.minSizeInKB&&e.size/1024<this.config.validationRules.minSizeInKB&&a.push("".concat(this.translations.tooSmall," ").concat(this.config.validationRules.minSizeInKB,"KB"))),t.prev=2,t.next=5,Promise.resolve(this.config.beforeUpload(e,{axiosInstance:es}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),t.t0&&a.push(t.t0.message||t.t0);case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return a.apply(this,arguments)})},{key:"addMediaObject",value:function(t){this.changeState((function(e){e.media.push(t)}))}},{key:"removeMedia",value:function(t){var e=ma(this.state,t);-1!==e&&(this.cancelUpload(t),this.changeState((function(t){t.media.splice(e,1)})))}},{key:"cancelUpload",value:function(t){var e=ma(this.state,t);if(-1!==e){var a=this.state.media[e];!a.upload.hasFinishedUploading&&a.upload.cancelTokenSource&&a.upload.cancelTokenSource.cancel(),this.setProperty(t,"upload",{uploadProgress:0,hasFinishedUploading:!0,hadErrorWhileUploading:!1,errorMessage:null,cancelTokenSource:null})}}},{key:"setProperty",value:function(t,e,a){var s=ma(this.state,t);-1!==s&&this.changeState((function(t){da(t.media[s],e,a)}))}},{key:"setCustomProperty",value:function(t,e,a){var s=ma(this.state,t);this.changeState((function(t){t.media[s].attributes.custom_properties=x(x({},t.media[s].attributes.custom_properties),{},f({},e,a))}))}},{key:"setOrder",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.changeState((function(a){e&&a.media.sort((function(e,a){return t.indexOf(e.attributes.uuid)>t.indexOf(a.attributes.uuid)?1:-1})),a.media=a.media.map((function(t,e){return x(x({},t),{},{attributes:x(x({},t.attributes),{},{order:e})})}))}))}},{key:"setClientValidationErrors",value:function(t,e){var a=ma(this.state,t);-1!==a&&this.changeState((function(t){t.media[a].clientValidationErrors=e}))}},{key:"setValidationErrors",value:function(t){this.changeState((function(e){e.validationErrors=t}))}},{key:"getCustomPropertyInputErrors",value:function(t,e){return this.state.validationErrors&&"object"===b(this.state.validationErrors)&&Object.keys(this.state.validationErrors).length&&this.state.validationErrors["".concat(t,".custom_properties.").concat(e)]||[]}},{key:"getNameInputErrors",value:function(t){return this.state.validationErrors&&this.state.validationErrors["".concat(t,".name")]||[]}},{key:"upload",value:function(t,e,a){var s=this;return new Promise((function(r){s.setProperty(t,"upload.errorMessage",null),s.setProperty(t,"upload.hasFinishedUploading",!1),function(t){return as.apply(this,arguments)}({routePrefix:s.config.routePrefix,file:e,uuid:t,cancelTokenSource:a,vapor:s.config.vapor,vaporSignedStorageUrl:s.config.vaporSignedStorageUrl,uploadDomain:s.config.uploadDomain,withCredentials:s.config.withCredentials,headers:s.config.headers,onUploadProgress:function(e){0!==e.total&&s.setProperty(t,"upload.uploadProgress",e.loaded/e.total*100)}}).then((function(e){var a=t;s.config.vapor&&(a=e.data.uuid,s.setProperty(t,"attributes.uuid",a)),s.setProperty(a,"attributes.preview_url",e.data.preview_url),s.setProperty(a,"attributes.original_url",e.data.original_url),s.setProperty(a,"attributes.size",e.data.size),s.setProperty(a,"attributes.extension",e.data.extension),s.setProperty(a,"upload",{uploadProgress:100,hasFinishedUploading:!0,hadErrorWhileUploading:!1,errorMessage:null}),s.config.afterUpload({success:!0,uuid:a}),r({success:!0})})).catch((function(e){if(e.__CANCEL__)return r({success:!0});var a=e.message||s.translations.somethingWentWrong;s.setProperty(t,"upload",{uploadProgress:0,hasFinishedUploading:!0,hadErrorWhileUploading:!0,errorMessage:a+" - "+s.translations.tryAgain}),s.config.afterUpload({success:!1,uuid:t}),r({success:!1,error:a})}))}))}},{key:"replaceMedia",value:(e=y(C.mark((function t(e,a){var s,r,o,n,i,l,c;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setClientValidationErrors(e,[]),t.next=3,this.getFileValidationErrors(a);case 3:if(!(s=t.sent).length){t.next=6;break}return t.abrupt("return",this.setClientValidationErrors(e,s));case 6:if(this.cancelUpload(e),r=ma(this.state,e),o=ls.cloneDeep(this.state.media[r]),-1!==r){t.next=11;break}return t.abrupt("return");case 11:return n=jt.v4(),i=ts(),l=Object.entries(this.state.validationErrors).reduce((function(t,a){var s=p(a,2),r=s[0],o=s[1];return t[r.replace(e,n)]=o,t}),{}),this.changeState((function(t){t.media[r].attributes.uuid=n,t.media[r].attributes.preview_url=null,t.media[r].attributes.size=a.size,t.media[r].attributes.extension=a.name.split(".").pop(),t.media[r].client_preview=null,t.media[r].upload.cancelTokenSource=i,t.validationErrors=l})),this.setClientPreview(n,a),t.next=18,this.upload(n,a,i);case 18:if(t.sent.success){t.next=25;break}if(-1!==(c=ma(this.state,n))){t.next=24;break}return t.abrupt("return");case 24:this.changeState((function(t){t.media[c].attributes=x(x({},o.attributes),{},{order:t.media[c].attributes.order,name:t.media[c].attributes.name,custom_properties:t.media[c].attributes.custom_properties}),t.media[c].clientValidationErrors=o.clientValidationErrors,t.media[c].client_preview=o.client_preview,t.media[c].upload=x(x({},o.upload),{},{errorMessage:t.media[c].upload.errorMessage})}));case 25:case"end":return t.stop()}}),t,this)}))),function(t,a){return e.apply(this,arguments)})}]),t}();function ds(t){return null==t?"":["string","number"].includes(b(t))?t:JSON.stringify(t)}function ms(t,e){return"".concat(t?t+" | ":"").concat(e)}var us=Array.isArray,ps=_((function(t){function e(a){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(a)}t.exports=e})),fs="object"==ps(v)&&v&&v.Object===Object&&v,vs="object"==("undefined"==typeof self?"undefined":ps(self))&&self&&self.Object===Object&&self,_s=fs||vs||Function("return this")(),bs=_s.Symbol,hs=Object.prototype,ys=hs.hasOwnProperty,gs=hs.toString,Cs=bs?bs.toStringTag:void 0;var ws=function(t){var e=ys.call(t,Cs),a=t[Cs];try{t[Cs]=void 0;var s=!0}catch(t){}var r=gs.call(t);return s&&(e?t[Cs]=a:delete t[Cs]),r},xs=Object.prototype.toString;var ks=function(t){return xs.call(t)},Ps=bs?bs.toStringTag:void 0;var Es=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ps&&Ps in Object(t)?ws(t):ks(t)};var Fs=function(t){return null!=t&&"object"==ps(t)};var Ds=function(t){return"symbol"==ps(t)||Fs(t)&&"[object Symbol]"==Es(t)},$s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ss=/^\w*$/;var As=function(t,e){if(us(t))return!1;var a=ps(t);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!Ds(t))||(Ss.test(t)||!$s.test(t)||null!=e&&t in Object(e))};var js=function(t){var e=ps(t);return null!=t&&("object"==e||"function"==e)};var Ts=function(t){if(!js(t))return!1;var e=Es(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Os=_s["__core-js_shared__"],Ns=function(){var t=/[^.]+$/.exec(Os&&Os.keys&&Os.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var Rs=function(t){return!!Ns&&Ns in t},Ms=Function.prototype.toString;var Ls=function(t){if(null!=t){try{return Ms.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Is=/^\[object .+?Constructor\]$/,Us=Function.prototype,qs=Object.prototype,Bs=Us.toString,zs=qs.hasOwnProperty,Zs=RegExp("^"+Bs.call(zs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Vs=function(t){return!(!js(t)||Rs(t))&&(Ts(t)?Zs:Is).test(Ls(t))};var Hs=function(t,e){return null==t?void 0:t[e]};var Js=function(t,e){var a=Hs(t,e);return Vs(a)?a:void 0},Ks=Js(Object,"create");var Gs=function(){this.__data__=Ks?Ks(null):{},this.size=0};var Ys=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ws=Object.prototype.hasOwnProperty;var Qs=function(t){var e=this.__data__;if(Ks){var a=e[t];return"__lodash_hash_undefined__"===a?void 0:a}return Ws.call(e,t)?e[t]:void 0},Xs=Object.prototype.hasOwnProperty;var tr=function(t){var e=this.__data__;return Ks?void 0!==e[t]:Xs.call(e,t)};var er=function(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Ks&&void 0===e?"__lodash_hash_undefined__":e,this};function ar(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}ar.prototype.clear=Gs,ar.prototype.delete=Ys,ar.prototype.get=Qs,ar.prototype.has=tr,ar.prototype.set=er;var sr=ar;var rr=function(){this.__data__=[],this.size=0};var or=function(t,e){return t===e||t!=t&&e!=e};var nr=function(t,e){for(var a=t.length;a--;)if(or(t[a][0],e))return a;return-1},ir=Array.prototype.splice;var lr=function(t){var e=this.__data__,a=nr(e,t);return!(a<0)&&(a==e.length-1?e.pop():ir.call(e,a,1),--this.size,!0)};var cr=function(t){var e=this.__data__,a=nr(e,t);return a<0?void 0:e[a][1]};var dr=function(t){return nr(this.__data__,t)>-1};var mr=function(t,e){var a=this.__data__,s=nr(a,t);return s<0?(++this.size,a.push([t,e])):a[s][1]=e,this};function ur(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}ur.prototype.clear=rr,ur.prototype.delete=lr,ur.prototype.get=cr,ur.prototype.has=dr,ur.prototype.set=mr;var pr=ur,fr=Js(_s,"Map");var vr=function(){this.size=0,this.__data__={hash:new sr,map:new(fr||pr),string:new sr}};var _r=function(t){var e=ps(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var br=function(t,e){var a=t.__data__;return _r(e)?a["string"==typeof e?"string":"hash"]:a.map};var hr=function(t){var e=br(this,t).delete(t);return this.size-=e?1:0,e};var yr=function(t){return br(this,t).get(t)};var gr=function(t){return br(this,t).has(t)};var Cr=function(t,e){var a=br(this,t),s=a.size;return a.set(t,e),this.size+=a.size==s?0:1,this};function wr(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var s=t[e];this.set(s[0],s[1])}}wr.prototype.clear=vr,wr.prototype.delete=hr,wr.prototype.get=yr,wr.prototype.has=gr,wr.prototype.set=Cr;var xr=wr;function kr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var a=function a(){var s=arguments,r=e?e.apply(this,s):s[0],o=a.cache;if(o.has(r))return o.get(r);var n=t.apply(this,s);return a.cache=o.set(r,n)||o,n};return a.cache=new(kr.Cache||xr),a}kr.Cache=xr;var Pr=kr;var Er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fr=/\\(\\)?/g,Dr=function(t){var e=Pr(t,(function(t){return 500===a.size&&a.clear(),t})),a=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Er,(function(t,a,s,r){e.push(s?r.replace(Fr,"$1"):a||t)})),e}));var $r=function(t,e){for(var a=-1,s=null==t?0:t.length,r=Array(s);++a<s;)r[a]=e(t[a],a,t);return r},Sr=bs?bs.prototype:void 0,Ar=Sr?Sr.toString:void 0;var jr=function t(e){if("string"==typeof e)return e;if(us(e))return $r(e,t)+"";if(Ds(e))return Ar?Ar.call(e):"";var a=e+"";return"0"==a&&1/e==-Infinity?"-0":a};var Tr=function(t){return null==t?"":jr(t)};var Or=function(t,e){return us(t)?t:As(t,e)?[t]:Dr(Tr(t))};var Nr=function(t){if("string"==typeof t||Ds(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var Rr=function(t,e){for(var a=0,s=(e=Or(e,t)).length;null!=t&&a<s;)t=t[Nr(e[a++])];return a&&a==s?t:void 0};var Mr=function(t,e,a){var s=null==t?void 0:Rr(t,e);return void 0===s?a:s};function Lr(t,e,a,s,r,o,n,i,l,c){"boolean"!=typeof n&&(l=i,i=n,n=!1);var d,m="function"==typeof a?a.options:a;if(t&&t.render&&(m.render=t.render,m.staticRenderFns=t.staticRenderFns,m._compiled=!0,r&&(m.functional=!0)),s&&(m._scopeId=s),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},m._ssrRegister=d):e&&(d=n?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),d)if(m.functional){var u=m.render;m.render=function(t,e){return d.call(e),u(t,e)}}else{var p=m.beforeCreate;m.beforeCreate=p?[].concat(p,d):[d]}return a}var Ir=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("symbol",{attrs:{id:"icon-add",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M46.12,30.07h-12v-12c0-1.1-0.9-2-2-2s-2,0.9-2,2v12h-12c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2h12v12c0,1.1,0.9,2,2,2\n                s2-0.9,2-2v-12h12c1.1,0,2-0.9,2-2C48.12,30.97,47.22,30.07,46.12,30.07z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-not-allowed",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M32.12,8.07c-13.25,0-24,10.75-24,24c0,13.25,10.75,24,24,24s24-10.75,24-24C56.12,18.82,45.37,8.07,32.12,8.07z\n        M32.12,12.07c4.8,0,9.2,1.7,12.65,4.52L16.64,44.72c-2.82-3.45-4.52-7.85-4.52-12.65C12.12,21.04,21.09,12.07,32.12,12.07z\n        M32.12,52.07c-4.8,0-9.2-1.7-12.65-4.52l28.13-28.13c2.82,3.45,4.52,7.85,4.52,12.65C52.12,43.1,43.14,52.07,32.12,52.07z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-success",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M28.6,45.71c-0.82,0-1.61-0.34-2.18-0.93l-9.87-10.39c-1.14-1.2-1.09-3.1,0.11-4.24c1.2-1.14,3.1-1.09,4.24,0.11l7.47,7.86\n            L42.9,19.45c1.02-1.31,2.9-1.54,4.21-0.53c1.31,1.02,1.54,2.9,0.53,4.21L30.97,44.55c-0.54,0.69-1.35,1.11-2.22,1.15\n            C28.7,45.71,28.65,45.71,28.6,45.71z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-error",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M32.12,16.07c-1.66,0-3,1.34-3,3v16c0,1.66,1.34,3,3,3s3-1.34,3-3v-16C35.12,17.41,33.77,16.07,32.12,16.07z"}}),t._v(" "),a("circle",{staticClass:"media-library-icon-fill",attrs:{cx:"32.12",cy:"45.07",r:"3"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-replace",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M40.12,39.28H20.77l2.17-2.17c0.78-0.78,0.78-2.05,0-2.83c-0.78-0.78-2.05-0.78-2.83,0l-5.59,5.59\n                            c-0.38,0.38-0.59,0.88-0.59,1.41s0.21,1.04,0.59,1.41l5.59,5.59c0.39,0.39,0.9,0.59,1.41,0.59s1.02-0.2,1.41-0.59\n                            c0.78-0.78,0.78-2.05,0-2.83l-2.18-2.18h19.35c1.1,0,2-0.9,2-2S41.22,39.28,40.12,39.28z"}}),t._v(" "),a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M49.71,23.86l-8-8c-0.78-0.78-2.05-0.78-2.83,0c-0.78,0.78-0.78,2.05,0,2.83l4.59,4.59H15.94c-1.1,0-2,0.9-2,2s0.9,2,2,2\n                h27.53l-4.59,4.59c-0.78,0.78-0.78,2.05,0,2.83c0.39,0.39,0.9,0.59,1.41,0.59s1.02-0.2,1.41-0.59l8-8\n                C50.49,25.91,50.49,24.64,49.71,23.86z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-drag",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M46,30H18c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2C48,30.9,47.1,30,46,30z"}}),t._v(" "),a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M46,42H18c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2C48,42.9,47.1,42,46,42z"}}),t._v(" "),a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M18,22h28c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2H18c-1.1,0-2,0.9-2,2C16,21.1,16.9,22,18,22z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-up",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M41.41,27.82l-8-8c-0.78-0.78-2.05-0.78-2.83,0l-8,8c-0.78,0.78-0.78,2.05,0,2.83c0.78,0.78,2.05,0.78,2.83,0L30,26.06v16.7\n        c0,1.1,0.9,2,2,2s2-0.9,2-2v-16.7l4.59,4.59c0.39,0.39,0.9,0.59,1.41,0.59s1.02-0.2,1.41-0.59C42.2,29.87,42.2,28.6,41.41,27.82z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-down",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M22.59,36.18l8,8c0.78,0.78,2.05,0.78,2.83,0l8-8c0.78-0.78,0.78-2.05,0-2.83c-0.78-0.78-2.05-0.78-2.83,0L34,37.94v-16.7\n        c0-1.1-0.9-2-2-2s-2,0.9-2,2v16.7l-4.59-4.59c-0.39-0.39-0.9-0.59-1.41-0.59s-1.02,0.2-1.41,0.59C21.8,34.13,21.8,35.4,22.59,36.18z\n        "}})]),t._v(" "),a("symbol",{attrs:{id:"icon-remove",viewBox:"0 0 64 64"}},[a("path",{staticClass:"media-library-icon-fill",attrs:{d:"M43.4,40.6l-8.5-8.5l8.5-8.5c0.8-0.8,0.8-2.1,0-2.8s-2.1-0.8-2.8,0l-8.5,8.5l-8.5-8.5c-0.8-0.8-2.1-0.8-2.8,0\n            c-0.8,0.8-0.8,2.1,0,2.8l8.5,8.5l-8.5,8.5c-0.8,0.8-0.8,2.1,0,2.8c0.8,0.8,2.1,0.8,2.8,0l8.5-8.5l8.5,8.5c0.8,0.8,2.1,0.8,2.8,0\n            C44.2,42.6,44.2,41.3,43.4,40.6z"}})])])},staticRenderFns:[]},undefined,{},undefined,false,undefined,!1,void 0,void 0,void 0),Ur=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"media-library-icon"},[a("use",{attrs:{"xlink:href":"#icon-"+t.icon}})])},staticRenderFns:[]},undefined,{props:{icon:{required:!0,type:String}}},undefined,false,undefined,!1,void 0,void 0,void 0),qr=s.default.extend({props:{name:{required:!1,type:String},routePrefix:{required:!1,type:String},initialValue:{default:function(){return[]},type:Array|Object},validationErrors:{default:function(){return{}},type:[Object,Array]},validationRules:{required:!1,type:Object},translations:{required:!1,type:Object},multiple:{default:!0,type:Boolean},maxItems:{required:!1,type:Number},maxSizeForPreviewInBytes:{required:!1,type:Number},vapor:{required:!1,type:Boolean},vaporSignedStorageUrl:{required:!1,type:String},uploadDomain:{required:!1,type:String},withCredentials:{required:!1,type:Boolean},headers:{required:!1,type:Object},beforeUpload:{default:function(){},type:Function},afterUpload:{default:function(){},type:Function}},data:function(){return{state:{media:[],invalidMedia:[],validationErrors:{}},mediaLibrary:new cs({config:{immutable:!1,routePrefix:this.routePrefix,validationRules:this.validationRules,maxSizeForPreviewInBytes:this.maxSizeForPreviewInBytes,vapor:this.vapor,vaporSignedStorageUrl:this.vaporSignedStorageUrl,uploadDomain:this.uploadDomain,withCredentials:this.withCredentials,headers:this.headers,beforeUpload:this.beforeUpload,afterUpload:this.afterUpload},initialValue:this.initialValue,validationErrors:this.validationErrors,translations:this.translations})}},created:function(){var t=this;this.state=this.mediaLibrary.state,this.mediaLibrary.subscribe((function(e){t.$emit("changed",e.media.reduce((function(t,e){return t[e.attributes.uuid]=e.attributes,t}),{}))}))},watch:{validationErrors:{deep:!0,immediate:!0,handler:function(t){var e,a,s;this.mediaLibrary.setValidationErrors(t?(e=this.name||"",a=t,s="".concat(e,"."),Object.entries(a).reduce((function(t,e){var a=p(e,2),r=a[0],o=a[1];return r.startsWith(s)&&(t[r.replace(s,"")]=o),t}),{})):{})}},isReadyToSubmit:{immediate:!0,handler:function(t){this.$emit("is-ready-to-submit-change",t)}},hasUploadsInProgress:{immediate:!0,handler:function(t){this.$emit("has-uploads-in-progress-change",t)}}},methods:{getImgProps:function(t){var e=t.attributes.name?t.attributes.name.split(".").pop():"";return{src:t.attributes.preview_url||t.client_preview,alt:t.attributes.name,extension:e,size:t.attributes.size}},getCustomPropertyInputProps:function(t,e){return{value:ds(Mr(t.attributes.custom_properties,e))}},getCustomPropertyInputListeners:function(t,e){var a=this;return{input:function(s){return a.mediaLibrary.setCustomProperty(t.attributes.uuid,e,s.target.value)}}},getCustomPropertyInputErrors:function(t,e){return this.mediaLibrary.getCustomPropertyInputErrors(t.attributes.uuid,e)},getNameInputProps:function(t){return{value:Mr(t,"attributes.name")}},getNameInputListeners:function(t){var e=this;return{input:function(a){return e.mediaLibrary.setProperty(t.attributes.uuid,"attributes.name",a.target.value)}}},getNameInputErrors:function(t){return this.mediaLibrary.getNameInputErrors(t.attributes.uuid)},getFileInputProps:function(){return{accept:this.validationRules&&this.validationRules.accept?this.validationRules.accept.join(","):""}},getFileInputListeners:function(){var t=this;return{changed:function(e){return t.addFiles(e.target.files)}}},getDropZoneProps:function(){return{validationRules:this.validationRules,maxItems:this.maxItems}},getDropZoneListeners:function(){var t=this;return{dropped:function(e){t.addFiles(e.dataTransfer.files)}}},addFiles:function(t){var e=this;if(this.multiple){var a=this.maxItems?this.maxItems-this.mediaLibrary.state.media.length:void 0;return Array.from(t).slice(0,a).forEach((function(t){return e.mediaLibrary.addFile(t)}))}var s=t[0],r=this.mediaLibrary.state.media[0];if(r)return this.mediaLibrary.replaceMedia(r.attributes.uuid,s);this.mediaLibrary.addFile(s)},removeMedia:function(t){this.mediaLibrary.removeMedia(t.attributes.uuid)},setProperty:function(t,e,a){this.mediaLibrary.setProperty(t.attributes.uuid,e,a)},setCustomProperty:function(t,e,a){this.mediaLibrary.setCustomProperty(t.attributes.uuid,e,a)},setOrder:function(t){this.mediaLibrary.setOrder(t)},replaceMedia:function(t,e){this.mediaLibrary.replaceMedia(t.attributes.uuid,e)},addFile:function(t){this.mediaLibrary.addFile(t)},getErrors:function(t){return this.mediaLibrary.getErrors(t.attributes.uuid)},clearObjectErrors:function(t){return this.mediaLibrary.clearObjectErrors(t.attributes.uuid)},clearInvalidMedia:function(){return this.mediaLibrary.clearInvalidMedia()}},computed:{hasUploadsInProgress:function(){return this.$data.mediaLibrary.hasUploadsInProgress},isReadyToSubmit:function(){return this.$data.mediaLibrary.isReadyToSubmit}},render:function(){if(this.$scopedSlots.default)return this.$scopedSlots.default(this);throw new Error("media-library-pro-vue2: no scoped slot was found.")}}),Br={props:{name:{required:!0,type:String},mediaState:{default:function(){return[]},type:Array}},methods:{getObjPaths:function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce((function(s,r){var o=a+"[".concat(r,"]");return"object"===b(e[r])&&null!==e[r]?s.concat(t(e[r],o)):s.concat(o)}),[])},sanitizeForInput:ds,get:Mr}},zr=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"none"}},[t._l(t.mediaState,(function(e,s){return[t._l(t.getObjPaths(e.attributes),(function(r){return[a("input",{key:s+r,attrs:{name:t.name+"["+e.attributes.uuid+"]"+r,type:"hidden"},domProps:{value:t.sanitizeForInput(t.get(e.attributes,r))}})]}))]}))],2)},staticRenderFns:[]},undefined,Br,undefined,false,undefined,!1,void 0,void 0,void 0),Zr=Lr({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",t._b({on:{drop:t.handleDrop,click:function(e){return e.stopPropagation(),t.$emit("clicked")}}},"div",t.$attrs,!1),[t._t("default",null,null,t.$data)],2)},staticRenderFns:[]},undefined,{props:{validationAccept:{default:function(){return[]},type:Array}},emits:["clicked","dropped"],data:function(){return{hasDragObject:!1,isDropTarget:!1,isValid:!0}},mounted:function(){document.addEventListener("dragenter",this.handleDocumentDragenter),document.addEventListener("dragleave",this.handleDocumentDragleave),document.addEventListener("dragover",this.handleDocumentDragOver),document.addEventListener("drop",this.handleDocumentDrop)},beforeDestroy:function(){document.removeEventListener("dragenter",this.handleDocumentDragenter),document.removeEventListener("dragleave",this.handleDocumentDragleave),document.removeEventListener("dragover",this.handleDocumentDragOver),document.removeEventListener("drop",this.handleDocumentDrop)},methods:{handleDocumentDragenter:function(t){t.preventDefault(),this.testIfValid(t),this.hasDragObject=!0},handleDocumentDragleave:function(t){t.clientX||t.clientY||(t.preventDefault(),this.hasDragObject=!1)},handleDocumentDrop:function(t){t.preventDefault(),this.hasDragObject=!1},handleDocumentDragOver:function(t){if(t.preventDefault(),!this.$el.contains(t.target))return this.isDropTarget=!1;this.isDropTarget=!0},handleDrop:function(t){t.preventDefault(),t.dataTransfer.files.length&&this.$emit("dropped",t),this.hasDragObject=!1,this.isDropTarget=!1},testIfValid:function(t){var e=this;return t.dataTransfer.items&&t.dataTransfer.items.length&&this.validationAccept&&this.validationAccept.length?void(this.isValid=Array.from(t.dataTransfer.items).every((function(t){return rs(t.type,e.validationAccept)}))):this.isValid=!0}}},undefined,false,undefined,!1,void 0,void 0,void 0),Vr=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.objectErrors.length>0?a("div",{staticClass:"media-library-properties"},[a("span",{staticClass:"media-library-text-error"},t._l(t.objectErrors,(function(e){return a("span",{key:e},[t._v(t._s(e))])})),0),t._v(" "),a("a",{staticClass:"media-library-text-link media-library-text-error media-library-help-clear",on:{click:function(e){return e.stopPropagation(),t.$emit("back")}}},[t._v("\n        "+t._s(t.window.mediaLibraryTranslations.goBack)+"\n    ")])]):t._e()},staticRenderFns:[]},undefined,{props:{objectErrors:{required:!0,type:Array}},data:function(){return{window}},emits:["back"]},undefined,false,undefined,!1,void 0,void 0,void 0),Hr=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.invalidMedia.length||t.topLevelErrors.length&&!t.hideTopLevelErrors?a("div",{staticClass:"media-library-listerrors"},[a("ul",[t.hideTopLevelErrors?t._e():t._l(t.topLevelErrors,(function(t,e){return a("list-error",{key:"top-level-"+e,attrs:{title:t}})})),t._v(" "),t._l(Object.entries(t.groupedInvalidMedia),(function(e,s){var r=e[0],o=e[1];return a("list-error",{key:s,attrs:{title:r}},t._l(o,(function(e,s){return a("li",{key:s,staticClass:"media-library-listerror-item"},[a("div",{staticClass:"media-library-listerror-thumb"},[a("object-preview",{attrs:{client_preview:e.client_preview||"",name:e.attributes.name}})],1),t._v(" "),a("div",{staticClass:"media-library-listerror-text"},[t._v(t._s(e.attributes.name))])])})),0)}))],2),t._v(" "),a("div",{staticClass:"media-library-row-remove media-library-text-error",on:{click:function(e){return e.stopPropagation(),t.onClearClick(e)}}},[a("icon",{attrs:{icon:"remove"}})],1)]):t._e()},staticRenderFns:[]},undefined,{props:{invalidMedia:{default:function(){return{}},type:Array},topLevelErrors:{default:function(){return[]},type:Array}},emits:["cleared"],components:{Icon:Ur,ListError:Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"media-library-listerror"},[a("div",{staticClass:"media-library-listerror-icon"},[a("span",{staticClass:"media-library-button media-library-button-error"},[a("icon",{attrs:{icon:"error"}})],1)]),t._v(" "),a("div",{staticClass:"media-library-listerror-content"},[a("div",{staticClass:"media-library-listerror-title"},[a("span",[t._v(t._s(t.title))])]),t._v(" "),t.$slots.default?a("ul",{staticClass:"media-library-listerror-items"},[t._t("default")],2):t._e()])])},staticRenderFns:[]},undefined,{props:{title:{required:!0,type:String}},components:{Icon:Ur}},undefined,false,undefined,!1,void 0,void 0,void 0),ObjectPreview:Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.imageErrored?a("span",{staticClass:"media-library-thumb-extension"},[a("span",{staticClass:"media-library-thumb-extension-truncate"},[t._v(t._s(t.name.split(".").pop()))])]):a("img",{staticClass:"media-library-thumb-img",attrs:{src:t.client_preview},on:{error:function(e){t.imageErrored=!0}}})},staticRenderFns:[]},undefined,{props:{name:{default:"",type:String},client_preview:{default:"",type:String}},data:function(){return{imageErrored:!1}}},undefined,false,undefined,!1,void 0,void 0,void 0)},data:function(){return{erroredImages:[],hideTopLevelErrors:!1}},watch:{topLevelErrors:{deep:!0,immediate:!0,handler:function(t){t&&(this.hideTopLevelErrors=!1)}}},computed:{groupedInvalidMedia:function(){return this.invalidMedia.reduce((function(t,e){var a=e.errors[0];return t[a]?t[a].push(e):t[a]=[e],t}),{})}},methods:{onClearClick:function(){this.hideTopLevelErrors=!0,this.$emit("cleared")}}},undefined,false,undefined,!1,void 0,void 0,void 0),Jr={props:{add:{default:!0,type:Boolean},uploadInfo:{required:!1,type:Object},multiple:{default:!1,type:Boolean},validationRules:{required:!1,type:Object},maxItems:{required:!1,type:Number},fileTypeHelpText:{required:!1,type:String}},emits:["changed","dropped"],components:{DropZone:Zr,IconButton:Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:"media-library-button media-library-button-"+t.level},[a("icon",{attrs:{icon:t.icon}})],1)},staticRenderFns:[]},undefined,{props:{icon:{required:!0,type:String},level:{default:"info",type:String}},components:{Icon:Ur}},undefined,false,undefined,!1,void 0,void 0,void 0),ItemErrors:Vr},data:function(){return{window}},methods:{buildRuleHelpText:function(t){var e,a,s,r=t.validationRules,o=void 0===r?{}:r,n=t.maxItems,i=t.fileTypeHelpText,l=window.mediaLibraryTranslations,c=o.accept,d=o.minSizeInKB,m=o.maxSizeInKB,u="";if(u=ms(u,n?(e=l.selectOrDragMax,a={maxItems:n,file:n>1?l.file.plural:l.file.singular},s=e,Object.entries(a).forEach((function(t){var e=p(t,2),a=e[0],r=e[1];s=s.replace("{".concat(a,"}"),r.toString())})),s):l.selectOrDrag),c&&!i){var f=c.length;u=ms(u,c.reduce((function(t,e,a){var s=a===f-1?"":", ";return t+=function(t){var e=t.toLowerCase();return"image/*"===e?window.mediaLibraryTranslations.anyImage:"video/*"===e?window.mediaLibraryTranslations.anyVideo:e.startsWith("image/")||e.startsWith("application/")||e.startsWith("video/")?e.replace("image/","").replace("application/","").replace("video/","").toUpperCase():e}(e)+s,t}),""))}if(i&&(u=ms(u,i)),d){var v=d>1024?(d/1024).toFixed(2)+"MB":d+"KB";u=ms(u,"> ".concat(v))}if(m){var _=m>1024?(m/1024).toFixed(2)+"MB":m+"KB";u=ms(u,"< ".concat(_))}return u},handleChange:function(t){this.$emit("changed",t),this.$refs.fileInputRef.value=""}}},Kr=Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drop-zone",t._b({class:t.add?"media-library-add":"media-library-replace",attrs:{"validation-accept":(t.validationRules||{}).accept},on:{clicked:function(e){return t.$refs.fileInputRef.click()},dropped:function(e){return t.$emit("dropped",e)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hasDragObject,r=e.isDropTarget,o=e.isValid;return a("button",{class:["media-library-dropzone",{"media-library-dropzone-drag":s&&!r,"media-library-dropzone-drop":s&&r,"media-library-dropzone-add":t.add,"media-library-dropzone-replace":!t.add,disabled:!o&&s}],attrs:{type:"button"}},[a("input",{ref:"fileInputRef",staticClass:"media-library-hidden",attrs:{type:"file",accept:(t.validationRules||{}).accept?(t.validationRules||{}).accept.join(","):void 0,multiple:t.multiple,dusk:t.add?"main-uploader":"uploader"},on:{change:function(e){return e.stopPropagation(),t.handleChange(e)}}}),t._v(" "),a("div",{staticClass:"media-library-placeholder"},[a("icon-button",o||!s?{attrs:{level:"info",icon:t.add?"add":"replace"}}:{attrs:{level:"warning",icon:"not-allowed"}}),t._v(" "),t.uploadInfo?a("div",{class:"media-library-progress-wrap "+(t.uploadInfo.hasFinishedUploading?"":"media-library-progress-wrap-loading")},[a("progress",{staticClass:"media-library-progress",attrs:{max:"100"},domProps:{value:t.uploadInfo.uploadProgress}})]):t._e()],1),t._v(" "),t.add?a("div",{staticClass:"media-library-help"},[o&&s?[a("span",r?[t._v(t._s(t.window.mediaLibraryTranslations.dropFile))]:[t._v(t._s(t.window.mediaLibraryTranslations.dragHere))])]:a("span",[t._v(t._s(t.buildRuleHelpText({validationRules:t.validationRules,maxItems:t.maxItems,fileTypeHelpText:t.fileTypeHelpText})))])],2):t._e()])}}])},"drop-zone",t.$attrs,!1))},staticRenderFns:[]},undefined,Jr,undefined,false,undefined,!1,void 0,void 0,void 0);function Gr(t,e,a,s,r,o,n,i,l,c){"boolean"!=typeof n&&(l=i,i=n,n=!1);var d,m="function"==typeof a?a.options:a;if(t&&t.render&&(m.render=t.render,m.staticRenderFns=t.staticRenderFns,m._compiled=!0,r&&(m.functional=!0)),s&&(m._scopeId=s),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},m._ssrRegister=d):e&&(d=n?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),d)if(m.functional){var u=m.render;m.render=function(t,e){return d.call(e),u(t,e)}}else{var p=m.beforeCreate;m.beforeCreate=p?[].concat(p,d):[d]}return a}var Yr=Gr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("media-library-renderless",{ref:"mediaLibraryRenderless",attrs:{"initial-value":t.initialValue,"validation-errors":t.validationErrors,"route-prefix":t.routePrefix,"validation-rules":t.validationRules,translations:t.translations,"before-upload":t.beforeUpload,"after-upload":t.afterUpload,multiple:t.multiple,name:t.name,"max-items":t.computedMaxItems,"max-size-for-preview-in-bytes":t.maxSizeForPreviewInBytes,vapor:t.vapor,"vapor-signed-storage-url":t.vaporSignedStorageUrl,"upload-domain":t.uploadDomain,"with-credentials":t.withCredentials,headers:t.headers},on:{changed:function(e){return t.$emit("change",e)},"is-ready-to-submit-change":function(e){return t.$emit("is-ready-to-submit-change",e)},"has-uploads-in-progress-change":function(e){return t.$emit("has-uploads-in-progress-change",e)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.state,r=e.getImgProps,o=e.getNameInputProps,n=e.getNameInputListeners,i=e.getNameInputErrors,l=e.getCustomPropertyInputProps,c=e.getCustomPropertyInputListeners,d=e.getCustomPropertyInputErrors,m=e.getDropZoneProps,u=e.getDropZoneListeners,p=e.getFileInputProps,f=e.getFileInputListeners,v=e.removeMedia,_=e.replaceMedia,b=e.getErrors,h=e.clearObjectErrors,y=e.clearInvalidMedia;return a("div",{},[a("icons"),t._v(" "),a("div",{staticClass:"media-library",class:[t.multiple?"media-library-multiple":"media-library-single",0==s.media.length?"media-library-empty":"media-library-filled"]},[a("list-errors",{attrs:{"invalid-media":s.invalidMedia,"top-level-errors":t.validationErrors[t.name]},on:{cleared:function(t){return y()}}}),t._v(" "),s.media&&s.media.length?a("div",{staticClass:"media-library-items"},t._l(s.media,(function(e){return a("div",{key:e.attributes.uuid,staticClass:"media-library-item"},[a("thumb",{attrs:{uploadInfo:e.upload,"validation-rules":t.validationRules,"img-props":r(e)},on:{replaced:function(t){return _(e,t)}}}),t._v(" "),a("div",{staticClass:"media-library-properties"},[b(e).length?a("item-errors",{attrs:{"object-errors":b(e)},on:{back:function(t){return h(e)}}}):[t._t("properties",[e.attributes.extension?a("div",{staticClass:"media-library-property"},[t._v("\n                                    "+t._s(e.attributes.extension.toUpperCase())+"\n                                ")]):t._e(),t._v(" "),e.attributes.size?a("div",{staticClass:"media-library-property"},[t._v("\n                                    "+t._s((e.attributes.size/1024).toFixed(2))+" KB\n                                ")]):t._e()],{object:e}),t._v(" "),t._t("fields",null,{object:e,getCustomPropertyInputProps:function(t){return l(e,t)},getCustomPropertyInputListeners:function(t){return c(e,t)},getCustomPropertyInputErrors:function(t){return d(e,t)},getNameInputProps:function(){return o(e)},getNameInputListeners:function(){return n(e)},getNameInputErrors:function(){return i(e)}}),t._v(" "),a("div",{staticClass:"media-library-property"},[a("button",{staticClass:"media-library-text-link",attrs:{type:"button",dusk:"remove"},on:{click:function(t){return t.stopPropagation(),v(e)}}},[t._v("\n                                    "+t._s(t.window.mediaLibraryTranslations.remove)+"\n                                ")])])]],2)],1)})),0):t._e(),t._v(" "),a("hidden-fields",{attrs:{name:t.name,"media-state":s.media}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.computedMaxItems||s.media.length<t.computedMaxItems,expression:"!computedMaxItems || state.media.length < computedMaxItems"}],staticClass:"media-library-uploader"},[a("uploader",t._g(t._b({attrs:{multiple:t.multiple,add:"","file-type-help-text":t.fileTypeHelpText}},"uploader",Object.assign({},m(),p()),!1),Object.assign({},u(),f())))],1)],1)],1)}}])})},staticRenderFns:[]},undefined,{props:{name:{required:!1,type:String},initialValue:{required:!1,type:[Array,Object]},routePrefix:{required:!1,type:String},translations:{default:function(){},type:Object},validationRules:{required:!1,type:Object},validationErrors:{default:function(){return{}},type:[Object,Array]},multiple:{default:!1,type:Boolean},maxItems:{required:!1,type:Number},maxSizeForPreviewInBytes:{required:!1,type:Number},vapor:{required:!1,type:Boolean},vaporSignedStorageUrl:{required:!1,type:String},uploadDomain:{required:!1,type:String},withCredentials:{required:!1,type:Boolean},headers:{required:!1,type:Object},fileTypeHelpText:{required:!1,type:String},beforeUpload:{default:function(){},type:Function},afterUpload:{default:function(){},type:Function}},emits:["change","is-ready-to-submit-change","has-uploads-in-progress-change"],components:{MediaLibraryRenderless:qr,HiddenFields:zr,DropZone:Zr,ListErrors:Hr,ItemErrors:Vr,Icons:Ir,Thumb:Lr({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-library-thumb",attrs:{dusk:"thumb"}},[t.imgProps.src&&!t.imageErrored?a("img",t._b({staticClass:"media-library-thumb-img",on:{error:function(e){t.imageErrored=!0}}},"img",t.imgProps,!1)):a("span",{staticClass:"media-library-thumb-extension"},[a("span",{staticClass:"media-library-thumb-extension-truncate"},[t._v(t._s(t.imgProps.extension))])]),t._v(" "),a("uploader",t._b({attrs:{"validation-rules":t.validationRules,add:!1,multiple:!1,"upload-info":t.uploadInfo},on:{dropped:function(e){return t.$emit("replaced",e.dataTransfer.files[0])},changed:function(e){return t.$emit("replaced",e.target.files[0])}}},"uploader",t.$attrs,!1))],1)},staticRenderFns:[]},undefined,{props:{uploadInfo:{required:!0,type:Object},validationRules:{required:!1,type:Object},imgProps:{required:!0,type:Object}},emits:["replaced"],components:{Uploader:Kr},data:function(){return{imageErrored:!1,oldImgSrc:this.imgProps.src}},watch:{imgProps:{deep:!0,immediate:!0,handler:function(t){this.oldImgSrc!=t.src&&(this.imageErrored=!1)}}}},undefined,false,undefined,!1,void 0,void 0,void 0),Uploader:Kr},data:function(){return{mediaLibrary:null,window}},mounted:function(){this.mediaLibrary=this.$refs.mediaLibraryRenderless.mediaLibrary},computed:{computedMaxItems:function(){return this.multiple?this.maxItems:1}}},undefined,false,undefined,!1,void 0,void 0,void 0)},1112:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".text-right.input-price .v-money[data-v-58f92376]{text-align:right}",""]);const o=r},6667:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".filter-bar{padding:10px}",""]);const o=r},2049:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"[v-cloak][data-v-52787ff2]{display:none}table[data-v-52787ff2]{border:0 solid #d2d6dc;border-collapse:collapse;border-spacing:2px}.vuetable thead[data-v-52787ff2]{background-color:#fafafa}.vuetable thead tr[data-v-52787ff2]{border-bottom:2px solid #ddd}.vuetable thead tr th[data-v-52787ff2]{--text-opacity:1;--bg-opacity:1;background-color:rgba(244,245,247,var(--bg-opacity));border-color:#d2d6dc;border-style:solid;border-width:1px 0;color:#374151;color:rgba(55,65,81,var(--text-opacity));padding:.5rem 1rem}.vuetable tbody tr[data-v-52787ff2]{border-bottom-color:#e4e6ef;border-bottom-width:1px}.vuetable tbody tr td[data-v-52787ff2]{//--border-opacity:1;//border:0 dashed rgba(229,231,235,var(--border-opacity));//border-right:1px transparent;//border-bottom-width:1px;padding:.4rem;vertical-align:middle}td[data-v-52787ff2]:first-child,th[data-v-52787ff2]:first-child{padding-left:1rem}tr[data-v-52787ff2]:nth-child(2n){[data-v-52787ff2]:hover{box-shadow:2px aqua}}.vuetable th.sortable[data-v-52787ff2]:hover{color:#2185d0;cursor:pointer}.vuetable-body-wrapper[data-v-52787ff2]{overflow-y:auto;position:relative}.vuetable-head-wrapper[data-v-52787ff2]{overflow-x:hidden}.vuetable-actions[data-v-52787ff2]{padding:12px 0;text-align:center;width:15%}.vuetable-pagination[data-v-52787ff2]{background:#f9fafb!important}.vuetable-pagination-info[data-v-52787ff2]{margin-bottom:auto;margin-top:auto}.vuetable-empty-result[data-v-52787ff2]{text-align:center}.vuetable-clip-text[data-v-52787ff2]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap}.vuetable-semantic-no-top[data-v-52787ff2]{border-top:none!important;margin-top:0!important}.vuetable-fixed-layout[data-v-52787ff2]{table-layout:fixed}.vuetable-gutter-col[data-v-52787ff2]{border-left:none!important;border-right:none!important;padding:0!important}.fixed-top[data-v-52787ff2]{position:sticky;top:2px;z-index:100}",""]);const o=r},7475:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"table#vuetable[data-v-3ba4c6e5]{border:0 solid #d2d6dc}table#vuetable thead[data-v-3ba4c6e5]{*[data-v-3ba4c6e5],[data-v-3ba4c6e5]:after,[data-v-3ba4c6e5]:before{border:0 solid #d2d6dc;box-sizing:border-box}}table#vuetable tbody[data-v-3ba4c6e5]{*[data-v-3ba4c6e5],[data-v-3ba4c6e5]:after,[data-v-3ba4c6e5]:before{border:0 solid #d2d6dc;box-sizing:border-box}}",""]);const o=r},7164:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"#calendar[data-v-2c431d16]{margin:40px auto;max-width:900px}",""]);const o=r},5509:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".section[data-v-5440cfbf]{background:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1);flex:1;min-width:45%;padding:20px}.card-icon[data-v-5440cfbf]{background:#f6f6fe;flex-grow:0;flex-shrink:0;font-size:32px;height:64px;line-height:0;width:64px}.info-card h6[data-v-5440cfbf]{color:#012970;font-size:28px;font-weight:700;margin:0;padding:0}.section-header[data-v-5440cfbf]{border-bottom:2px solid #eee;margin-bottom:15px;padding-bottom:10px}.section-header h3[data-v-5440cfbf]{color:#333;font-size:1.4em;margin:0}.card-header[data-v-5440cfbf]:first-child{border-radius:var(--tblr-card-border-radius) var(--tblr-card-border-radius) 0 0;border-radius:3px 3px 0 0}.card-header[data-v-5440cfbf]{align-items:center;background:transparent;color:inherit;display:flex}.justify-content-between[data-v-5440cfbf]{justify-content:space-between!important}.d-flex[data-v-5440cfbf]{display:flex!important}.card-header[data-v-5440cfbf]{padding-left:0!important;padding-right:0!important}.section-header[data-v-9ff9941e][data-v-5440cfbf]{border-bottom:none;margin-bottom:15px;padding-bottom:0}",""]);const o=r},2549:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".employee-details[data-v-76ec20b4]{border-bottom:2px solid #eee;margin-bottom:20px;padding-bottom:10px}.employee-details h2[data-v-76ec20b4]{color:#555;font-size:1.5em;margin:0 0 10px}.employee-details p[data-v-76ec20b4]{color:#666;font-size:1em;margin:5px 0}.employment-history[data-v-76ec20b4]{margin-top:20px}.employment-history h2[data-v-76ec20b4]{border-bottom:2px solid #eee;color:#333;font-size:1.4em;margin-bottom:15px;padding-bottom:10px}.history-table[data-v-76ec20b4]{border-collapse:collapse;width:100%}.history-table td[data-v-76ec20b4],.history-table th[data-v-76ec20b4]{border:1px solid #ddd;padding:12px;text-align:left}.history-table th[data-v-76ec20b4]{background-color:#f9fafb;font-weight:700}.history-table td[data-v-76ec20b4]{background-color:#fff}.avatar[data-v-76ec20b4]{cursor:pointer;position:relative}.dropdown-mnu[data-v-76ec20b4]{background:hsla(0,0%,100%,.8);bottom:0;display:none;font-size:10px;left:0;right:0;top:0;transition:.3s ease-in;width:100%}.avatar:hover>.dropdown-mnu[data-v-76ec20b4]{align-items:center;display:flex;flex-direction:column;gap:10px;justify-content:center}.dropdown-mnu .item[data-v-76ec20b4]{color:#111010;font-weight:bolder}",""]);const o=r},1193:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".spinner[data-v-5a93d355]{animation:spin-5a93d355 1s linear infinite;border:5px solid rgba(0,0,0,.1);border-left-color:#041b3f;border-radius:50%;display:inline-block;height:70px;width:70px}@keyframes spin-5a93d355{to{transform:rotate(1turn)}}",""]);const o=r},4347:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".employee-details[data-v-c11f87c6]{border-bottom:2px solid #eee;margin-bottom:20px;padding-bottom:10px}.employee-details h2[data-v-c11f87c6]{color:#555;font-size:1.5em;margin:0 0 10px}.employee-details p[data-v-c11f87c6]{color:#666;font-size:1em;margin:5px 0}.employment-history[data-v-c11f87c6]{margin-top:20px}.employment-history h2[data-v-c11f87c6]{border-bottom:2px solid #eee;color:#333;font-size:1.4em;margin-bottom:15px;padding-bottom:10px}.history-table[data-v-c11f87c6]{border-collapse:collapse;width:100%}.history-table td[data-v-c11f87c6],.history-table th[data-v-c11f87c6]{border:1px solid #ddd;padding:12px;text-align:left}.history-table th[data-v-c11f87c6]{background-color:#f9fafb;font-weight:700}.history-table td[data-v-c11f87c6]{background-color:#fff}.avatar[data-v-c11f87c6]{cursor:pointer;position:relative}.dropdown-mnu[data-v-c11f87c6]{background:hsla(0,0%,100%,.8);bottom:0;display:none;font-size:10px;left:0;right:0;top:0;transition:.3s ease-in;width:100%}.avatar:hover>.dropdown-mnu[data-v-c11f87c6]{align-items:center;display:flex;flex-direction:column;gap:10px;justify-content:center}.dropdown-mnu .item[data-v-c11f87c6]{color:#111010;font-weight:bolder}",""]);const o=r},3139:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".fixed-top[data-v-2fd2f10c][data-v-362073da]{top:0!important}",""]);const o=r},1682:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".spinner[data-v-c3b92130]{animation:spin-c3b92130 1s linear infinite;border:5px solid rgba(0,0,0,.1);border-left-color:#041b3f;border-radius:50%;display:inline-block;height:70px;width:70px}@keyframes spin-c3b92130{to{transform:rotate(1turn)}}",""]);const o=r},6746:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".spinner[data-v-2410ac1a]{animation:spin-2410ac1a 1s linear infinite;border:5px solid rgba(0,0,0,.1);border-left-color:#041b3f;border-radius:50%;display:inline-block;height:70px;width:70px}@keyframes spin-2410ac1a{to{transform:rotate(1turn)}}",""]);const o=r},1759:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".styled-table[data-v-1d47fb70]{border-collapse:collapse;font-size:14px;margin:0;min-width:100%}.styled-table thead tr[data-v-1d47fb70]{background-color:#f4f5f7;color:#fff;text-align:left}.styled-table td[data-v-1d47fb70],.styled-table th[data-v-1d47fb70]{padding:6px 10px}.styled-table tbody tr[data-v-1d47fb70]{//border-bottom:1px solid #ddd}.styled-table tbody tr td[data-v-1d47fb70]{border:1px solid #f3f3f3}.styled-table tbody tr[data-v-1d47fb70]:nth-of-type(2n){//background-color:#f3f3f3}.styled-table tbody tr.active-row[data-v-1d47fb70]{color:#009879;font-weight:700}",""]);const o=r},9043:()=>{},254:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={data:function(){return{hasLoginErr:!1,form:new window.Form({email:"",password:"",remember_me:""})}},methods:{tryToLogIn:function(){var t=this;this.form.post("/login").then((function(t){1===t.is_admin?window.location.assign("/employees"):window.location.assign("/home")})).catch((function(e){t.hasLoginErr=!0}))}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.tryToLogIn.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",autocomplete:"off"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e(),t._v(" "),t.hasLoginErr?e("span",{staticClass:"text-danger my-1"},[t._v("\n          Email or Password is incorrect\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("\n        Password\n      ")]),t._v(" "),e("div",{staticClass:"input-group input-group-flat"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-footer"},[e("button",{staticClass:"btn btn-primary w-100 py-3 rounded-2 mb-3",attrs:{type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing...":"Sign in")+"\n      ")])])])])}),[],!1,null,null,null).exports},5373:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const o={data:function(){return{hasLoginErr:!1,form:new window.Form({username:"",staff_number:"",name:"",gender:"",BoD:"",identification_number:"",residence:"",email:"",password:"",cpassword:"",remember_me:""})}},watch:{"form.name":function(t){var e=this.form.name;this.form.name=e;var a=s(e.split(" ")),r=a[0],o=a[1];this.form.username="".concat(r.substr(0,1),".").concat(null!=o?o:"").toLocaleLowerCase()}},methods:{register:function(){var t=this;this.form.password===this.form.cpassword&&""!==this.username?this.form.post("/register").then((function(e){t.$toast.success("Registered successfully, but you wont be able to login unit HR approves"),setTimeout((function(){window.location.assign("/login")}),2e3)})).catch((function(e){t.hasLoginErr=!0})):this.$toast.error("Password do not match, try again")}}};const n=(0,a(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",[t._m(0),t._v(" "),e("form",{staticClass:"row",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"staff_number"}},[t._v("Payroll number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.staff_number,expression:"form.staff_number"}],staticClass:"form-control",attrs:{id:"staff_number",type:"text",autocomplete:"off"},domProps:{value:t.form.staff_number},on:{input:function(e){e.target.composing||t.$set(t.form,"staff_number",e.target.value)}}}),t._v(" "),t.form.hasError("staff_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("staff_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Fullname")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",autocomplete:"off"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"gender"}},[t._v("Gender")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gender,expression:"form.gender"}],staticClass:"form-control",attrs:{id:"gender",type:"text",autocomplete:"off"},domProps:{value:t.form.gender},on:{input:function(e){e.target.composing||t.$set(t.form,"gender",e.target.value)}}}),t._v(" "),t.form.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text",autocomplete:"off"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"BoD"}},[t._v("Date of Birth")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.BoD,"max-date":new Date},on:{"on-change":function(e,a){t.form.BoD=a}}}),t._v(" "),t.form.hasError("BoD")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("BoD"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"identification_number"}},[t._v("ID no")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_number,expression:"form.identification_number"}],staticClass:"form-control",attrs:{id:"identification_number",type:"text",autocomplete:"off"},domProps:{value:t.form.identification_number},on:{input:function(e){e.target.composing||t.$set(t.form,"identification_number",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",autocomplete:"off"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"residence"}},[t._v("Residence")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.residence,expression:"form.residence"}],staticClass:"form-control",attrs:{id:"residence",type:"text",autocomplete:"off"},domProps:{value:t.form.residence},on:{input:function(e){e.target.composing||t.$set(t.form,"residence",e.target.value)}}}),t._v(" "),t.form.hasError("residence")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("residence"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",autocomplete:"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"cpassword"}},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cpassword,expression:"form.cpassword"}],staticClass:"form-control",attrs:{id:"cpassword",type:"password",autocomplete:"off"},domProps:{value:t.form.cpassword},on:{input:function(e){e.target.composing||t.$set(t.form,"cpassword",e.target.value)}}}),t._v(" "),t.form.hasError("cpassword")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("cpassword"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-footer"},[e("div",[e("button",{staticClass:"btn btn-primary py-2 rounded-2 mb-3",attrs:{type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing...":"Sign in")+"\n      ")])])])]),t._v(" "),t._m(1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center"},[t("h2",[this._v("Create new account")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mt-2 text-muted"},[t._v("Don't have account yet? "),e("a",{attrs:{href:"/register"}},[t._v(" Sign up")])])}],!1,null,null,null).exports},9664:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(3279);const r={data:function(){return{fields:[{name:"year",title:"Year",titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"3%"},{name:"min",title:"Min",titleClass:"ps-3",dataClass:"ps-3",width:"20%"},{name:"max",title:"Max",titleClass:"ps-3",dataClass:"ps-3",width:"20%"},{name:"rate",title:"Rate",titleClass:"ps-3",dataClass:"ps-3",width:"10%"},{name:"__slot:actions",title:"",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{year:""}},selectedTemplate:{},form:new window.Form({id:"",year:"",max:"",min:"",rate:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},createTax:function(){var t=this;this.form.post("/tax").then((function(){t.$toast.success("The tax has been created"),t.vuetable.refresh(),t.findAllProducts(),t.findSpecimen(),t.findmeasurements()})).catch()},deleteTemplate:function(t){var e=this;this.$toast.question("Are you sure?").then((function(){e.$httpClient.delete("/tax/"+t.id).then((function(){e.$toast.info("Tax deleted"),e.vuetable.refresh()})).catch((function(t){e.$toast.error("Something went wrong")}))}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateTax:function(){var t=this;this.form.patch("/tax/"+this.form.id).then((function(){t.$bvModal.hide("update-modal"),t.$toast.success("The changes has been saved"),t.vuetable.refresh()})).catch()},applyFilter:a.n(s)()((function(){this.vuetable.reload()}),500)}};const o=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Tax"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[t._v("\n                    Add Tax\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/tax",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit me-2"}),t._v(" Edit\n                    ")])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal","hide-header-close":"","no-close-on-backdrop":"","no-enforce-focus":"","content-class":"rounded-4",title:"Create Tax",size:"md","footer-class":"d-flex justify-content-end bg-light-alpha border-top",scrollable:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Dismiss\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"createForm"}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createTax.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("min")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min,expression:"form.min"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.min},on:{input:function(e){e.target.composing||t.$set(t.form,"min",e.target.value)}}}),t._v(" "),t.form.hasError("min")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("min"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max,expression:"form.max"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.max},on:{input:function(e){e.target.composing||t.$set(t.form,"max",e.target.value)}}}),t._v(" "),t.form.hasError("max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()])])])])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal","hide-header-close":"","no-close-on-backdrop":"","no-enforce-focus":"","modal-class":"modal-blur",title:"Edit Tax",size:"md","footer-class":"d-flex justify-content-end bg-light-alpha border-top",scrollable:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n          Dismiss\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"createForm"}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateTax.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("min")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min,expression:"form.min"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.min},on:{input:function(e){e.target.composing||t.$set(t.form,"min",e.target.value)}}}),t._v(" "),t.form.hasError("min")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("min"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max,expression:"form.max"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.max},on:{input:function(e){e.target.composing||t.$set(t.form,"max",e.target.value)}}}),t._v(" "),t.form.hasError("max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()])])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7834:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAllowance:function(){var t=this;this.form.post("/allowances").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Employee Type has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/allowances/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Allowance",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Allowance\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/allowances",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Allowance","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createAllowance.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Allowance")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Allowance","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Allowance Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1698:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const s={data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"country",title:"Country",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"created_at",title:"Created on",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",width:"5%",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,bank_name:"",country:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("editModal")},createBank:function(){var t=this;this.form.post("/banks").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Bank Added successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBank:function(){var t=this;this.form.patch("/banks/"+this.form.id).then((function(){t.$bvModal.hide("editModal"),t.$toast.success("Bank Updated successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Branch"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showBranchCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Branch\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/bank-branches",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Add Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editModal","no-close-on-backdrop":"",title:"Edit Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const o={props:["banks"],name:"Banks",data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"country",title:"Country",titleClass:"ps-3",dataClass:"ps-3"},{name:"created_at",title:"Created on",titleClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR,dataClass:"ps-3"},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],branch_fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"branch_name",title:"Branch Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"bank.bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"city",title:"City",titleClass:"ps-3",dataClass:"ps-3"},{name:"created_at",title:"Created on",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{bank_name:""}},moreBranchParams:{filter:{branch_name:""}},form:new window.Form({id:null,bank_name:"",country:"",activated:!0}),branch_form:new window.Form({id:null,branch_name:"",city:"",bank_id:null,activated:null})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showBranchCreateForm:function(){this.$bvModal.show("createBranchModal")},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("editModal")},showBranchEditForm:function(t){this.branch_form.populate(t),this.$bvModal.show("editBranchModal")},createBank:function(){var t=this;this.form.post("/banks").then((function(){t.$bvModal.hide("createModal"),t.$toast.success("Bank Added successfully."),t.$refs.bank_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},createBranch:function(){var t=this;this.branch_form.post("/bank-branches").then((function(){t.$bvModal.hide("createBranchModal"),t.$toast.success("Branch Added successfully."),t.$refs.branch_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.branch_form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBank:function(){var t=this;this.form.patch("/banks/"+this.form.id).then((function(){t.$bvModal.hide("editModal"),t.$toast.success("Bank Updated successfully."),t.$refs.bank_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBranch:function(){var t=this;this.branch_form.patch("/bank-branches/"+this.branch_form.id).then((function(){t.$bvModal.hide("editBranchModal"),t.$toast.success("Bank Branch Updated successfully."),t.$refs.branch_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.branch_form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},applyBranchFilter:function(){this.$refs.branch_table.$refs.vuetable.reload()},applyFilter:function(){this.$refs.bank_table.$refs.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const n=(0,r.Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-orange",lazy:""}},[e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-money-bill-stack me-1"}),t._v("Branches\n            ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreBranchParams.filter.branch_name,expression:"moreBranchParams.filter.branch_name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Branch"},domProps:{value:t.moreBranchParams.filter.branch_name},on:{input:[function(e){e.target.composing||t.$set(t.moreBranchParams.filter,"branch_name",e.target.value)},t.applyBranchFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showBranchCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Branch\n                        ")])])]),t._v(" "),e("VueTable",{ref:"branch_table",attrs:{"api-url":"/datatable/bank-branches",fields:t.branch_fields,"append-params":t.moreBranchParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showBranchEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                                ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createBranchModal","no-close-on-backdrop":"",title:"Add Branch","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"branch_name"}},[t._v("Branch Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.branch_name,expression:"branch_form.branch_name"}],staticClass:"form-control",attrs:{id:"branch_name",type:"text"},domProps:{value:t.branch_form.branch_name},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"branch_name",e.target.value)}}}),t._v(" "),t.branch_form.hasError("branch_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("branch_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"bank_id"}},[t._v("Bank")]),t._v(" "),e("v-select",{attrs:{options:t.banks,label:"bank_name",reduce:function(t){return t.id}},model:{value:t.branch_form.bank_id,callback:function(e){t.$set(t.branch_form,"bank_id",e)},expression:"branch_form.bank_id"}}),t._v(" "),t.branch_form.hasError("bank_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("bank_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"city"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.city,expression:"branch_form.city"}],staticClass:"form-control",attrs:{id:"city",type:"text"},domProps:{value:t.branch_form.city},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"city",e.target.value)}}}),t._v(" "),t.branch_form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("city"))}}):t._e()]),t._v(" "),t.branch_form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editBranchModal","no-close-on-backdrop":"",title:"Edit Branch","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.branch_form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"editBranch"},on:{submit:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"branch_name"}},[t._v("Branch Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.branch_name,expression:"branch_form.branch_name"}],staticClass:"form-control",attrs:{id:"branch_name",type:"text"},domProps:{value:t.branch_form.branch_name},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"branch_name",e.target.value)}}}),t._v(" "),t.branch_form.hasError("branch_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("branch_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"bank_id"}},[t._v("Bank")]),t._v(" "),e("v-select",{attrs:{options:t.banks,label:"bank_name",reduce:function(t){return t.id}},model:{value:t.branch_form.bank_id,callback:function(e){t.$set(t.branch_form,"bank_id",e)},expression:"branch_form.bank_id"}}),t._v(" "),t.branch_form.hasError("bank_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("bank_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"city"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.city,expression:"branch_form.city"}],staticClass:"form-control",attrs:{id:"city",type:"text"},domProps:{value:t.branch_form.city},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"city",e.target.value)}}}),t._v(" "),t.branch_form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("city"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.activated,expression:"branch_form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.branch_form.activated)?t._i(t.branch_form.activated,null)>-1:t.branch_form.activated},on:{change:function(e){var a=t.branch_form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.branch_form,"activated",a.concat([null])):o>-1&&t.$set(t.branch_form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.branch_form,"activated",r)}}}),t._v(" "),t.branch_form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("activated"))}}):t._e()]),t._v(" "),t.branch_form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1),t._v(" "),e("b-tab",{attrs:{title:"Banks","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-university me-1"}),t._v(" Banks\n            ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.bank_name,expression:"moreParams.filter.bank_name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Banks"},domProps:{value:t.moreParams.filter.bank_name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"bank_name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Bank\n                        ")])])]),t._v(" "),e("VueTable",{ref:"bank_table",attrs:{"api-url":"/datatable/banks",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                                ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Add Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editModal","no-close-on-backdrop":"",title:"Edit Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)],1)],1)}),[],!1,null,null,null).exports},1613:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"Benefits",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createBenefit:function(){var t=this;this.form.post("/benefits").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Benefit has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/benefits/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Benefits",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Benefit\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/benefits",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Benefit","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createBenefit.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBenefit.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Benefit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Benefit","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Benefit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1088:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createBranch:function(){var t=this;this.form.post("/branches").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The location has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateBranch:function(){var t=this;this.form.patch("/branches/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Location"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Location\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/branches",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Location Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Location Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},153:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createContribution:function(){var t=this;this.form.post("/contributions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Contribution has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/contributions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Contribution",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Contribution\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/contributions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createContribution.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createContribution.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Contribution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Contribution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},5266:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","vendors","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"vendor.name",title:"Supplier",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",vendor_id:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createDeduction:function(){var t=this;this.form.post("/deductions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The deduction has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},delRequest:function(t){console.log(t)},updateDeduction:function(){var t=this;this.form.patch("/deductions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Deductions"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Deduction\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/deductions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.delRequest(a.rowData)}}},[e("i",{staticClass:"uil uil-trush fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDeduction.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Vendor")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.vendors,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.gender_id,callback:function(e){t.$set(t.form,"gender_id",e)},expression:"form.gender_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Vendor")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.vendors,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},4182:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createDepartment:function(){var t=this;this.form.post("/departments").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The department has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateDepartment:function(){var t=this;this.form.patch("/departments/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Departments"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Department\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/departments",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},165:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createEmployeeType:function(){var t=this;this.form.post("/employee_type").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Employee Type has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateEmployeeType:function(){var t=this;this.form.patch("/employee_type/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Employee Type",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Type\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employee-types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Discharge Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createEmployeeType.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDischargeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Type")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Employee Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateEmployeeType.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateEmployeeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Type Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7530:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"HousingLevy",data:function(){return{fields:[{name:"rate",title:"Rate",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{year:""}},form:new window.Form({id:null,rate:"",year:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createHousingLevy:function(){var t=this;this.form.post("/housing_levy").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Benefit has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateHousingLevy:function(){var t=this;this.form.patch("/housing_levy/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Benefits",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Housing levy\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/housing_levies",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Housing Levy","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createHousingLevy.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createHousingLevy.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Housing Levy","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateHousingLevy.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateHousingLevy.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7687:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createIncome:function(){var t=this;this.form.post("/incomes").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Income has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateIncome:function(){var t=this;this.form.patch("/incomes/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Income"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Income\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/incomes",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Income / Earning","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createIncome.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createIncome.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Income")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Income / Earning","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateIncome.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateIncome.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Income")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},8853:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createJobGroup:function(){var t=this;this.form.post("/job-groups").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Job Group has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateJobGroup:function(){var t=this;this.form.patch("/job-groups/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Job Group",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Group\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/job-groups",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Job Group","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createJobGroup.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDischargeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Group")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Job Group","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateJobGroup.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateJobGroup.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Group")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},2165:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{jobgroups:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}}},name:"kpi",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"department.name",title:"Department",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",job_group_id:null,department_id:null,activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createKpi:function(){var t=this;this.form.post("/kpis").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The KPI has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateKpi:function(){var t=this;this.form.patch("/kpis/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search kpis",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" add\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/kpis",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Kpis","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createKpi.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createKpi.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Kpi")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Kpi","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateKpi.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateKpi.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Kpi")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1208:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"situational",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"SITUATIONAL":""}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",days:"",situational:!1})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createLeaveType:function(){var t=this;this.form.post("/leave_types").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Leave type  has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateLeaveType:function(){var t=this;this.form.patch("/leave_types/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Leave types"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Leave type\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave_types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Leave Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createLeaveType.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createLeaveType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.situational,expression:"form.situational"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.situational)?t._i(t.form.situational,null)>-1:t.form.situational},on:{change:function(e){var a=t.form.situational,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"situational",a.concat([null])):o>-1&&t.$set(t.form,"situational",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"situational",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Situational")])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateLeaveType.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateLeaveType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave type")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.situational,expression:"form.situational"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.situational)?t._i(t.form.situational,null)>-1:t.form.situational},on:{change:function(e){var a=t.form.situational,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"situational",a.concat([null])):o>-1&&t.$set(t.form,"situational",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"situational",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Situational")])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},454:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","vendors","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"is_active",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",is_active:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createLoan:function(){var t=this;this.form.post("/new-loan").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The deduction has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},delRequest:function(t){console.log(t)},updateLoan:function(){var t=this;this.form.patch("/loan-types/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Loans"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Loan\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/loan-types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.delRequest(a.rowData)}}},[e("i",{staticClass:"uil uil-trush fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Loan","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createLoan.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createLoan.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Loan Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateLoan.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateLoan.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Loan Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_active,expression:"form.is_active"}],staticClass:"form-check-input",attrs:{id:"activate",type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_active)?t._i(t.form.is_active,null)>-1:t.form.is_active},on:{change:function(e){var a=t.form.is_active,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_active",a.concat([null])):o>-1&&t.$set(t.form,"is_active",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_active",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"activate"}},[t._v("Activated")])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7058:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createPension:function(){var t=this;this.form.post("/pensions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Pension has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updatePension:function(){var t=this;this.form.patch("/pensions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Pension",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Pension\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/pensions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Pension","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createPension.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createPension.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Pension")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Pension","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updatePension.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Pension Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},8798:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",branch_id:"",store_id:"",cost_account_id:"",revenue_account_id:"",reporting_manager_id:null,auto_post_request:!0,is_laboratory:!1,is_pharmacy:!1,results_footer:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createRelief:function(){var t=this;this.form.post("/reliefs").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Relief has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateRelief:function(){var t=this;this.form.patch("/reliefs/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Relief"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Relief\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/reliefs",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Relief","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createRelief.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createRelief.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Relief")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Relief","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateRelief.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateRelief.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Relief")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},191:(t,e,a)=>{"use strict";a.d(e,{Z:()=>v});var s=a(3105),r=a.n(s),o=a(6187),n=a.n(o);function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const c={components:{VJstree:n()},data:function(){return{fields:[{name:"name",title:"Name",titleClass:"ps-3",dataClass:"ps-3",width:"90%"},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center",width:"10%"}],form:new window.Form({id:null,name:""}),moreParams:{filter:"name",sort:"-created_at"},permissionForm:new window.Form({id:"",selectedPermission:[]}),showPermissionForm:!1,permissions:[],rolePermissions:[],selectedRole:null}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-group-modal")},createGroup:function(){var t=this;this.form.post("/roles").then((function(e){t.vuetable.refresh(),t.$toast.success("The group has been created")})).catch((function(){}))},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("edit-group-modal")},updateGroup:function(){var t=this;this.form.processing=!0,this.form.patch("/roles/"+this.form.id).then((function(){t.form.processing=!1,t.$bvModal.hide("edit-group-modal"),t.vuetable.reload(),t.$toast.success("The Changes have been saved")})).catch((function(t){}))},applyFilter:function(){this.vuetable.reload()},accessControlManagement:function(t){var e=this;this.selectedRole=t,this.permissionForm.id=t.id,this.rolePermissions=t.permissions,this.permissionForm.selectedPermission=this.rolePermissions.map((function(t){return t.id})),this.retrieveSystemPermissions(),setTimeout((function(){e.showPermissionForm=!0}),1e3)},retrieveSystemPermissions:function(){var t=this,e=this;this.$httpClient.get("/permissions",{params:{page:{size:1e3}}}).then((function(a){var s=a.data.data,o=new Set;s.forEach((function(t){var e=t.code;o.add(e)}));var n=i(o).map((function(t,e){return{id:"muhi",text:t,children:[],opened:!1,selected:!1,isLeaf:!0}}));n.forEach((function(t){r()(s,{code:t.text}).forEach((function(a){var s={id:a.id,text:a.display_name,selected:!1};if(e.rolePermissions.length>0){var r=e.rolePermissions.find((function(t){return t.id===a.id}));s.selected=!!r,t.opened=!!r}t.children.push(s)}))})),t.permissions=n})).catch()},onPermissionSelected:function(t,e,a){var s=this;this.permissionForm.selectedPermission=[],this.$refs.tree.handleRecursionNodeChilds(this.$refs.tree,(function(t){t.model&&t.model.selected&&t.model.id&&"muhi"!==t.model.id&&s.permissionForm.selectedPermission.push(t.model.id)}))},updateRolePermission:function(){var t=this;this.permissionForm.post("/roles/".concat(this.selectedRole.id,"/permissions")).then((function(){t.$toast.success("The change has been saved"),t.rolePermissions=[],t.permissionForm.reset(),t.showPermissionForm=!1})).catch()},closePermissionForm:function(){this.showPermissionForm=!1,this.rolePermissions=[],this.permissionForm.reset()}}};var d=a(1900);const m=(0,d.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[t.showPermissionForm?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"card shadow-sm"},[e("div",{staticClass:"card-header"},[t._v("\n            "+t._s(t.selectedRole.name)+" Permission Management\n        ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-jstree",{ref:"tree",attrs:{data:t.permissions,"show-checkbox":"",multiple:"","allow-batch":"","whole-row":""},on:{"item-click":t.onPermissionSelected}})],1),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.permissionForm.processing},on:{click:t.updateRolePermission}},[t._v("\n            Submit\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-light",attrs:{disabled:t.permissionForm.processing},on:{click:t.closePermissionForm}},[t._v("\n            Close\n          ")])]),t._v(" "),t.permissionForm.processing?e("div",{staticClass:"progress card-progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})]):t._e()])])]):e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Role\n        ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/roles",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.accessControlManagement(a.rowData)}}},[e("i",{staticClass:"uil uil-shield fs-3 me-2"}),t._v(" Permission\n            ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-group-modal",title:"Create Group","footer-class":"d-flex justify-content-between","modal-class":"modal-blur","body-class":"px-4","hide-header-close":"","no-close-on-esc":"",lazy:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{form:"createForm",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createGroup.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createGroup.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])])]),t._v(" "),e("b-modal",{attrs:{id:"edit-group-modal",title:"Edit Group","footer-class":"d-flex justify-content-between","modal-class":"modal-blur","body-class":"px-4","hide-header-close":"","no-close-on-esc":"",lazy:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{form:"editForm",disabled:t.form.processing}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"editForm"},on:{submit:function(e){return e.preventDefault(),t.updateGroup.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const f={components:{VJstree:n(),Role:m},props:{departments:{type:Array,required:!0},roles:{type:Array,default:function(){return[]}},authuser:{type:Object,default:function(){}},employees:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"name",title:"Full Name",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"username",title:"Username",titleClass:"ps-3",dataClass:"ps-3",width:"15%"},{name:"email",title:"Email",titleClass:"ps-3",dataClass:"ps-3",width:"15%"},{name:"employee.department.name",title:"Department",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"20%"},{name:"roles",title:"Group",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"20%",callback:function(t){if(t.length)return t[0].name}},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",width:"5%",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},viewAccessControlManagement:!1,form:new window.Form({id:null,username:"",name:"",email:"",password:"",department_id:"",role_id:"",employee_id:"",is_hr_manager:!1,activated:!0}),permissionForm:new window.Form({id:"",selectedPermission:[]}),user:"",showPermissionForm:!1,permissions:[],userPermissions:[]}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{"form.employee_id":function(t){var e=this.employees.find((function(e){return e.id===t}));this.form.email=e.email;var a=e.name;this.form.name=a;var s=u(a.split(" ")),r=s[0],o=s[1];this.form.username="".concat(r.substr(0,1),".").concat(null!=o?o:"").toLocaleLowerCase()}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showEditForm:function(t){this.user=t,this.form.populate(t),this.form.id=t.id,t.roles.length&&(this.form.role_id=t.roles[0].id),this.$bvModal.show("updateModal")},createUser:function(){var t=this;this.form.post("/users").then((function(){t.$toast.success("The user has been created"),t.$bvModal.hide("createModal"),t.vuetable.refresh()})).catch()},updateUserAccount:function(){var t=this;this.form.patch("/users/".concat(this.form.id)).then((function(){t.$toast.success("The user account has been updated"),t.$bvModal.hide("updateModal"),t.vuetable.refresh()})).catch()},accessControlManagement:function(t){this.user=t,this.permissionForm.id=t.id,this.userPermissions=t.permissions,this.permissionForm.selectedPermission=this.userPermissions.map((function(t){return t.id})),this.showPermissionForm=!0,this.retrieveSystemPermissions()},applyFilter:function(){this.vuetable.reload()},retrieveSystemPermissions:function(){var t=this,e=this;this.$httpClient.get("/permissions",{params:{page:{size:1e3}}}).then((function(a){var s=a.data.data,o=new Set;s.forEach((function(t){var e=t.code;o.add(e)}));var n=u(o).map((function(t,e){return{id:"muhi",text:t,children:[],opened:!1,selected:!1,isLeaf:!0}}));n.forEach((function(t){r()(s,{code:t.text}).forEach((function(a){var s={id:a.id,text:a.display_name,selected:!1};if(e.userPermissions.length>0){var r=e.userPermissions.find((function(t){return t.id===a.id}));s.selected=!!r,t.opened=!!r}t.children.push(s)}))})),t.permissions=n})).catch()},onPermissionSelected:function(t,e,a){var s=this;this.permissionForm.selectedPermission=[],this.$refs.tree.handleRecursionNodeChilds(this.$refs.tree,(function(t){t.model&&t.model.selected&&t.model.id&&"muhi"!==t.model.id&&s.permissionForm.selectedPermission.push(t.model.id)}))},updateUserPermission:function(){var t=this;this.permissionForm.post("/users/".concat(this.user.id,"/permissions")).then((function(){t.$toast.success("The change has been saved"),t.userPermissions=[],t.permissionForm.reset(),t.showPermissionForm=!1})).catch()},closePermissionForm:function(){this.showPermissionForm=!1,this.userPermissions=[],this.permissionForm.reset()}}};const v=(0,d.Z)(f,(function(){var t=this,e=t._self._c;return e("div",[e("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-orange",lazy:""}},[e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-users-alt me-1"}),t._v(" Users\n      ")]},proxy:!0}])},[t._v(" "),t.showPermissionForm?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"card shadow-sm"},[e("div",{staticClass:"card-header"},[t._v("\n                "+t._s(t.user.name)+" Permission Management\n            ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-jstree",{ref:"tree",attrs:{data:t.permissions,"show-checkbox":"",multiple:"","allow-batch":"","whole-row":""},on:{"item-click":t.onPermissionSelected}})],1),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.permissionForm.processing},on:{click:t.updateUserPermission}},[t._v("\n                Submit\n              ")]),t._v(" "),e("button",{staticClass:"btn btn-light",attrs:{disabled:t.permissionForm.processing},on:{click:t.closePermissionForm}},[t._v("\n                Close\n              ")])]),t._v(" "),t.permissionForm.processing?e("div",{staticClass:"progress card-progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})]):t._e()])])]):e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Users"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add User\n            ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/users",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),a.rowData.id!==t.authuser.id?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.accessControlManagement(a.rowData)}}},[e("i",{staticClass:"uil uil-shield fs-3 me-2"}),t._v(" Permission\n                ")]):t._e()])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Create Account","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n            Close\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createUser.apply(null,arguments)}}},[t._v("\n            Submit\n          ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createUser.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"department_id"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{options:t.employees,label:"name",reduce:function(t){return t.id}},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e(),t._v(" "),e("small",{staticClass:"form-hint"},[t._v("Employees without user login accounts")])],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),e("small",{staticClass:"form-hint"},[t._v("Every user should have a unique username")]),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"role_id"}},[t._v("Group")]),t._v(" "),e("v-select",{attrs:{id:"role_id",options:t.roles,label:"name",reduce:function(t){return t.id}},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("When selected, the user will inherit the group's permissions")]),t._v(" "),t.form.hasError("role_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("role_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"updateModal",title:"Edit Account","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-backdrop":"","hide-header-close":"","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n            Close\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateUserAccount.apply(null,arguments)}}},[t._v("\n            Submit\n          ")])]}}])},[e("form",{attrs:{id:"EditForm"},on:{submit:function(e){return e.preventDefault(),t.updateUserAccount.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"text"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("Only fill when you want to change it, otherwise leave it blank")]),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"role_id"}},[t._v("Group")]),t._v(" "),e("v-select",{attrs:{id:"role_id",disabled:t.form.id===t.authuser.id,options:t.roles,label:"name",reduce:function(t){return t.id}},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("When selected, the user will inherit the group's permissions")]),t._v(" "),t.form.hasError("role_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("role_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("is HR manager")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_hr_manager,expression:"form.is_hr_manager"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_hr_manager)?t._i(t.form.is_hr_manager,null)>-1:t.form.is_hr_manager},on:{change:function(e){var a=t.form.is_hr_manager,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_hr_manager",a.concat([null])):o>-1&&t.$set(t.form,"is_hr_manager",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_hr_manager",r)}}})])]),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("Should be checked if the user is the HR manager")])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("Activated")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}})])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1),t._v(" "),e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-shield me-1"}),t._v(" Role\n      ")]},proxy:!0}])},[t._v(" "),e("Role")],1)],1)],1)}),[],!1,null,null,null).exports},5924:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={data:function(){return{fields:[{name:"name",title:"NAME",dataClass:"ps-3"},{name:"created_at",title:"Registered",titleClass:"text-uppercase",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"__slot:actions",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",telephone:"",email:"",address:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("vendor-modal")},registerVendor:function(){var t=this;this.form.post("/vendors").then((function(){t.vuetable.reload(),t.$toast.success("Changes Saved")})).catch((function(t){}))},updateVendor:function(){var t=this;this.form.patch("/vendors/"+this.form.id).then((function(){t.$bvModal.hide("edit-modal"),t.vuetable.refresh(),t.$toast.success("The changes have been saved")})).catch((function(t){}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("edit-modal")},applyFilter:function(){this.vuetable.reload()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search "},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Supplier\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/vendors",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"vendor-modal",title:"Create Supplier Account","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.registerVendor.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"vendorForm"},on:{submit:function(e){return e.preventDefault(),t.registerVendor.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Supplier Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"edit-modal",title:"Edit Supplier","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateVendor.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"vendorForm"},on:{submit:function(e){return e.preventDefault(),t.updateVendor.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Supplier Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("Activated")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}})])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},5040:(t,e,a)=>{"use strict";a.d(e,{Z:()=>y});var s=a(3279),r=a.n(s),o=a(4186),n=a(1132),i=a(9897);const l={components:{FullCalendar:o.Z},mounted:function(){this.initializeCalendar()},data:function(){return{isCalendarInitialized:!1,calendarOptions:{plugins:[n.Z,i.ZP],initialView:"dayGridMonth",events:[]}}},methods:{initializeCalendar:function(){var t=this;setTimeout((function(){t.isCalendarInitialized||(t.isCalendarInitialized=!0,t.loadEvents())}),200)},loadEvents:function(){this.calendarOptions.events=[]},handleDateClick:function(t){console.log(t)}}};var c=a(3379),d=a.n(c),m=a(7164),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;var p=a(1900);const f=(0,p.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[t.isCalendarInitialized?e("div",[e("FullCalendar",{attrs:{options:t.calendarOptions}})],1):t._e()])}),[],!1,null,"2c431d16",null).exports;var v=a(5927);const _={props:{noofemployees:{type:Number,required:!0,default:function(){return 0}},onleave:{type:Number,required:!0,default:function(){return 0}},turnover:{type:Object,required:!0,default:function(){return 0}},payroll:{type:Object,required:!0,default:function(){return 0}},user:{type:Object,required:!0,default:function(){return{}}},noofdepartments:{type:Number,required:!0,default:function(){return 0}}},components:{Calender:f,ApexCharts:a.n(v)()},data:function(){return{series:[{name:"Approved Requests",data:[]},{name:"Rejected Requests",data:[]}],chartOptions:{chart:{height:350,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},zoom:{enabled:!1},toolbar:{show:!1}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Leave requests",align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],title:{text:"Month"}},yaxis:{title:{text:"No of leave requests"},min:0,max:30},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}},scheduleFilter:{date:(new Date).toISOString().slice(0,10)},employees:[],employeeFields:[{name:"staff_number",title:"StaffNo",width:"15%"},{name:"__slot:name",title:"NAME",titleClass:"ps-2",dataClass:"ps-2 text-truncate",width:"40%"},{name:"department.name",title:"Department",titleClass:"ps-2 ",dataClass:"ps-2 text-start"},{name:"address",title:"ADDRESS",titleClass:"ps-0",dataClass:"ps-0"},{name:"created_at",title:"REG. DATE",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center"}],employeeParams:{filter:{search:""}},workPerformanceFields:[{name:"__slot:employee.name",title:"Performance Review",titleClass:"text-start",dataClass:"pe-3 text-start"}],workPerformanceParams:{filter:{dtfilter:"",dueDataIsTom:!1}},interviewFields:[{name:"__slot:interview_title",title:"Interview",titleClass:"font-weight-bold",dataClass:"ps-3"}],interviewParams:{filter:{dtfilter:"",hasPassed:!1}},jobApplicationFields:[{name:"applicant.name",title:"Candidate",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"vacancy.name",title:"Vacancy",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"application_date",title:"Date of Application",titleClass:"font-weight-bold",dataClass:"ps-3"}],jobApplicationParams:{filter:{status:"Applied"}},unsolvedCasesFields:[{name:"__slot:employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"}],unsolvedCasesParams:{filter:{search:"",caseresolved:!1,dtfilter:""}},onleavefield:[{name:"__slot:employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:return_date",title:"Return Date",titleClass:"font-weight-bold",dataClass:"ps-3"}],leaveFields:[{name:"__slot:employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Leave",titleClass:"font-weight-bold",dataClass:"ps-3 align-items-start"}],leaveParams:{filter:{search:"",approved:!1,rejected:!1}},filterParams:{filter:{search:"",start_date:(new Date).toISOString().slice(0,10)}},calenderShow:!1,form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},created:function(){this.getLeaveRequestAnalysis()},computed:{vuetable:function(){return this.$refs.table2.$refs.vuetable}},mounted:function(){},watch:{"scheduleFilter.date":function(t){return this.unsolvedCasesParams.filter.dtfilter=t,this.$refs.table2.$refs.vuetable.reload()}},methods:{showCalender:function(){this.calenderShow=!0,this.$bvModal.show("calender-modal")},getLeaveRequestAnalysis:function(){var t=this;this.$httpClient.get("/leave-request-analsis").then((function(e){var a=e.data;t.series=a})).catch((function(t){console.error(t)}))},updateGreeting:function(){var t,e=this.user.name,a=new Date,s=a.getHours();t=s<12?"Good Morning":s<18?"Good Afternoon":"Good Evening";var r=a.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return"<h2>".concat(t,", ").concat(e,"</h2><br> <div>It's ").concat(r,"</div>")},backgroundImageUrl:function(t){return null!=t.profile_image?"/storage/".concat(t.profile_image.file_path):"/storage/profile/default.jpg"},searchEmployees:r()((function(){return this.$refs.tableEmployee.$refs.vuetable.reload()}),700),formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},checkLeaveEnd:function(t){var e=new Date(t);e.setHours(0);var a=new Date;a.setDate(a.getDate()+1);var s=new Date(a.getFullYear(),a.getMonth(),a.getDate());return e.getTime()===s.getTime()},hasLeaveEnd:function(t){var e=new Date(t);e.setHours(0);var a=new Date;a.setDate(a.getDate());var s=new Date(a.getFullYear(),a.getMonth(),a.getDate());return console.log(s),e.getTime()===s.getTime()}}};var b=a(5509),h={insert:"head",singleton:!1};d()(b.Z,h);b.Z.locals;const y=(0,p.Z)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-bdy"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-8"},[e("div",{domProps:{innerHTML:t._s(t.updateGreeting())}})]),t._v(" "),e("div",{staticClass:"col-md-4 d-flex justify-content-end align-items-end"},[e("div",[e("button",{staticClass:"btn btn-outline-secondary rounded",on:{click:t.showCalender}},[e("span",{staticClass:"me-2"},[e("svg",{staticClass:"bi bi-calendar-event",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"}}),t._v(" "),e("path",{attrs:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"}})])]),t._v(" Calender")])])])]),t._v(" "),e("div",{staticClass:"row row-cards mb-4"},[e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("Total Employee")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticClass:"bi bi-people",staticStyle:{size:"32px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.noofemployees))])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("Turnover Rate")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticClass:"bi bi-people",staticStyle:{size:"32px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.turnover.employeeWhoLeft))]),t._v(" "),e("span",{staticClass:"text-success small pt-1 fw-bold"},[t._v(t._s(t.turnover.rate)+"%")]),t._v(" "),e("span",{staticClass:"text-muted small pt-2 ps-1"},[t._v("Than last year")])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("Payrolls")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticStyle:{size:"12px"},attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24",id:"coins"}},[e("path",{attrs:{fill:"currentColor",d:"M21.22,12A3,3,0,0,0,22,10a3,3,0,0,0-3-3H13.82A3,3,0,0,0,11,3H5A3,3,0,0,0,2,6a3,3,0,0,0,.78,2,3,3,0,0,0,0,4,3,3,0,0,0,0,4A3,3,0,0,0,2,18a3,3,0,0,0,3,3H19a3,3,0,0,0,2.22-5,3,3,0,0,0,0-4ZM11,19H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,9h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,5h6a1,1,0,0,1,0,2Zm8.69,11.71A.93.93,0,0,1,19,19H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,18.71Zm0-4A.93.93,0,0,1,19,15H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,14.71Zm0-4A.93.93,0,0,1,19,11H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,10.71Z"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v("ksh "+t._s(t.payroll.netDeff))]),t._v(" "),e("span",{staticClass:"text-success small pt-1 fw-bold"},[t._v(t._s(t.payroll.netIncPe)+"%")]),t._v(" "),e("span",{staticClass:"text-muted small pt-2 ps-1"},[t._v("Than last month")])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("On leave")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticClass:"bi bi-people",staticStyle:{size:"32px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.onleave))])])])])])])]),t._v(" "),e("div",{staticClass:"row row-deck row-cards"},[e("div",{staticClass:"col-md-6 col-lg-4 mb-3"},[e("div",{staticClass:"card section"},[e("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),e("span",{staticClass:"d-flex gap-2 align-items-center"},[e("label",{attrs:{for:""}},[t._v("Date: ")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.scheduleFilter.date},on:{"on-change":function(e,a){t.scheduleFilter.date=a}}})],1)]),t._v(" "),e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2 mx-1"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Meetings\n                  ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/interview",fields:t.interviewFields,"append-params":t.interviewParams},scopedSlots:t._u([{key:"interview_title",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url('/storage/profile/default.jpg')"}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.application.applicant.name))]),t._v(" "),e("span",{staticClass:"small"},[t._v(t._s(a.rowData.date_and_time))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.application.applicant.email}},[t._v(t._s(a.rowData.application.applicant.email))])]),t._v(" "),e("div",{staticClass:"text-secondary"},[e("a",{staticClass:"text-reset",attrs:{href:"#"}},[t._v(t._s(a.rowData.application.vacancy.name))])])])])]}}])})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Cases\n                  ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/disciplinary-cases",fields:t.unsolvedCasesFields,"append-params":t.unsolvedCasesParams},scopedSlots:t._u([{key:"employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s(a.rowData.employee.name)+" "),t.hasLeaveEnd(a.rowData.resolution_date)?e("small",{staticClass:"text-warning",attrs:{title:"Case to be resolved today"}},[t._v(" | Today")]):t._e(),t._v(" "),t.checkLeaveEnd(a.rowData.resolution_date)?e("small",{staticClass:"text-warning"},[t._v("| Tomorrow")]):t._e()]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.email}},[t._v(t._s(a.rowData.employee.email))])])])])]}},{key:"resolution_date",fn:function(a){return[e("div",{staticClass:"text-reset"},[t._v(t._s(t.formatDate(a.rowData.resolution_date)))])]}}])})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Reviews\n                  ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/performance",fields:t.workPerformanceFields,"append-params":t.workPerformanceParams},scopedSlots:t._u([{key:"employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",{attrs:{title:"employee name and group"}},[t._v(t._s(a.rowData.employee.name)+" | "+t._s(a.rowData.job_group.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"due date"}},[t._v(t._s(t.formatDate(a.rowData.due_date)))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.email}},[t._v(t._s(a.rowData.employee.email))])])])]),t._v(" "),a.rowData.employee.supervisor?e("div",{staticClass:"text-muted"},[t._v("Supervisor")]):t._e(),t._v(" "),a.rowData.employee.supervisor?e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee.supervisor),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s(a.rowData.employee.supervisor.name)+"\n\n                          ")]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.supervisor.email}},[t._v(t._s(a.rowData.employee.supervisor.email))])])])]):t._e()]}},{key:"employee_leave_type.leave_type",fn:function(a){return[e("div",{staticClass:"d-flex"},[e("div",[t._v("sddfd")]),t._v(" "),e("div",[t._v(t._s(a.employee_leave_type.leave_type.name))])])]}}])})],1)],1)],1)]),t._v(" "),e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"card section"},[t._m(1),t._v(" "),e("div",{staticClass:"pb-2"},[e("div",{staticClass:"col-lg-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.employeeParams.filter.search,expression:"employeeParams.filter.search"}],staticClass:"form-control",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.employeeParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.employeeParams.filter,"search",e.target.value)},t.searchEmployees]}})])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("VueTable",{ref:"tableEmployee",attrs:{"per-page":7,"api-url":"/datatable/employees",fields:t.employeeFields,"append-params":t.employeeParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"Job title"}},[t._v(t._s(a.rowData.job_title))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.email}},[t._v(t._s(a.rowData.email))])])])])]}}])})],1)])])]),t._v(" "),e("div",{staticClass:"row mt-4 g-3"},[e("div",{staticClass:"col-md-12 col-lg-8"},[e("div",{staticClass:"card section"},[t._m(2),t._v(" "),e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Leave Request\n                    ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"table-responsive"},[e("VueTable",{ref:"leaveTable",attrs:{"per-page":7,"api-url":"/datatable/leave-requests",fields:t.leaveFields,"append-params":t.leaveParams},scopedSlots:t._u([{key:"employee_leave_type.employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee_leave_type.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.employee_leave_type.employee.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"Job title"}},[t._v(t._s(a.rowData.employee_leave_type.employee.job_title))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee_leave_type.employee.email}},[t._v(t._s(a.rowData.employee_leave_type.employee.email))])])])]),t._v(" "),a.rowData.employee_leave_type.employee.supervisor?e("div",{staticClass:"text-muted"},[t._v("Supervisor")]):t._e(),t._v(" "),a.rowData.employee_leave_type.employee.supervisor?e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee_leave_type.employee.supervisor),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s(a.rowData.employee_leave_type.employee.supervisor.name)+"\n\n                                            "),a.rowData.supervisor_approved?e("span",{staticClass:"small text-success"},[t._v("| Has approved")]):a.rowData.supervisor_rejected?e("span",{staticClass:"small text-warning"},[t._v("| Has rejected")]):e("span",{staticClass:"small text-warning"},[t._v("Has not approved")])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee_leave_type.employee.supervisor.email}},[t._v(t._s(a.rowData.employee_leave_type.employee.supervisor.email))])])])]):t._e()]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{attrs:{title:"Leave type"}},[t._v("\n                             "+t._s(a.rowData.employee_leave_type.leave_type.name)+"\n                          ")]),t._v(" "),a.rowData.days>1?e("span",[t._v("\n                            "+t._s(a.rowData.days)+" days\n                          ")]):e("span",[t._v("\n                            "+t._s(a.rowData.days)+" day\n                          ")])]),t._v(" "),e("div",[e("span",{staticClass:"small"},[t._v("Starting from "+t._s(t.formatDate(a.rowData.start_date)))]),t._v(" "),e("span",{staticClass:"small"},[t._v("To "+t._s(t.formatDate(a.rowData.end_date)))])])]}}])})],1)]),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("On leave\n                    ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"leaveTable",attrs:{"per-page":7,"api-url":"/datatable/employee_on_leave",fields:t.leaveFields,"append-params":t.filterParams},scopedSlots:t._u([{key:"employee_leave_type.employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee_leave_type.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.employee_leave_type.employee.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"Job title"}},[t._v(t._s(a.rowData.employee_leave_type.employee.job_title))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee_leave_type.employee.email}},[t._v(t._s(a.rowData.employee_leave_type.employee.email))])])])]),t._v(" "),a.rowData.employee_leave_type.employee.supervisor?e("div",{staticClass:"text-muted"},[t._v("Supervisor")]):t._e(),t._v(" "),a.rowData.employee_leave_type.employee.supervisor?e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee_leave_type.employee.supervisor),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v(t._s(a.rowData.employee_leave_type.employee.supervisor.name)+"\n\n                              "),a.rowData.supervisor_approved?e("span",{staticClass:"small text-success"},[t._v("| Has approved")]):a.rowData.supervisor_rejected?e("span",{staticClass:"small text-warning"},[t._v("| Has rejected")]):e("span",{staticClass:"small text-warning"},[t._v("Has not approved")])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee_leave_type.employee.supervisor.email}},[t._v(t._s(a.rowData.employee_leave_type.employee.supervisor.email))])])])]):t._e()]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{attrs:{title:"Leave type"}},[t._v("\n                             "+t._s(a.rowData.employee_leave_type.leave_type.name)+"\n                          ")]),t._v(" "),a.rowData.days>1?e("span",[t._v("\n                            "+t._s(a.rowData.days)+" days\n                          ")]):e("span",[t._v("\n                            "+t._s(a.rowData.days)+" day\n                          ")])]),t._v(" "),e("div",[e("span",{staticClass:"small"},[t._v("Starting from "+t._s(t.formatDate(a.rowData.start_date)))]),t._v(" "),e("span",{staticClass:"small"},[t._v("To "+t._s(t.formatDate(a.rowData.end_date)))])])]}}])})],1)],1)],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card section"},[e("apexchart",{attrs:{type:"line",height:"350",options:t.chartOptions,series:t.series}})],1)])])])])]),t._v(" "),e("b-modal",{attrs:{size:"xl",id:"calender-modal",title:"Calender","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""}},[e("Calender",{attrs:{isCalendarInitialized:t.calenderShow}})],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"section-header"},[t("h4",{staticClass:"card-title"},[this._v("Schedule")])])},function(){var t=this._self._c;return t("div",{staticClass:"section-header"},[t("h4",{staticClass:"card-title"},[this._v("Employee")])])},function(){var t=this._self._c;return t("div",{staticClass:"section-header"},[t("h4",{staticClass:"card-title"},[this._v("Leave")])])}],!1,null,"5440cfbf",null).exports},8645:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"demotion_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee.name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:job_title",title:"Job Title",titleClass:"ps-1"},{name:"__slot:job_group",title:"Job Group",titleClass:"ps-1"},{name:"demoted_by.name",title:"demoted By",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}}}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/demotions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n\n\n              >\n            ")])])])]}},{key:"job_title",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.new_job_title)+" <-  "+t._s(a.rowData.previous_job_title)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"job_group",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.new_job_group.name)+" <-  "+t._s(a.rowData.previous_job_group.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item text-danger",attrs:{disabled:"true",href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},8376:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={props:{actionstypes:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"incident_date",title:"Date",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"__slot:name",title:"Employee",titleClass:"font-weight-bold"},{name:"description",title:"Description",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"severity_level.name",title:"Severity Level",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"resolution_date",title:"Resolution Date",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"status",title:"Status",titleClass:"font-weight-bold text-right",dataClass:"text-right",width:"10%",callback:function(t){return t?"Closed":"Open"}},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:"",caseresolved:!1}},form:new window.Form({case_id:null,action_type_id:"",action_date:"",action_details:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},watch:{},methods:{showActionForm:function(t){this.form.case_id=t.id,this.$bvModal.show("resolve-form-modal")},resolveCase:function(){var t=this;this.form.post("/disciplinary-case/resolve-case").then((function(){t.$bvModal.hide("resolve-form-modal"),t.$toast.success("Case resolved"),t.vuetable.reload()})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/disciplinary-cases",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.employee.name)+" ")])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("b-dropdown-header",[t._v("Action")]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Download the payslip"},on:{click:function(e){return t.showActionForm(a.rowData)}}},[e("i",{staticClass:"uil uil-down-arrow mr-2"}),t._v(" resolve case")])])],1)])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"resolve-form-modal",title:"Resolve Case","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:t.resolveCase}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Action")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.actionstypes,label:"name"},model:{value:t.form.action_type_id,callback:function(e){t.$set(t.form,"action_type_id",e)},expression:"form.action_type_id"}}),t._v(" "),t.form.hasError("action_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("action_type_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Action Details")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.action_details,expression:"form.action_details"}],staticClass:"form-control",domProps:{value:t.form.action_details},on:{input:function(e){e.target.composing||t.$set(t.form,"action_details",e.target.value)}}}),t._v(" "),t.form.hasError("action_details")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("action_details"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Action Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.action_date,"min-date":new Date},on:{"on-change":function(e,a){t.form.action_date=a}}}),t._v(" "),t.form.hasError("action_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("action_date"))}}):t._e()],1)])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"incident_date",title:"Date",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"__slot:name",title:"Employee",titleClass:"font-weight-bold"},{name:"description",title:"Description",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"severity_level.name",title:"Severity Level",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"action_taken.action_date",title:"Action Date",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"action_taken.action_type.name",title:"Action Taken",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"status",title:"Status",titleClass:"font-weight-bold text-right",dataClass:"text-right",width:"10%",callback:function(t){return t?"Closed":"Open"}},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:"",caseresolved:!0}}}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{viewDetails:function(t){console.log(t),this.$bvModal.show("detail-view-modal")},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i={props:["actionstypes"],components:{UnresolvedCases:o,ResolvedCases:(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/disciplinary-cases",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.employee.name)+" ")])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Mail the payslip to employee"},on:{click:function(e){return e.preventDefault(),t.viewDetails(a.rowData)}}},[e("i",{staticClass:"uil uil-envelope mr-2"}),t._v(" View Details")])])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"detail-view-modal",title:"Disciplinary Case View","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")])]}}])},[e("div",[t._v("\n      inve\n    ")])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},data:function(){return{}}};const l=(0,r.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Unresolved Cases\n          ")]},proxy:!0}])},[t._v(" "),e("unresolved-cases",{attrs:{actionstypes:t.actionstypes}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Resolved\n          ")]},proxy:!0}])},[t._v(" "),e("resolved-cases")],1)],1)],1)}),[],!1,null,null,null).exports},4112:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const o={props:{employeetypes:{type:Array,default:function(){return[]}},branches:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},departments:{type:Array,default:function(){return[]}},employees:{type:Array,default:function(){return[]}}},data:function(){return{PAYEOptions:[{name:"Not Applicable",value:0},{name:"Graduated Tax",value:1},{name:"30% of Gross Salary",value:2},{name:"5% with-holding",value:3}],marital_status:[{name:"Single",value:0},{name:"Married",value:1},{name:"Devoced",value:2},{name:"Others",value:3}],is_disabled:[{name:"No",value:0},{name:"Yes",value:1}],genderList:["MALE","FEMALE"],is_in_contract:!1,disabilities:["Mobility Impairments","Chronic Health Conditions","Visual Impairments","Hearing Impairments","Intellectual Disabilities","Autism Spectrum Disorders","Mental Illnesses","Dyslexia","Dyscalculia","Dysgraphia","Multiple Sclerosis","Cerebral Palsy","Traumatic Brain Injury","Chronic Fatigue Syndrome","Fibromyalgia","Speech Impairments","Language Impairments","Memory Disorders","Attention Deficit Disorders"],form:new window.Form({id:null,name:"",dob:"",gender:"",identification_number:"",physical_address:"",job_title:"",marital_status:"",is_disabled:"",disability:"",telephone:"",staff_number:"",employee_type_id:null,next_of_kin:"",supervisor:"",next_of_kin_tel:"",home_county:"",home_constituency:"",ethnicity:"",home_sub_county:"",conflicts_of_interest:"",email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:0,job_group_id:null,branch_id:null,contract_exp:null,is_contract:!1,pays_tax:!1,pays_nssf:!1,pays_shif:!1,department_id:null,nationality:"",createLogin:!1,username:"",password:"",cpassword:"",activated:!1})}},watch:{"form.employee_type_id":function(t){"Permanent"!==this.employeetypes.find((function(e){return e.id===t})).name?(this.is_in_contract=!0,this.form.is_contract=!0):(this.is_in_contract=!1,this.form.is_contract=!1)},"form.createLogin":function(t){if(t){var e=this.form.name;this.form.name=e;var a=s(e.split(" ")),r=a[0],o=a[1];this.form.username="".concat(r.substr(0,1),".").concat(null!=o?o:"").toLocaleLowerCase()}}},computed:{filterEmployee:function(){var t=this;return this.form.department_id?this.employees.filter((function(e){return e.department_id===t.form.department_id})):this.employees}},methods:{registerEmployee:function(){var t=this;!this.form.createLogin||this.form.password===this.form.cpassword&&""!==this.username?this.form.post("/employees").then((function(){t.$toast.success("Employee Registered successfully"),setTimeout((function(){window.location.assign("/employees")}),2e3)})).catch():this.$toast.error("Password do not match, try again")},goBack:function(){window.location.assign("/employees")}}};const n=(0,a(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto p-4"},[t._m(0),t._v(" "),e("div",{staticClass:"card card-stacked"},[e("form",{staticClass:"card-body py-4",on:{submit:function(e){return e.preventDefault(),t.registerEmployee.apply(null,arguments)}}},[e("div",{staticClass:"row g-4"},[e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Payroll Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.staff_number,expression:"form.staff_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.staff_number},on:{input:function(e){e.target.composing||t.$set(t.form,"staff_number",e.target.value)}}}),t._v(" "),t.form.hasError("staff_number")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("staff_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Full name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Gender")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.genderList,reduce:function(t){return t},clearable:!1},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}}),t._v(" "),t.form.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date of Birth")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.dob,"max-date":new Date},on:{"on-change":function(e,a){t.form.dob=a}}}),t._v(" "),t.form.hasError("dob")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("dob"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Identification number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_number,expression:"form.identification_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.identification_number},on:{input:function(e){e.target.composing||t.$set(t.form,"identification_number",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Mobile number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Physical address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.physical_address,expression:"form.physical_address"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.physical_address},on:{input:function(e){e.target.composing||t.$set(t.form,"physical_address",e.target.value)}}}),t._v(" "),t.form.hasError("physical_address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("physical_address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Marital Status")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.marital_status,reduce:function(t){return t.value},clearable:!1},model:{value:t.form.marital_status,callback:function(e){t.$set(t.form,"marital_status",e)},expression:"form.marital_status"}}),t._v(" "),t.form.hasError("marital_status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("marital_status"))}}):t._e()],1),t._v(" "),e("div",[e("h5",[t._v("Next of kin")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.next_of_kin,expression:"form.next_of_kin"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.next_of_kin},on:{input:function(e){e.target.composing||t.$set(t.form,"next_of_kin",e.target.value)}}}),t._v(" "),t.form.hasError("next_of_kin")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("next_of_kin"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Tel")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.next_of_kin_tel,expression:"form.next_of_kin_tel"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.next_of_kin_tel},on:{input:function(e){e.target.composing||t.$set(t.form,"next_of_kin_tel",e.target.value)}}}),t._v(" "),t.form.hasError("next_of_kin_tel")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("next_of_kin_tel"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Nationality")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nationality,expression:"form.nationality"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.nationality},on:{input:function(e){e.target.composing||t.$set(t.form,"nationality",e.target.value)}}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Home County")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.home_county,expression:"form.home_county"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.home_county},on:{input:function(e){e.target.composing||t.$set(t.form,"home_county",e.target.value)}}}),t._v(" "),t.form.hasError("home_county")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("home_county"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Home sub county")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.home_sub_county,expression:"form.home_sub_county"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.home_sub_county},on:{input:function(e){e.target.composing||t.$set(t.form,"home_sub_county",e.target.value)}}}),t._v(" "),t.form.hasError("home_sub_county")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("home_sub_county"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Home constituency")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.home_constituency,expression:"form.home_constituency"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.home_constituency},on:{input:function(e){e.target.composing||t.$set(t.form,"home_constituency",e.target.value)}}}),t._v(" "),t.form.hasError("home_constituency")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("home_constituency"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Ethnicity")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ethnicity,expression:"form.ethnicity"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.ethnicity},on:{input:function(e){e.target.composing||t.$set(t.form,"ethnicity",e.target.value)}}}),t._v(" "),t.form.hasError("ethnicity")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("ethnicity"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Is disabled")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.is_disabled,reduce:function(t){return t.value},clearable:!1},model:{value:t.form.is_disabled,callback:function(e){t.$set(t.form,"is_disabled",e)},expression:"form.is_disabled"}}),t._v(" "),t.form.hasError("is_disabled")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("is_disabled"))}}):t._e()],1),t._v(" "),1===t.form.is_disabled?e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Type of Disability")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.disabilities,reduce:function(t){return t},clearable:!1},model:{value:t.form.disability,callback:function(e){t.$set(t.form,"disability",e)},expression:"form.disability"}}),t._v(" "),t.form.hasError("disability")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("disability"))}}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Job Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_title,expression:"form.job_title"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.job_title},on:{input:function(e){e.target.composing||t.$set(t.form,"job_title",e.target.value)}}}),t._v(" "),t.form.hasError("job_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_title"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.departments,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Report to")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.filterEmployee,reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))]),t._v(" "),e("br"),t._v(" "),e("small",{staticClass:"text-warning"},[t._v(t._s(a.department.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}}]),model:{value:t.form.supervisor,callback:function(e){t.$set(t.form,"supervisor",e)},expression:"form.supervisor"}}),t._v(" "),t.form.hasError("supervisor")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("supervisor"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Employee Type")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_type_id,callback:function(e){t.$set(t.form,"employee_type_id",e)},expression:"form.employee_type_id"}}),t._v(" "),t.form.hasError("employee_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_type_id"))}}):t._e()],1),t._v(" "),t.is_in_contract?e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Employment Expiry Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.contract_exp,"min-date":new Date},on:{"on-change":function(e,a){t.form.contract_exp=a}}}),t._v(" "),t.form.hasError("contract_exp")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("contract_exp"))}}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Job Group")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.job_group_id,callback:function(e){t.$set(t.form,"job_group_id",e)},expression:"form.job_group_id"}}),t._v(" "),t.form.hasError("job_group_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_group_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Location")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.branches,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.branch_id,callback:function(e){t.$set(t.form,"branch_id",e)},expression:"form.branch_id"}}),t._v(" "),t.form.hasError("branch_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("branch_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-12 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Conflicts of Interest")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.conflicts_of_interest,expression:"form.conflicts_of_interest"}],staticClass:"form-control",domProps:{value:t.form.conflicts_of_interest},on:{input:function(e){e.target.composing||t.$set(t.form,"conflicts_of_interest",e.target.value)}}}),t._v(" "),t.form.hasError("conflicts_of_interest")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("conflicts_of_interest"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-8 mx-auto mt-4"},[e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_tax,expression:"form.pays_tax"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_tax)?t._i(t.form.pays_tax,null)>-1:t.form.pays_tax},on:{change:function(e){var a=t.form.pays_tax,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_tax",a.concat([null])):o>-1&&t.$set(t.form,"pays_tax",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_tax",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays tax")])])])]),t._v(" "),t.form.pays_tax?e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[t._v("Tax Setup")]),t._v(" "),e("v-select",{attrs:{id:"paye_type",options:t.PAYEOptions,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:t.form.payee_type,callback:function(e){t.$set(t.form,"payee_type",e)},expression:"form.payee_type"}}),t._v(" "),t.form.errors.has("payee_type")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.get("payee_type"))}}):t._e()],1):t._e(),t._v(" "),t.form.pays_tax?e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("Kra Pin")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_shif,expression:"form.pays_shif"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_shif)?t._i(t.form.pays_shif,null)>-1:t.form.pays_shif},on:{change:function(e){var a=t.form.pays_shif,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_shif",a.concat([null])):o>-1&&t.$set(t.form,"pays_shif",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_shif",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays SHIF")])])])]),t._v(" "),t.form.pays_shif?e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("SHIF NUMBER")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.shif_no,expression:"form.shif_no"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.shif_no},on:{input:function(e){e.target.composing||t.$set(t.form,"shif_no",e.target.value)}}}),t._v(" "),t.form.hasError("shif_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("shif_no"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nssf,expression:"form.pays_nssf"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nssf)?t._i(t.form.pays_nssf,null)>-1:t.form.pays_nssf},on:{change:function(e){var a=t.form.pays_nssf,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nssf",a.concat([null])):o>-1&&t.$set(t.form,"pays_nssf",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nssf",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays NSSF")])])])]),t._v(" "),t.form.pays_nssf?e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("NSSF NUMBER")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nssf_no,expression:"form.nssf_no"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.nssf_no},on:{input:function(e){e.target.composing||t.$set(t.form,"nssf_no",e.target.value)}}}),t._v(" "),t.form.hasError("nssf_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nssf_no"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-2"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.createLogin,expression:"form.createLogin"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.createLogin)?t._i(t.form.createLogin,null)>-1:t.form.createLogin},on:{change:function(e){var a=t.form.createLogin,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"createLogin",a.concat([null])):o>-1&&t.$set(t.form,"createLogin",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"createLogin",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Create Login Details")])])])]),t._v(" "),t.form.createLogin?e("fieldset",{staticClass:"form-fieldset mt-3"},[e("div",{staticClass:"text-center fw-bold my-3"},[t._v("Employee Login Details")]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label required"},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label required"},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"name",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label required"},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cpassword,expression:"form.cpassword"}],staticClass:"form-control",attrs:{id:"name",type:"password"},domProps:{value:t.form.cpassword},on:{input:function(e){e.target.composing||t.$set(t.form,"cpassword",e.target.value)}}}),t._v(" "),t.form.hasError("cpassword")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("cpassword"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"form-group mb-2"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("enabled")])])])])])]):t._e()]),t._v(" "),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-primary me-3",attrs:{type:"submit"}},[t._v("\n                Submit\n              ")]),t._v(" "),e("button",{staticClass:"btn",attrs:{disabled:t.form.processing||t.form.successful},on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("\n                Cancel\n              ")])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-4"},[e("h1",{staticClass:"fs-1"},[t._v("\n          Employee Registration\n        ")]),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("Complete the form below to register a new employee")])])}],!1,null,null,null).exports},7615:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(3279);const r={props:{genders:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"staff_number",title:"PayrollNo",titleClass:"text-muted text-start",dataClass:"text-muted text-start",width:"5%"},{name:"__slot:name",title:"NAME",titleClass:"ps-2",dataClass:"ps-2 text-truncate",width:"30%"},{name:"gender",title:"Sex",titleClass:"ps-2",dataClass:"ps-2",width:"10%"},{name:"dob",title:"DOB",titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"address",title:"ADDRESS",titleClass:"ps-0",dataClass:"ps-0",width:"10%"},{name:"__slot:telephone",title:"EM TYPE",titleClass:"ps-0",dataClass:"ps-0",width:"10%"},{name:"created_at",title:"REG. DATE",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR,width:"10%"},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{search:""}},form:new window.Form({id:null,name:"",date_of_birth:"",gender_id:"",identification_value:"",physical_address:"",telephone:"",email:"",kra_pin:"",nhif_no:"",pays_tax:!0,pays_nssf:!0,pays_nhif:!0,department_id:null,nationality:""}),selectedPatient:null,idNumberTaken:!1}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},checkIdentificationStatus:function(t){var e=this;t&&this.$httpClient.get("/check-id-number-status",{params:{identification_value:t}}).then((function(t){var a=t.data;console.log(a),e.idNumberTaken=a.data})).catch((function(t){}))},isOneWeekAway:function(t){var e=t.contract_exp;if(null===t.contract_exp)return!1;var a=new Date(e),s=new Date,r=new Date;return r.setDate(s.getDate()+7),a.setHours(0,0,0,0),r.setHours(0,0,0,0),s.setHours(0,0,0,0),a.getTime()>s.getTime()&&a.getTime()<r.getTime()},backgroundImageUrl:function(t){return null!=t.profile_image?"/storage/".concat(t.profile_image.file_path):"/storage/profile/default.jpg"},registerEmployee:function(){var t=this;this.form.post("/employees").then((function(){t.$bvModal.hide("registration-modal"),t.$toast.success("Employee Registered successfully"),t.vuetable.reload()})).catch()},showEditForm:function(t){var e=this;this.selectedPatient=t,setTimeout((function(){e.$bvModal.show("edit-modal")}),300)},applyFilter:function(){this.vuetable.refresh()},searchEmployees:a.n(s)()((function(){this.applyFilter()}),700)}};const o=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Employees"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.searchEmployees]}})]),t._v(" "),t._m(1)]),t._v(" "),e("VueTable",{ref:"table",staticClass:"table-hover",attrs:{"api-url":"/datatable/employees",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"Job title"}},[t._v(t._s(a.rowData.job_title))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.email}},[t._v(t._s(a.rowData.email))]),t._v(" |\n                        "),e("a",{staticClass:"text-muted",attrs:{href:"tel:"+a.rowData.telephone}},[t._v(t._s(a.rowData.telephone))])])])])]}},{key:"dob",fn:function(a){return[e("div",{staticClass:"row"},[a.rowData.date_of_birth?e("div",{staticClass:"col"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date_of_birth))+"\n              ")]),t._v(" "),e("small",{staticClass:"text-indigo"},[t._v("\n                "+t._s(a.rowData.age)+"\n              ")])]):e("div",{staticClass:"col"},[t._v("\n              N/A\n            ")])])]}},{key:"telephone",fn:function(a){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(a.rowData.type?a.rowData.type.name:"is not set")+"\n              ")]),t._v(" "),a.rowData.type?e("div",{staticClass:"text-muted"},["Permanent"!==a.rowData.type.name?e("div",[t.isOneWeekAway(a.rowData)?e("small",{staticClass:"text-warning"},[t._v("ends on "+t._s(" "+t.formatDate(a.rowData.contract_exp)))]):e("small",{staticClass:"text-info"},[t._v("ends on "+t._s(" "+t.formatDate(a.rowData.contract_exp)))])]):t._e()]):t._e()])])]}},{key:"actions",fn:function(a){return[e("a",{staticClass:"btn",attrs:{href:"/employees/"+a.rowData.id}},[t._v("View")])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"registration-modal",title:"Employee Registration","no-close-on-backdrop":"","hide-header-close":"","no-enforce-focus":"",lazy:"",scrollable:"","body-class":"px-4","footer-class":"d-flex justify-content-start border-top","modal-class":"modal-blur",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n          Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"form"}},[t._v("\n          Register Employee\n        ")])]}}])},[e("form",{attrs:{id:"form"},on:{submit:function(e){return e.preventDefault(),t.registerEmployee.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date of Birth")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.date_of_birth,"max-date":new Date},on:{"on-change":function(e,a){t.form.date_of_birth=a}}}),t._v(" "),t.form.hasError("date_of_birth")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date_of_birth"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Gender ")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.genders,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.gender_id,callback:function(e){t.$set(t.form,"gender_id",e)},expression:"form.gender_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[t._v("Identification Number")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_value,expression:"form.identification_value"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:t.form.identification_value},on:{blur:function(e){return t.checkIdentificationStatus(e.target.value)},input:function(e){e.target.composing||t.$set(t.form,"identification_value",e.target.value)}}}),t._v(" "),t.form.hasError("identification_value")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_value"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"telephone"}},[t._v("Mobile ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{id:"telephone",type:"tel"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}}),t._v(" "),t.form.hasError("telephone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("telephone"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Physical Address ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.physical_address,expression:"form.physical_address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.physical_address},on:{input:function(e){e.target.composing||t.$set(t.form,"physical_address",e.target.value)}}}),t._v(" "),t.form.hasError("physical_address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("physical_address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Department ")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Nationality")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.genders,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.nationality,callback:function(e){t.$set(t.form,"nationality",e)},expression:"form.nationality"}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_tax,expression:"form.pays_tax"}],staticClass:"form-check-input",attrs:{id:"pays_tax",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_tax)?t._i(t.form.pays_tax,null)>-1:t.form.pays_tax},on:{change:function(e){var a=t.form.pays_tax,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_tax",a.concat([null])):o>-1&&t.$set(t.form,"pays_tax",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_tax",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_tax"}},[t._v("Tax payer")])]),t._v(" "),t.form.hasError("pays_tax")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_tax"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nhif,expression:"form.pays_nhif"}],staticClass:"form-check-input",attrs:{id:"pays_nhif",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nhif)?t._i(t.form.pays_nhif,null)>-1:t.form.pays_nhif},on:{change:function(e){var a=t.form.pays_nhif,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nhif",a.concat([null])):o>-1&&t.$set(t.form,"pays_nhif",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nhif",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_nhif"}},[t._v("NHIF payer")])]),t._v(" "),t.form.hasError("pays_nhif")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_nhif"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nssf,expression:"form.pays_nssf"}],staticClass:"form-check-input",attrs:{id:"pays_nssf",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nssf)?t._i(t.form.pays_nssf,null)>-1:t.form.pays_nssf},on:{change:function(e){var a=t.form.pays_nssf,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nssf",a.concat([null])):o>-1&&t.$set(t.form,"pays_nssf",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nssf",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_nssf"}},[t._v("NSSF payer")])]),t._v(" "),t.form.hasError("pays_nssf")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_nssf"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Kra Pin")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])},function(){var t=this._self._c;return t("div",{staticClass:"card-actions"},[t("a",{staticClass:"btn btn-primary me-3",attrs:{href:"/employees/create"}},[this._v("New Registration")])])}],!1,null,null,null).exports},6772:(t,e,a)=>{"use strict";a.d(e,{Z:()=>$});var s=a(538),r=a(4801);const o=(0,s.defineComponent)({name:"Contributions",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},contributions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"contribution.name",title:"Contribution",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"start_date",title:"Start Date",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"end_date",title:"End Date",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeContributions:[],form:new window.Form({id:null,employee_id:this.employee.id,contribution_id:"",start_date:"",end_date:"",amount:null,continuous:!1}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"})}},watch:{"form.continuous":function(t){t&&(this.form.end_date=null)}},mounted:function(){this.retrieveEmployeeConributions()},methods:{retrieveEmployeeConributions:function(){var t=this;this.$httpClient.get("/employee/contributions/"+this.employee.id).then((function(e){var a=e.data;t.employeeContributions=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee contributions")}))},openContributionModal:function(){this.$bvModal.show("contribution-modal")},addContribution:function(){var t=this;this.form.post("/employee/contributions").then((function(){t.$toast.success("Contribution has been added"),t.cleanUp(),t.$emit("bill-added")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editContribution:function(t){this.form.populate(t),this.$bvModal.show("edit-contribution-modal")},updateContribution:function(){var t=this;this.form.patch("/employee/contributions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-contribution-modal"),t.vuetable.reload()})).catch()},deleteContribution:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/contributions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeConributions()}}});var n=a(1900);const i=(0,n.Z)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"contribution-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Contribution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.contributions,label:"name"},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.continuous?t._e():e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-contribution-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Contribution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.contributions,label:"name"},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.continuous?t._e():e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openContributionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Contribution\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeContributions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n          ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n          ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Contributions\n        ")])])}],!1,null,"664b5788",null).exports;var l=a(9940);const c=(0,s.defineComponent)({name:"EmployeeDocument",components:{MediaLibraryAttachment:l.c},props:{employee:{type:Object,required:!0}},data:function(){return{documents:[],value:{name:"media",media:{}},enableForm:!1,form:new window.Form({document_name:"",employee_id:this.employee.id,media:{},name:"media"}),validationErrors:{},isReadyToSubmit:!0}},mounted:function(){this.retrieveDocuments()},methods:{toggleForm:function(){this.enableForm=!this.enableForm},onChange:function(t){this.value.media=t},uploadDocument:function(){var t=this;this.form.media=this.value.media,this.form.post("/employee/employee-documents").then((function(){t.$refs.mediaComponent.mediaLibrary.changeState((function(t){t.media=[]})),t.$toast.success("Document uploaded successfully"),t.toggleForm(),t.retrieveDocuments()})).catch()},retrieveDocuments:function(){var t=this;this.$httpClient.get("/employee/employee-documents",{params:{employee_id:this.employee.id}}).then((function(e){var a=e.data;t.documents=a})).catch((function(t){console.error(t)}))}}});const d=(0,n.Z)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.enableForm?e("div",[e("div",{staticClass:"card rounded-3"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[t._v("\n          Close\n        ")])])]),t._v(" "),e("div",{staticClass:"card-body px-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.uploadDocument.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Document Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.document_name,expression:"form.document_name"}],staticClass:"form-control",attrs:{name:"document_name",type:"text"},domProps:{value:t.form.document_name},on:{input:function(e){e.target.composing||t.$set(t.form,"document_name",e.target.value)}}}),t._v(" "),t.form.hasError("document_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("document_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("media-library-attachment",{ref:"mediaComponent",attrs:{name:"media","validation-rules":{accept:["image/jpeg","image/gif","application/pdf"],maxSizeInKB:10240},"validation-errors":t.validationErrors,"initial-value":t.value.media},on:{"is-ready-to-submit-change":function(e){t.isReadyToSubmit=e},change:t.onChange}})],1),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"}},[t._v("\n          Upload Document\n        ")])])])])]):e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._m(1),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-file-upload me-2"}),t._v(" Upload\n        ")])])]),t._v(" "),t._l(t.documents,(function(a){return e("div",{key:a.id,staticClass:"card-body"},[e("div",{staticClass:"row g-2 align-items-center"},[e("div",{staticClass:"col"},[e("h4",{staticClass:"card-title m-0"},[e("a",{attrs:{href:"#"}},[t._v(t._s(a.name))])]),t._v(" "),e("div",{staticClass:"text-secondary"},[t._v("\n            "+t._s(t._f("readableFileSize")(a.size))),e("br"),t._v(" "),e("small",{staticClass:"text-muted"},[t._v("by "),e("a",{attrs:{href:"/employees/"+a.uploaded_by.id}},[t._v(t._s(a.uploaded_by.name))]),t._v(" on "+t._s(t._f("dATE_MONTH_YEAR_HOUR_MINUTES")(a.created_at))+" ")])])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("a",{staticClass:"btn",attrs:{href:"/employee/employee-document/"+a.uuid,target:"_blank"}},[t._v("\n            Download\n          ")])])])])}))],2)])}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h3",{staticClass:"card-title"},[t._v("\n          Documents\n        ")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n          Upload document\n        ")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h3",{staticClass:"card-title"},[t._v("\n          Documents\n        ")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n          Listing uploaded documents\n        ")])])}],!1,null,"03f9f282",null).exports;const m=(0,s.defineComponent)({name:"Allowances",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},allowances:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"allowance.name",title:"Allowance",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"__slot:amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:null,employee_id:this.employee.id,allowance_id:null,amount:null}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"}),selectedBill:"",employeeAllowances:[]}},computed:{vuetable:function(){return this.$refs.tablee.$refs.vuetable}},watch:{"form.item":function(t){this.showStore=!1,this.showVendor=!1,this.assignedTo=[],this.form.vendor_id=null,this.form.store_id=null,t&&(this.setupProductPriceSetup(t),this.displayStoreSelection(t),this.displayDoctorsAssigned(),this.findAvailableStock())},"form.store_id":function(t){t&&this.findAvailableStock()}},mounted:function(){this.retrieveEmployeeAllowances()},methods:{retrieveEmployeeAllowances:function(){var t=this;this.$httpClient.get("/employee/allowances/"+this.employee.id).then((function(e){var a=e.data;t.employeeAllowances=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee allowances")}))},openAllowanceModal:function(){this.$bvModal.show("allowance-modal")},addAllowance:function(){var t=this;this.form.post("/employee/allowance").then((function(){t.$toast.success("Allowance has been added"),t.retrieveEmployeeAllowances(),t.vuetable.reload()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editAllowance:function(t){this.form.populate(t),this.$bvModal.show("edit-allowance-modal")},updateIncome:function(){var t=this;this.form.patch("/employee/allowance/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-allowance-modal"),t.vuetable.reload()})).catch()},deleteAllowance:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/allowance/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeAllowances()}}});const u=(0,n.Z)(m,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"allowance-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Allowance Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addAllowance}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.allowances,label:"name"},model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-allowance-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Allowance Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.allowances,label:"name"},model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openAllowanceModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Allowance\n          ")])])])]),t._v(" "),e("VueTable",{ref:"tablee",attrs:{"api-mode":!1,data:t.employeeAllowances,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editAllowance(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteAllowance(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Allowances\n        ")])])}],!1,null,"0a113baa",null).exports;const p=(0,s.defineComponent)({name:"Incomes",props:{incomes:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){}}},data:function(){return{fields:[{name:"employee.name",title:"Name",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"income.name",title:"Income / Earning",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:"",income_id:null,employee_id:this.employee.id,amount:null}),reverseForm:new window.Form({comments:"",detail_id:"",source:"1"}),employeeIncomes:[]}},computed:{vuetable:function(){return this.$refs.tablee.$refs.vuetable}},watch:{},mounted:function(){this.retrieveEmployeeIncomes()},methods:{retrieveEmployeeIncomes:function(){var t=this;this.$httpClient.get("/employee/incomes/"+this.employee.id).then((function(e){var a=e.data;t.employeeIncomes=a})).catch((function(){t.$toast.error("There was a problem retrieving the employee incomes")}))},openIncomeModal:function(){this.$bvModal.show("income-modal")},addIncome:function(){var t=this;this.form.post("/employee/incomes").then((function(){t.$toast.success("The income has been added"),t.retrieveEmployeeIncomes(),t.vuetable.reload()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editIncome:function(t){this.form.populate(t),this.$bvModal.show("edit-income-modal")},updateIncome:function(){var t=this;this.form.patch("/employee/incomes/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.retrieveEmployeeIncomes(),t.$bvModal.hide("edit-income-modal"),t.vuetable.reload()})).catch()},delIncome:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/incomes/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.retrieveEmployeeIncomes(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))}}});const f=(0,n.Z)(p,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"income-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur",size:"lg","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Income / Earning Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Income / Earning")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.incomes,label:"name"},model:{value:t.form.income_id,callback:function(e){t.$set(t.form,"income_id",e)},expression:"form.income_id"}}),t._v(" "),t.form.errors.has("income_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("income_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-income-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur",size:"lg","no-enforce-focus":"",title:"Edit Income / Earning Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Income / Earning")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.incomes,label:"name"},model:{value:t.form.income_id,callback:function(e){t.$set(t.form,"income_id",e)},expression:"form.income_id"}}),t._v(" "),t.form.errors.has("income_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("income_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openIncomeModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Income\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeIncomes,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"date",fn:function(a){return[e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date))+"\n          ")]),t._v(" "),e("div",{staticClass:"text-indigo small ps-3"},[t._v("\n            "+t._s(t._f("tIME_HOUR_MINUTES")(a.rowData.date))+"\n          ")])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editIncome(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.delIncome(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Incomes\n        ")])])}],!1,null,"0c69a832",null).exports;const v=(0,s.defineComponent)({name:"Pensions",props:{employee:{type:Object,default:function(){}},permissions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"pension.name",title:"Pension",titleClass:" text-end pe-3",dataClass:" text-end pe-3",width:"8%"},{name:"employer_max",title:"Employer Amount",titleClass:"ps-3",dataClass:"ps-3",width:"45%"},{name:"employee_max",title:"Employee Amount",dataClass:"ps-3",titleClass:"ps-3",width:"15%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeePensions:[],billToReverse:"",form:new window.Form({id:"",employee_id:this.employee.id,pension_id:null,employer_rate:0,employer_max:0,employee_rate:0,employee_max:0})}},mounted:function(){this.retrieveEmployeePensions()},methods:{retrieveEmployeePensions:function(){var t=this;this.$httpClient.get("/employee/pensions/"+this.employee.id).then((function(e){var a=e.data;t.employeePensions=a})).catch((function(){t.$toast.error("There was a problem retrieving employee pensions")}))},deletePension:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/pensions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openPensionModal:function(){this.$bvModal.show("pension-modal")},addPension:function(){var t=this;this.form.post("/employee/pensions").then((function(){t.$toast.success("Pension has been added"),t.cleanUp(),t.$bvModal.hide("pension-modal")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editPension:function(t){this.form.populate(t),this.$bvModal.show("edit-pension-modal")},updatePension:function(){var t=this;this.form.patch("/employee/pensions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-pension-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeePensions()}}});const _=(0,n.Z)(v,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"pension-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Pension Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addPension}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Pension")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,options:t.pensions,reduce:function(t){return t.id},label:"name"},model:{value:t.form.pension_id,callback:function(e){t.$set(t.form,"pension_id",e)},expression:"form.pension_id"}}),t._v(" "),t.form.errors.has("item_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("item_id"))}}):t._e(),t._v(" "),t.form.hasError("ledger_id")?e("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("ledger_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employer Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employer_max,expression:"form.employer_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employer_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employer_max",e.target.value)}}}),t._v(" "),t.form.hasError("employer_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employer_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employee Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employee_max,expression:"form.employee_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employee_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employee_max",e.target.value)}}}),t._v(" "),t.form.hasError("employee_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_max"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-pension-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Pension Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updatePension}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Pension")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,options:t.pensions,reduce:function(t){return t.id},label:"name"},model:{value:t.form.pension_id,callback:function(e){t.$set(t.form,"pension_id",e)},expression:"form.pension_id"}}),t._v(" "),t.form.errors.has("item_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("item_id"))}}):t._e(),t._v(" "),t.form.hasError("ledger_id")?e("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("ledger_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employer Rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employer_rate,expression:"form.employer_rate"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employer_rate},on:{input:function(e){e.target.composing||t.$set(t.form,"employer_rate",e.target.value)}}}),t._v(" "),t.form.hasError("employer_rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employer_rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employer Max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employer_max,expression:"form.employer_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employer_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employer_max",e.target.value)}}}),t._v(" "),t.form.hasError("employer_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employer_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employee Rate ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employee_rate,expression:"form.employee_rate"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employee_rate},on:{input:function(e){e.target.composing||t.$set(t.form,"employee_rate",e.target.value)}}}),t._v(" "),t.form.hasError("employee_rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employee Max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employee_max,expression:"form.employee_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employee_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employee_max",e.target.value)}}}),t._v(" "),t.form.hasError("employee_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_max"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openPensionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Pension\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeePensions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editPension(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deletePension(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Pensions\n        ")])])}],!1,null,"450e791c",null).exports;const b=(0,s.defineComponent)({name:"Relief",props:{reliefs:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){}}},data:function(){return{fields:[{name:"relief.name",title:"Name",titleClass:"ps-3",dataClass:"ps-3",width:"45%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:null,employee_id:this.employee.id,relief_id:null,amount:null}),enableForm:!1,employeeReliefs:[]}},mounted:function(){this.retrieveEmployeeReliefs()},methods:{retrieveEmployeeReliefs:function(){var t=this;this.$httpClient.get("/employee/reliefs/"+this.employee.id).then((function(e){var a=e.data;t.employeeReliefs=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee reliefs")}))},deleteRelief:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/reliefs/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openReliefModal:function(){this.$bvModal.show("relief-modal")},addRelief:function(){var t=this;this.form.post("/employee/reliefs").then((function(){t.$toast.success("Relief has been added"),t.cleanUp()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editRelief:function(t){this.form.populate(t),this.$bvModal.show("edit-relief-modal")},updateRelief:function(){var t=this;this.form.patch("/employee/reliefs/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-relief-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeeReliefs()}}});const h=(0,n.Z)(b,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"relief-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Employee Relief Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addRelief}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Relief")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.reliefs,label:"name"},model:{value:t.form.relief_id,callback:function(e){t.$set(t.form,"relief_id",e)},expression:"form.relief_id"}}),t._v(" "),t.form.errors.has("relief_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("relief_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-relief-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Employee Relief Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateRelief}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Relief")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.reliefs,label:"name"},model:{value:t.form.relief_id,callback:function(e){t.$set(t.form,"relief_id",e)},expression:"form.relief_id"}}),t._v(" "),t.form.errors.has("relief_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("relief_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openReliefModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add relief\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeReliefs,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editRelief(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteRelief(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Relief\n        ")])])}],!1,null,"522a88e4",null).exports;const y=(0,s.defineComponent)({name:"Dedutions",props:{deductions:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){return[]}}},data:function(){return{fields:[{name:"deduction.name",title:"Name",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeDeductions:[],billToReverse:"",form:new window.Form({id:null,employee_id:this.employee.id,deduction_id:null,amount:null}),enableForm:!1}},watch:{},mounted:function(){this.retrieveEmployeeDeductions()},methods:{retrieveEmployeeDeductions:function(){var t=this;this.$httpClient.get("/employee/deductions/"+this.employee.id).then((function(e){var a=e.data;t.employeeDeductions=a})).catch((function(){t.$toast.error("There was a problem retrieving the employee deductions")}))},openDeductionModal:function(){this.$bvModal.show("deduction-modal")},addDedution:function(){var t=this;this.form.post("/employee/deductions").then((function(){t.$toast.success("The deduction has been added"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editDeduction:function(t){this.form.populate(t),this.$bvModal.show("edit-deduction-modal")},updateIncome:function(){var t=this;this.form.patch("/employee/deductions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-deduction-modal"),t.vuetable.reload()})).catch()},deleteDeduction:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/deductions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeDeductions()}}});const g=(0,n.Z)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"deduction-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Dedution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addDedution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Dedution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.deductions,label:"name"},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.errors.has("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("deduction_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-deduction-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Dedution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Dedution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.deductions,label:"name"},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.errors.has("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("deduction_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openDeductionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Dedution\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeDeductions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"date",fn:function(a){return[e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date))+"\n          ")]),t._v(" "),e("div",{staticClass:"text-indigo small ps-3"},[t._v("\n            "+t._s(t._f("tIME_HOUR_MINUTES")(a.rowData.date))+"\n          ")])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Dedutions\n        ")])])}],!1,null,"4693be8a",null).exports;const C=(0,s.defineComponent)({name:"Qualification",props:{employee:{type:Object,default:function(){}},permissions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"qualification",title:"Qualification",titleClass:" text-end pe-3",dataClass:" text-center pe-3",width:"8%"},{name:"institution",title:"Institution",titleClass:"ps-3",dataClass:"ps-3",width:"45%"},{name:"date",title:"Date",titleClass:"text-center",dataClass:"text-center",width:"5%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeQualifications:[],billToReverse:"",form:new window.Form({id:null,employee_id:this.employee.id,date:"",institution:"",qualification:""})}},mounted:function(){this.retrieveEmployeeQualifications()},methods:{retrieveEmployeeQualifications:function(){var t=this;this.$httpClient.get("/employee/qualifications/"+this.employee.id).then((function(e){var a=e.data;t.employeeQualifications=a})).catch((function(){t.$toast.error("There was a problem retrieving employee qualifications")}))},deleteQualification:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/qualifications/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openQualificationModal:function(){this.$bvModal.show("qualification-modal")},addQualification:function(){var t=this;this.form.post("/employee/qualifications").then((function(){t.$toast.success("Qualification has been added"),t.cleanUp(),t.$bvModal.hide("qualification-modal")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editQualification:function(t){this.form.populate(t),this.$bvModal.show("edit-qualification-modal")},updateQualification:function(){var t=this;this.form.patch("/employee/qualifications/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-qualification-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeeQualifications()}}});const w=(0,n.Z)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"qualification-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Qualification Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addQualification}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Institution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.institution,expression:"form.institution"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.institution},on:{input:function(e){e.target.composing||t.$set(t.form,"institution",e.target.value)}}}),t._v(" "),t.form.hasError("institution")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("institution"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Qualification")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.qualification,expression:"form.qualification"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.qualification},on:{input:function(e){e.target.composing||t.$set(t.form,"qualification",e.target.value)}}}),t._v(" "),t.form.hasError("qualification")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("qualification"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-qualification-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Qualification Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateQualification}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Institution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.institution,expression:"form.institution"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.institution},on:{input:function(e){e.target.composing||t.$set(t.form,"institution",e.target.value)}}}),t._v(" "),t.form.hasError("institution")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("institution"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Qualification")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.qualification,expression:"form.qualification"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.qualification},on:{input:function(e){e.target.composing||t.$set(t.form,"qualification",e.target.value)}}}),t._v(" "),t.form.hasError("qualification")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("qualification"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openQualificationModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Qualification\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeQualifications,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editQualification(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteQualification(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Qualifications\n        ")])])}],!1,null,"052c9884",null).exports;const x=(0,s.defineComponent)({name:"Benefits",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},benefits:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"benefit.name",title:"Benefits",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,r.p)(t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeContributions:[],form:new window.Form({id:null,employee_id:this.employee.id,benefit_id:"",amount:null}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"})}},watch:{"form.continuous":function(t){t&&(this.form.end_date=null)}},mounted:function(){this.retrieveEmployeeBenefits()},methods:{retrieveEmployeeBenefits:function(){var t=this;this.$httpClient.get("/employee/benefits/"+this.employee.id).then((function(e){var a=e.data;t.employeeContributions=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee benefits")}))},openContributionModal:function(){this.$bvModal.show("benefit-modal")},addBenefit:function(){var t=this;this.form.post("/employee/benefits").then((function(){t.$toast.success("Benefit has been added"),t.cleanUp(),t.$emit("bill-added")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editContribution:function(t){this.form.populate(t),this.$bvModal.show("edit-benefit-modal")},updateContribution:function(){var t=this;this.form.patch("/employee/benefits/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-benefit-modal"),t.vuetable.reload()})).catch()},deleteContribution:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/benefits/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeBenefits()}}});const k={components:{Benefits:(0,n.Z)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"benefit-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Benefit Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addBenefit}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Benefit")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.benefits,label:"name"},model:{value:t.form.benefit_id,callback:function(e){t.$set(t.form,"benefit_id",e)},expression:"form.benefit_id"}}),t._v(" "),t.form.errors.has("benefit_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("benefit_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-benefit-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Benefit Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Benefit")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.benefits,label:"name"},model:{value:t.form.benefit_id,callback:function(e){t.$set(t.form,"benefit_id",e)},expression:"form.benefit_id"}}),t._v(" "),t.form.errors.has("benefit_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("benefit_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openContributionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Benefit\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeContributions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n          ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n          ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Benefits\n        ")])])}],!1,null,"ae06f130",null).exports,Attachments:d,Contributions:i,Allowances:u,Income:f,Pension:_,Relief:h,Dedutions:g,Qualification:w},props:{employee:{type:Object,required:!0,default:function(){}},employeetypes:{type:Array,default:function(){return[]}},actiontypes:{type:Array,default:function(){return[]}},severitylevels:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},branches:{type:Array,default:function(){return[]}},allowances:{type:Array,default:function(){return[]}},reliefs:{type:Array,default:function(){return[]}},deductions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}},contributions:{type:Array,default:function(){return[]}},benefits:{type:Array,default:function(){return[]}},departments:{type:Array,default:function(){return[]}},incomes:{type:Array,default:function(){return[]}},employees:{type:Array,default:function(){return[]}}},data:function(){return{PAYEOptions:[{name:"Not Applicable",value:0},{name:"Graduated Tax",value:1},{name:"30% of Gross Salary",value:2},{name:"5% with-holding",value:3}],disabilities:["Mobility Impairments","Chronic Health Conditions","Visual Impairments","Hearing Impairments","Intellectual Disabilities","Autism Spectrum Disorders","Mental Illnesses","Dyslexia","Dyscalculia","Dysgraphia","Multiple Sclerosis","Cerebral Palsy","Traumatic Brain Injury","Chronic Fatigue Syndrome","Fibromyalgia","Speech Impairments","Language Impairments","Memory Disorders","Attention Deficit Disorders"],employmentStatus:[{name:"active",value:0},{name:"suspended",value:1},{name:"terminated",value:2}],is_in_contract:!1,maritalStatus:[{name:"Single",value:0},{name:"Married",value:1},{name:"Divorce",value:2},{name:"Others",value:3}],is_disabled:[{name:"No",value:0},{name:"Yes",value:1}],genderList:["MALE","FEMALE"],employmentHistory:[],form:new window.Form({id:null,name:"",dob:"",gender:"",identification_number:"",physical_address:"",telephone:"",marital_status:"",job_title:"",staff_number:"",employee_type_id:null,contract_exp:null,job_group_id:null,email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:"",pays_tax:!1,pays_nssf:!1,pays_shif:!1,pays_housing_levy:!1,employment_status:!1,department_id:null,nationality:""}),employeeForm:new window.Form({id:null,name:"",dob:"",gender:"",is_disabled:"",disability:"",identification_number:"",address:"",job_title:"",telephone:"",staff_number:"",marital_status:"",home_county:"",home_constituency:"",ethnicity:"",home_sub_county:"",conflicts_of_interest:"",employee_type_id:null,job_group_id:null,contract_exp:null,branch_id:null,nextOfKin:"",nextOfKin_tel:"",email:"",supervisor:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:"",pays_tax:!1,pays_nssf:!1,pays_shif:!1,pays_housing_levy:!1,department_id:null,employment_status:!1,nationality:""}),promotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",promotion_date:null,promotion_reason:""}),demotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",demotion_date:null,demotion_reason:""}),transferForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",transfer_date:null,transfer_reason:""}),p9Form:new window.Form({employee_id:null,year:""}),employmentphoto:new window.Form({employee_id:this.employee.id,image:null}),caseForm:new window.Form({employee_id:null,incident_date:null,description:"",severity_level:null,resolution_date:null,resolution_details:"",status:!1,action_type_id:null,action_details:""}),showPatientEditForm:!1}},computed:{backgroundImageUrl:function(){return null!=this.employee.profile_image?"/storage/".concat(this.employee.profile_image.file_path):""},filterEmployee:function(){return this.employees}},watch:{"employeeForm.employee_type_id":function(t){"Permanent"!==this.employeetypes.find((function(e){return e.id===t})).name?(this.is_in_contract=!0,this.employeeForm.is_contract=!0):(this.is_in_contract=!1,this.employeeForm.is_contract=!1)}},created:function(){this.retrieveEmploymentHistory(),this.employeeForm.populate(this.employee),this.setMoreField()},methods:{togglePatientEditForm:function(){this.showPatientEditForm=!this.showPatientEditForm},setMoreField:function(){var t,e;this.employeeForm.nextOfKin=null!==(t=this.employee.next_of_kin.full_name)&&void 0!==t?t:"",this.employeeForm.nextOfKin_tel=null!==(e=this.employee.next_of_kin.phone_number)&&void 0!==e?e:""},showP9Form:function(){this.p9Form.employee_id=this.employee.id,this.p9Form.year=(new Date).getFullYear(),this.$bvModal.show("P10-form-modal")},showEmployeeImage:function(){this.$bvModal.show("profile-image-modal")},formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},formP9:function(){var t=this;this.$httpClient.get("/reports/download-form-9",{responseType:"blob",params:{employee_id:this.p9Form.employee_id,year:this.p9Form.year}}).then((function(e){var a=e.data;t.p9Form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.p9Form.errors.record("An unexpected error occurred. Please try again later.");t.p9Form.processing=!1}))},updateEmployee:function(){var t=this;this.employeeForm.patch("/employees/"+this.employee.id).then((function(){t.$toast.success("Employee details have been updated"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},showPromotionForm:function(){this.promotionForm.employee_id=this.employee.id,this.promotionForm.new_job_group_id=this.employee.job_group_id,this.promotionForm.new_department_id=this.employee.department_id,this.promotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("promotion-modal")},showDemotionForm:function(){this.demotionForm.employee_id=this.employee.id,this.demotionForm.new_job_group_id=this.employee.job_group_id,this.demotionForm.new_department_id=this.employee.department_id,this.demotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("demotion-modal")},showTransferForm:function(){this.transferForm.employee_id=this.employee.id,this.transferForm.new_job_group_id=this.employee.job_group_id,this.transferForm.new_department_id=this.employee.department_id,this.transferForm.new_job_title=this.employee.job_title,this.$bvModal.show("transfer-modal")},showCaseForm:function(){this.caseForm.employee_id=this.employee.id,this.$bvModal.show("record-case-modal")},transfer:function(){var t=this;this.$bvModal.hide("transfer-modal"),this.$toast.question("Are you sure?","You want to transfer "+this.employee.name).then((function(){t.transferForm.post("/employee/transfer").then((function(){t.$toast.success("Employee Transfered"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},showHistory:function(){this.$bvModal.show("employment-history-modal")},demotion:function(){var t=this;this.$bvModal.hide("demotion-modal"),this.$toast.question("Are you sure?","You want to demote "+this.employee.name).then((function(){t.demotionForm.post("/employee/demote").then((function(){t.$toast.success("Employee demoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},promote:function(){var t=this;this.$bvModal.hide("promotion-modal"),this.$toast.question("Are you sure?","You want to promote "+this.employee.name).then((function(){t.promotionForm.post("/employee/promote").then((function(){t.$toast.success("Employee promoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},recordCase:function(){var t=this;this.$toast.question("Confirm Action","Are you sure you want to submit a disciplinary case against ".concat(this.employee.name,"?")).then((function(){t.caseForm.post("/employee/disciplinary").then((function(){t.$toast.success("The disciplinary case has been successfully submitted."),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Oops! Something went wrong while submitting the disciplinary case."),t.form.errors.record(e.response.data.errors)}))}))},retrieveEmploymentHistory:function(){var t=this;this.$httpClient.get("/employee/employment-history/"+this.employee.id).then((function(e){var a=e.data;t.employmentHistory=a})).catch((function(){t.$toast.error("There was a problem retrieving the employment history")}))},uploadPhoto:function(){var t=this;this.employmentphoto.post("/employee/employee-photo").then((function(){t.$toast.success("Photo uploaded"),t.$bvModal.hide("profile-image-modal"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},updateImage:function(t){this.employmentphoto.image=t.target.files[0]}}};var P=a(3379),E=a.n(P),F=a(2549),D={insert:"head",singleton:!1};E()(F.Z,D);F.Z.locals;const $=(0,n.Z)(k,(function(){var t,e,a,s,r,o=this,n=o._self._c;return n("div",[n("div",{staticClass:"row mb-4 gx-4"},[n("div",{staticClass:"col-xl-5"},[o.showPatientEditForm?n("div",{staticClass:"card card-stacked"},[n("div",{staticClass:"card-header"},[n("div",[n("h3",{staticClass:"card-title"},[o._v("\n              "+o._s(o.employee.name)+"\n            ")]),o._v(" "),n("p",{staticClass:"card-subtitle small text-indigo"},[o._v("\n              Registered "+o._s(o._f("dATE_MONTH_YEAR_HOUR_MINUTES")(o.employee.employed_at))+"\n            ")]),1===o.employee.employment_status?n("div",{staticClass:"text-warning"},[o._v("\n              Suspended\n            ")]):o._e(),o._v(" "),(null===(t=o.employee)||void 0===t?void 0:t.probation.length)>=1?n("div",[n("span",{staticClass:"badge bg-green-lt my-2"},[o._v("In probation")])]):o._e(),o._v(" "),2===o.employee.employment_status?n("div",{staticClass:"text-danger"},[o._v("\n              Terminated\n            ")]):o._e(),o._v(" "),n("p")])]),o._v(" "),n("div",{staticClass:"card-body px-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Employee No")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.staff_number,expression:"employeeForm.staff_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:o.employeeForm.staff_number},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"staff_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("staff_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("staff_number"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Full Name")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:o.employeeForm.name},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"name",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("name")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("name"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[o._m(0),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",value:o.employeeForm.dob,"max-date":new Date},on:{"on-change":function(t,e){o.employeeForm.dob=e}}}),o._v(" "),o.employeeForm.hasError("dob")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("dob"))}}):o._e()],1)])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Gender ")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.genderList,reduce:function(t){return t},clearable:!1},model:{value:o.employeeForm.gender,callback:function(t){o.$set(o.employeeForm,"gender",t)},expression:"employeeForm.gender"}}),o._v(" "),o.employeeForm.hasError("gender")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("gender"))}}):o._e()],1)])]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[o._v("Identification Number ")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.identification_number,expression:"employeeForm.identification_number"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:o.employeeForm.identification_number},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"identification_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("identification_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("identification_number"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"row gx-4"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Mobile Number ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.telephone,expression:"employeeForm.telephone"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.telephone},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"telephone",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("telephone")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("telephone"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Email ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.email},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"email",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("email")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("email"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Is disabled")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.is_disabled,reduce:function(t){return t.value},clearable:!1},model:{value:o.employeeForm.is_disabled,callback:function(t){o.$set(o.employeeForm,"is_disabled",t)},expression:"employeeForm.is_disabled"}}),o._v(" "),o.employeeForm.hasError("is_disabled")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("is_disabled"))}}):o._e()],1)]),o._v(" "),1===o.employeeForm.is_disabled?n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Type of Disability")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.disabilities,reduce:function(t){return t},clearable:!1},model:{value:o.employeeForm.disability,callback:function(t){o.$set(o.employeeForm,"disability",t)},expression:"employeeForm.disability"}}),o._v(" "),o.employeeForm.hasError("disability")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("disability"))}}):o._e()],1):o._e(),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Residence ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.address,expression:"employeeForm.address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.address},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"address",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("address")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("address"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Marital Status")]),o._v(" "),n("v-select",{attrs:{id:"marital_status",label:"name",options:o.maritalStatus,reduce:function(t){return t.value},clearable:!1},model:{value:o.employeeForm.marital_status,callback:function(t){o.$set(o.employeeForm,"marital_status",t)},expression:"employeeForm.marital_status"}}),o._v(" "),o.employeeForm.hasError("marital_status")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("marital_status"))}}):o._e()],1)]),o._v(" "),n("p",[o._v("Next of kin")]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Name")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nextOfKin,expression:"employeeForm.nextOfKin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:o.employeeForm.nextOfKin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nextOfKin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nextOfKin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nextOfKin"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Tel")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nextOfKin_tel,expression:"employeeForm.nextOfKin_tel"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:o.employeeForm.nextOfKin_tel},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nextOfKin_tel",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nextOfKin_tel")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nextOfKin_tel"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Nationality ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nationality,expression:"employeeForm.nationality"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.nationality},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nationality",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nationality")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nationality"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home county ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_county,expression:"employeeForm.home_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.home_county},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_county",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_county")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_county"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home sub county ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_sub_county,expression:"employeeForm.home_sub_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.home_sub_county},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_sub_county",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_sub_county")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_sub_county"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home Constituency ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_constituency,expression:"employeeForm.home_constituency"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.home_constituency},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_constituency",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_constituency")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_constituency"))}}):o._e()])]),o._v(" "),o.employeeForm.ethnicity?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Ethnicity")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.ethnicity,expression:"employeeForm.ethnicity"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.ethnicity},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"ethnicity",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_constituency")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_constituency"))}}):o._e()])]):o._e(),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Department")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"department_id",options:o.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.department_id,callback:function(t){o.$set(o.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),o._v(" "),o.employeeForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("department_id"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Supervisor")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"supervisor",options:o.filterEmployee,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.supervisor,callback:function(t){o.$set(o.employeeForm,"supervisor",t)},expression:"employeeForm.supervisor"}}),o._v(" "),o.employeeForm.hasError("supervisor")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("supervisor"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Job Title ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.job_title},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"job_title",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_title"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employee Type")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.employee_type_id,callback:function(t){o.$set(o.employeeForm,"employee_type_id",t)},expression:"employeeForm.employee_type_id"}}),o._v(" "),o.employeeForm.hasError("employee_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("employee_type_id"))}}):o._e()],1),o._v(" "),o.is_in_contract?n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employment Expiry Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.employeeForm.contract_exp,"min-date":new Date},on:{"on-change":function(t,e){o.employeeForm.contract_exp=e}}}),o._v(" "),o.employeeForm.hasError("contract_exp")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("contract_exp"))}}):o._e()],1):o._e(),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Job Group")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.job_group_id,callback:function(t){o.$set(o.employeeForm,"job_group_id",t)},expression:"employeeForm.job_group_id"}}),o._v(" "),o.employeeForm.hasError("job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Location")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.branches,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.branch_id,callback:function(t){o.$set(o.employeeForm,"branch_id",t)},expression:"employeeForm.branch_id"}}),o._v(" "),o.employeeForm.hasError("branch_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("branch_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Tax Setup")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.PAYEOptions,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.payee_type,callback:function(t){o.$set(o.employeeForm,"payee_type",t)},expression:"employeeForm.payee_type"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_tax,expression:"employeeForm.pays_tax"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_tax)?o._i(o.employeeForm.pays_tax,null)>-1:o.employeeForm.pays_tax},on:{change:function(t){var e=o.employeeForm.pays_tax,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_tax",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_tax",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_tax",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays tax")])])]),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Kra PIN ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.kra_pin,expression:"employeeForm.kra_pin"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.kra_pin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"kra_pin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("kra_pin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("kra_pin"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_shif,expression:"employeeForm.pays_shif"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_shif)?o._i(o.employeeForm.pays_shif,null)>-1:o.employeeForm.pays_shif},on:{change:function(t){var e=o.employeeForm.pays_shif,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_shif",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_shif",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_shif",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays SHIF")])])]),o._v(" "),o.employeeForm.pays_shif?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("SHIF Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.shif_no,expression:"employeeForm.shif_no"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.shif_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"shif_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("shif_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("shif_no"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_nssf,expression:"employeeForm.pays_nssf"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_nssf)?o._i(o.employeeForm.pays_nssf,null)>-1:o.employeeForm.pays_nssf},on:{change:function(t){var e=o.employeeForm.pays_nssf,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_nssf",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_nssf",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_nssf",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Nssf")])])]),o._v(" "),o.employeeForm.pays_nssf?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Nssf Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nssf_no,expression:"employeeForm.nssf_no"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.nssf_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nssf_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nssf_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nssf_no"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_housing_levy,expression:"employeeForm.pays_housing_levy"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_housing_levy)?o._i(o.employeeForm.pays_housing_levy,null)>-1:o.employeeForm.pays_housing_levy},on:{change:function(t){var e=o.employeeForm.pays_housing_levy,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_housing_levy",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_housing_levy",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_housing_levy",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Housing Levy")])])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Employment status")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.employmentStatus,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.employment_status,callback:function(t){o.$set(o.employeeForm,"employment_status",t)},expression:"employeeForm.employment_status"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)]),o._v(" "),o.employeeForm.conflicts_of_interest?n("div",{staticClass:"col-xl-12"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Conflicts of interest")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.conflicts_of_interest,expression:"employeeForm.conflicts_of_interest"}],staticClass:"form-control",domProps:{value:o.employeeForm.conflicts_of_interest},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"conflicts_of_interest",t.target.value)}}})])]):o._e()])]),o._v(" "),n("div",{staticClass:"d-flex justify-content-between space-x px-4 mb-4"},[n("button",{staticClass:"btn w-25 py-3",attrs:{disabled:o.employeeForm.processing},on:{click:o.togglePatientEditForm}},[o._v("\n            Close\n          ")]),o._v(" "),n("button",{staticClass:"btn btn-primary w-25 py-3",attrs:{disabled:o.employeeForm.processing},on:{click:o.updateEmployee}},[o._v("\n            Save Changes\n          ")])])]):n("div",{staticClass:"card card-stacked"},[n("div",{staticClass:"card-header"},[n("div",[n("div",{staticClass:"card-body d-flex align-items-center gap-2"},[o.employee.profile_image?n("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(e=o.backgroundImageUrl)&&void 0!==e?e:"",")")}},[n("div",{staticClass:"dropdown-mnu position-absolute"},[n("a",{staticClass:"item",attrs:{href:null!==(a=o.backgroundImageUrl)&&void 0!==a?a:"",target:"_blank"}},[o._v("\n                    View image\n                  ")]),o._v(" "),n("a",{staticClass:"item",attrs:{href:"#"},on:{click:o.showEmployeeImage}},[o._v("\n                    change image\n                  ")])])]):n("span",{staticClass:"avatar avatar-xl rounded",staticStyle:{"background-image":"url(./static/avatars/005f.jpg)"}},[o._v(o._s(o.employee.name.slice(0,2))+"\n                "),n("div",{staticClass:"dropdown-mnu position-absolute"},[n("a",{staticClass:"item",attrs:{href:null!==(s=o.backgroundImageUrl)&&void 0!==s?s:"",target:"_blank"}},[o._v("\n                    View image\n                  ")]),o._v(" "),n("a",{staticClass:"item",attrs:{href:"#"},on:{click:o.showEmployeeImage}},[o._v("\n                    change image\n                  ")])])]),o._v(" "),n("span",[n("h3",{staticClass:"m-0 mb-1"},[n("a",{attrs:{href:"#"}},[o._v(o._s(o.employee.name))])]),o._v(" "),n("div",{staticClass:"text-secondary"},[o._v(o._s(o.employee.job_title))])])]),o._v(" "),n("p",{staticClass:"card-subtitle small text-indigo"},[o._v("\n              Registered "+o._s(o._f("dATE_MONTH_YEAR_HOUR_MINUTES")(o.employee.created_at))+"\n            ")]),1===o.employee.employment_status?n("div",{staticClass:"text-warning"},[o._v("\n              Suspended\n            ")]):o._e(),o._v(" "),(null===(r=o.employee)||void 0===r?void 0:r.probation.length)>=1?n("div",[n("span",{staticClass:"badge bg-green-lt my-2"},[o._v("In probation")])]):o._e(),o._v(" "),2===o.employee.employment_status?n("div",{staticClass:"text-danger"},[o._v("\n              Terminated\n            ")]):o._e(),o._v(" "),n("p")]),o._v(" "),n("div",{staticClass:"card-actions"},[n("div",{staticClass:"btn-group"},[o._m(1),o._v(" "),n("div",{staticClass:"dropdown"},[o._m(2),o._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-end"},[n("h6",{staticClass:"dropdown-header"},[o._v("\n                    Menu\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.togglePatientEditForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v(" Edit Details\n                  ")]),o._v(" "),n("div",{staticClass:"dropdown-divider"}),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showPromotionForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v(" Promote\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showDemotionForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v(" Demote\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showTransferForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v("Transfer\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showCaseForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v("Record case\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showHistory.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v(" Employment History\n                  ")])])])])])]),o._v(" "),n("div",{staticClass:"card-body px-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Employee No")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.staff_number,expression:"employeeForm.staff_number"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:o.employeeForm.staff_number},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"staff_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("staff_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("staff_number"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Full Name")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:o.employeeForm.name},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"name",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("name")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("name"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"row gx-4"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Date of Birth\n                ")]),o._v(" "),n("div",[n("date-picker",{attrs:{disabled:"",name:"date_of_birth",value:o.employeeForm.dob,"max-date":new Date},on:{"on-change":function(t,e){o.employeeForm.dob=e}}}),o._v(" "),o.employeeForm.hasError("dob")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("dob"))}}):o._e()],1)])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Gender ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.gender,expression:"employeeForm.gender"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:o.employeeForm.gender},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"gender",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("gender")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("gender"))}}):o._e()])])]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[o._v("Identification Number ")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.identification_number,expression:"employeeForm.identification_number"}],staticClass:"form-control",attrs:{id:"identification_value",disabled:"",type:"text"},domProps:{value:o.employeeForm.identification_number},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"identification_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("identification_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("identification_number"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"row gx-4"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Mobile Number ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.telephone,expression:"employeeForm.telephone"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",disabled:"",type:"tel"},domProps:{value:o.employeeForm.telephone},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"telephone",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("telephone")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("telephone"))}}):o._e()])]),o._v(" "),1===o.employeeForm.is_disabled?n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Type of Disability")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",disabled:"",label:"name",options:o.disabilities,reduce:function(t){return t},clearable:!1},model:{value:o.employeeForm.disability,callback:function(t){o.$set(o.employeeForm,"disability",t)},expression:"employeeForm.disability"}}),o._v(" "),o.employeeForm.hasError("disability")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("disability"))}}):o._e()],1):o._e(),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Email ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.email},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"email",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("email")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("email"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Marital Status")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.maritalStatus,reduce:function(t){return t.value},disabled:!0,clearable:!1},model:{value:o.employeeForm.marital_status,callback:function(t){o.$set(o.employeeForm,"marital_status",t)},expression:"employeeForm.marital_status"}}),o._v(" "),o.employeeForm.hasError("marital_status")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("marital_status"))}}):o._e()],1)]),o._v(" "),o.employeeForm.nextOfKin||o.employeeForm.nextOfKin_tel?n("p",[o._v("\n              Next of kin\n            ")]):o._e(),o._v(" "),o.employeeForm.nextOfKin?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Name")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nextOfKin,expression:"employeeForm.nextOfKin"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:o.employeeForm.nextOfKin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nextOfKin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nextOfKin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nextOfKin"))}}):o._e()])]):o._e(),o._v(" "),o.employeeForm.nextOfKin_tel?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Tel")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nextOfKin_tel,expression:"employeeForm.nextOfKin_tel"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:o.employeeForm.nextOfKin_tel},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nextOfKin_tel",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nextOfKin_tel")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nextOfKin_tel"))}}):o._e()])]):o._e(),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Residence ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.address,expression:"employeeForm.address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.address},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"address",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("physical_address")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("physical_address"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Department")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"department_id",disabled:"",options:o.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.department_id,callback:function(t){o.$set(o.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),o._v(" "),o.employeeForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("department_id"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Supervisor")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"supervisor",disabled:"",options:o.filterEmployee,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.supervisor,callback:function(t){o.$set(o.employeeForm,"supervisor",t)},expression:"employeeForm.supervisor"}}),o._v(" "),o.employeeForm.hasError("supervisor")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("supervisor"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Nationality ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nationality,expression:"employeeForm.nationality"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.nationality},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nationality",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nationality")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nationality"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home county ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_county,expression:"employeeForm.home_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.home_county},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_county",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_county")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_county"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home sub county ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_sub_county,expression:"employeeForm.home_sub_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.home_sub_county},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_sub_county",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_sub_county")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_sub_county"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Home Constituency ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.home_constituency,expression:"employeeForm.home_constituency"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.home_constituency},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"home_constituency",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_constituency")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_constituency"))}}):o._e()])]),o._v(" "),o.employeeForm.ethnicity?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Ethnicity")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.ethnicity,expression:"employeeForm.ethnicity"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.ethnicity},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"ethnicity",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("home_constituency")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("home_constituency"))}}):o._e()])]):o._e(),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Job Title ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.job_title},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"job_title",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_title"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employee Type")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.employee_type_id,callback:function(t){o.$set(o.employeeForm,"employee_type_id",t)},expression:"employeeForm.employee_type_id"}}),o._v(" "),o.employeeForm.hasError("employee_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("employee_type_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Contract Expiry")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.contract_exp,callback:function(t){o.$set(o.employeeForm,"contract_exp",t)},expression:"employeeForm.contract_exp"}}),o._v(" "),o.employeeForm.hasError("contract_exp")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("contract_exp"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Job Group")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.job_group_id,callback:function(t){o.$set(o.employeeForm,"job_group_id",t)},expression:"employeeForm.job_group_id"}}),o._v(" "),o.employeeForm.hasError("job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Location")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.branches,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.branch_id,callback:function(t){o.$set(o.employeeForm,"branch_id",t)},expression:"employeeForm.branch_id"}}),o._v(" "),o.employeeForm.hasError("branch_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("branch_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Tax Setup")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.PAYEOptions,label:"name",disabled:"true",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.payee_type,callback:function(t){o.$set(o.employeeForm,"payee_type",t)},expression:"employeeForm.payee_type"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)]),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Kra PIN")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.kra_pin,expression:"employeeForm.kra_pin"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.kra_pin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"kra_pin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("kra_pin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("kra_pin"))}}):o._e()])]):o._e(),o._v(" "),o.employeeForm.pays_shif?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("SHIF Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.shif_no,expression:"employeeForm.shif_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.shif_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"shif_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("shif_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("shif_no"))}}):o._e()])]):o._e(),o._v(" "),o.employeeForm.pays_nssf?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Nssf Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nssf_no,expression:"employeeForm.nssf_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.nssf_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nssf_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nssf_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nssf_no"))}}):o._e()])]):o._e(),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_housing_levy,expression:"employeeForm.pays_housing_levy"}],staticClass:"form-check-input",attrs:{disabled:"",type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_housing_levy)?o._i(o.employeeForm.pays_housing_levy,null)>-1:o.employeeForm.pays_housing_levy},on:{change:function(t){var e=o.employeeForm.pays_housing_levy,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_housing_levy",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_housing_levy",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_housing_levy",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Housing Levy")])])]),o._v(" "),o.employeeForm.conflicts_of_interest?n("div",{staticClass:"col-xl-12"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Conflicts of interest")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.conflicts_of_interest,expression:"employeeForm.conflicts_of_interest"}],staticClass:"form-control",domProps:{value:o.employeeForm.conflicts_of_interest},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"conflicts_of_interest",t.target.value)}}})])]):o._e()])])])]),o._v(" "),n("div",{staticClass:"col-xl-7"},[n("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-indigo"}},[n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Income\n          ")]},proxy:!0}])},[o._v(" "),n("income",{attrs:{employee:o.employee,incomes:o.incomes}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Attachments\n          ")]},proxy:!0}])},[o._v(" "),n("attachments",{attrs:{allowances:o.allowances,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Benefits\n          ")]},proxy:!0}])},[o._v(" "),n("benefits",{attrs:{benefits:o.benefits,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Allowances\n          ")]},proxy:!0}])},[o._v(" "),n("allowances",{attrs:{allowances:o.allowances,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Deductions\n          ")]},proxy:!0}])},[o._v(" "),n("dedutions",{attrs:{deductions:o.deductions,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Pension\n          ")]},proxy:!0}])},[o._v(" "),n("pension",{attrs:{pensions:o.pensions,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Relief\n          ")]},proxy:!0}])},[o._v(" "),n("relief",{attrs:{reliefs:o.reliefs,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-file-upload-alt me-1"}),o._v(" Contributions\n          ")]},proxy:!0}])},[o._v(" "),n("contributions",{attrs:{employee:o.employee,contributions:o.contributions}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-graduation-cap me-1"}),o._v(" Qualifications\n          ")]},proxy:!0}])},[o._v(" "),n("qualification",{attrs:{employee:o.employee,contributions:o.contributions}})],1)],1)],1)]),o._v(" "),n("b-modal",{attrs:{id:"promotion-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Promotion Form"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.promote}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.promotionForm.new_job_title,expression:"promotionForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.promotionForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.promotionForm,"new_job_title",t.target.value)}}}),o._v(" "),o.promotionForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.promotionForm.new_job_group_id,callback:function(t){o.$set(o.promotionForm,"new_job_group_id",t)},expression:"promotionForm.new_job_group_id"}}),o._v(" "),o.promotionForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.promotionForm.new_department_id,callback:function(t){o.$set(o.promotionForm,"new_department_id",t)},expression:"promotionForm.new_department_id"}}),o._v(" "),o.promotionForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Promotion Reason")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.promotionForm.promotion_reason,expression:"promotionForm.promotion_reason"}],staticClass:"form-control",domProps:{value:o.promotionForm.promotion_reason},on:{input:function(t){t.target.composing||o.$set(o.promotionForm,"promotion_reason",t.target.value)}}}),o._v(" "),o.form.hasError("promotion_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("promotion_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Promotion Date")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.promotionForm.promotion_date,"max-date":!1},on:{"on-change":function(t,e){o.promotionForm.promotion_date=e}}}),o._v(" "),o.promotionForm.hasError("promotion_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("promotion_date"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Promotion Letter")]),o._v(" "),n("div",[n("input",{staticClass:"form-control",attrs:{type:"file"},on:{input:function(t){o.promotionForm.letter=t.target.files[0]}}}),o._v(" "),o.promotionForm.hasError("letter")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("letter"))}}):o._e()])]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"demotion-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Demotion Form"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.demotion}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.demotionForm.new_job_title,expression:"demotionForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.demotionForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.demotionForm,"new_job_title",t.target.value)}}}),o._v(" "),o.demotionForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.demotionForm.new_job_group_id,callback:function(t){o.$set(o.demotionForm,"new_job_group_id",t)},expression:"demotionForm.new_job_group_id"}}),o._v(" "),o.demotionForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.demotionForm.new_department_id,callback:function(t){o.$set(o.demotionForm,"new_department_id",t)},expression:"demotionForm.new_department_id"}}),o._v(" "),o.demotionForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Demotion Reason")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.demotionForm.demotion_reason,expression:"demotionForm.demotion_reason"}],staticClass:"form-control",domProps:{value:o.demotionForm.demotion_reason},on:{input:function(t){t.target.composing||o.$set(o.demotionForm,"demotion_reason",t.target.value)}}}),o._v(" "),o.form.hasError("demotion_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("demotion_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Demotion Date")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.demotionForm.demotion_date,"max-date":!1},on:{"on-change":function(t,e){o.demotionForm.demotion_date=e}}}),o._v(" "),o.demotionForm.hasError("demotion_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("demotion_date"))}}):o._e()],1)]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"transfer-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Job Transfer Form"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.transfer}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.transferForm.new_job_title,expression:"transferForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.transferForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.transferForm,"new_job_title",t.target.value)}}}),o._v(" "),o.transferForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.transferForm.new_job_group_id,callback:function(t){o.$set(o.transferForm,"new_job_group_id",t)},expression:"transferForm.new_job_group_id"}}),o._v(" "),o.transferForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.transferForm.new_department_id,callback:function(t){o.$set(o.transferForm,"new_department_id",t)},expression:"transferForm.new_department_id"}}),o._v(" "),o.transferForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Reason for transfer")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.transferForm.transfer_reason,expression:"transferForm.transfer_reason"}],staticClass:"form-control",domProps:{value:o.transferForm.transfer_reason},on:{input:function(t){t.target.composing||o.$set(o.transferForm,"transfer_reason",t.target.value)}}}),o._v(" "),o.form.hasError("transfer_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("transfer_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Date of transfer")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.transferForm.transfer_date,"max-date":!1},on:{"on-change":function(t,e){o.transferForm.transfer_date=e}}}),o._v(" "),o.transferForm.hasError("transfer_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("transfer_date"))}}):o._e()],1)]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"record-case-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Record Disciplinary Case"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.recordCase}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Case Description")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.description,expression:"caseForm.description"}],staticClass:"form-control",domProps:{value:o.caseForm.description},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"description",t.target.value)}}}),o._v(" "),o.caseForm.hasError("description")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("description"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Severity Level")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.severitylevels,label:"name"},model:{value:o.caseForm.severity_level,callback:function(t){o.$set(o.caseForm,"severity_level",t)},expression:"caseForm.severity_level"}}),o._v(" "),o.caseForm.hasError("severity_level")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("severity_level"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Incident Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.caseForm.incident_date,"max-date":new Date},on:{"on-change":function(t,e){o.caseForm.incident_date=e}}}),o._v(" "),o.caseForm.hasError("incident_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("incident_date"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Resolution Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.caseForm.resolution_date,"min-date":new Date},on:{"on-change":function(t,e){o.caseForm.resolution_date=e}}}),o._v(" "),o.caseForm.hasError("resolution_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("resolution_date"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Resolution Details")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.resolution_details,expression:"caseForm.resolution_details"}],staticClass:"form-control",domProps:{value:o.caseForm.resolution_details},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"resolution_details",t.target.value)}}}),o._v(" "),o.form.hasError("resolution_details")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("resolution_details"))}}):o._e()]),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.status,expression:"caseForm.status"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.caseForm.status)?o._i(o.caseForm.status,null)>-1:o.caseForm.status},on:{change:function(t){var e=o.caseForm.status,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.caseForm,"status",e.concat([null])):r>-1&&o.$set(o.caseForm,"status",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.caseForm,"status",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Case closed ?")])])]),o._v(" "),o.caseForm.status?n("div",{staticClass:"card"},[n("div",{staticClass:"card-title p-2"},[o._v("\n        Take Action\n      ")]),o._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Action")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.actiontypes,label:"name"},model:{value:o.caseForm.action_type_id,callback:function(t){o.$set(o.caseForm,"action_type_id",t)},expression:"caseForm.action_type_id"}}),o._v(" "),o.caseForm.hasError("action_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("action_type_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Action Details")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.action_details,expression:"caseForm.action_details"}],staticClass:"form-control",domProps:{value:o.caseForm.action_details},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"action_details",t.target.value)}}}),o._v(" "),o.caseForm.hasError("action_details")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("action_details"))}}):o._e()])])]):o._e(),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"P10-form-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Generate P9 Form"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.formP9.processing,type:"submit"},on:{click:o.formP9}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Year")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.p9Form.year,expression:"p9Form.year"}],staticClass:"form-control",attrs:{id:"",type:"number",name:""},domProps:{value:o.p9Form.year},on:{input:function(t){t.target.composing||o.$set(o.p9Form,"year",t.target.value)}}}),o._v(" "),o.p9Form.hasError("year")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.p9Form.getError("year"))}}):o._e()]),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"employment-history-modal","body-class":"px-4",size:"lg","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:o.employee.name+" Employment History"},on:{hidden:o.cleanUp},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.formP9.processing,type:"submit"},on:{click:o.formP9}},[o._v("\n        Submit\n      ")])]}}])},[n("div",[n("div",{staticClass:"containe"},[n("section",{staticClass:"employment-history"},[n("table",{staticClass:"history-table"},[n("thead",[n("tr",[n("th",[o._v("Job Title")]),o._v(" "),n("th",[o._v("Department")]),o._v(" "),n("th",[o._v("Start Date")]),o._v(" "),n("th",[o._v("End Date")]),o._v(" "),n("th",[o._v("Comments")])])]),o._v(" "),n("tbody",o._l(o.employmentHistory,(function(t){return n("tr",{key:t.id},[n("td",[o._v(o._s(t.job_title))]),o._v(" "),n("td",[o._v(o._s(t.department.name))]),o._v(" "),n("td",[o._v(o._s(o.formatDate(t.start_date)))]),o._v(" "),n("td",[o._v(o._s(o.formatDate(t.end_date)))]),o._v(" "),n("td",[o._v(o._s(t.notes))])])})),0)])])])]),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"profile-image-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Upload profile image"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.employmentphoto.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.employmentphoto.processing,type:"submit"},on:{click:o.uploadPhoto}},[o._v("\n        Submit\n      ")])]}}])},[n("form",{attrs:{enctype:"multipart/form-data",method:"post"}},[n("input",{attrs:{id:"",type:"file",name:""},on:{input:o.updateImage}}),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()])])],1)}),[function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[this._v("Date of Birth\n                  "),t("span",{staticClass:"form-label-description small text-indigo"})])},function(){var t=this._self._c;return t("a",{staticClass:"btn rounded-3 me-3",attrs:{href:"/employees",title:"Return to Patients dashboard"}},[t("i",{staticClass:"uil uil-arrow-left me-2"}),this._v(" Employees\n              ")])},function(){var t=this._self._c;return t("button",{staticClass:"btn align-text-center",attrs:{"data-bs-toggle":"dropdown"}},[t("i",{staticClass:"uil uil-ellipsis-h"})])}],!1,null,"76ec20b4",null).exports},7645:(t,e,a)=>{"use strict";a.d(e,{Z:()=>_});var s=a(3279);const r={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],assignedLeaves:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",approved:!1,rejected:!1}},showReturnDate:null,leaveBalance:null,selectedRequest:null,form:new window.Form({id:null,employee_id:"",leave_type_id:"",employee_leave_type_id:"",reason:"",start_date:"",days:"",end_date:"",leaveRequest:null,approved:!0,return_date:""}),alterForm:new window.Form({id:null,employee_id:"",leave_type_id:"",employee_leave_type_id:"",reason:"",start_date:"",end_date:"",days:"",alter_day:null,leaveRequest:null,recalculate:!1,return_date:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable},backgroundImageUrl:function(){return null!=this.selectedRequest.employee_leave_type&&null!=this.selectedRequest.employee_leave_type.employee.profile_image?"/storage/".concat(this.selectedRequest.employee_leave_type.employee.profile_image.file_path):""}},watch:{"form.leave_type_id":function(){this.getLeaveBalance()},"form.employee_id":function(){this.getAssgned()},"form.days":a.n(s)()((function(){this.getLeaveEnd()}),700)},mounted:function(){this.retrieveEmployees()},methods:{getLeaveEnd:function(){var t=this;this.showReturnDate=!1,""!=this.form.start_date&&null!=this.form.start_date?this.$httpClient.get("/get-leave-enddate",{params:{start_date:this.form.start_date,days:this.form.days}}).then((function(e){t.showReturnDate=!0,t.form.end_date=e.data})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)})):this.$toast.error("Please specify the start date first")},retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/",{params:{filter:{activeEmployee:!0}}}).then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},viewLeave:function(t){this.selectedRequest=t,this.$bvModal.show("view-modal")},showRejectForm:function(t){this.form.leaveRequest=t,this.$bvModal.show("reject-reason")},showAlterLeaveForm:function(t){this.alterForm.populate(t),this.alterForm.employee_id=t.employee_leave_type.employee_id,this.alterForm.leave_type_id=t.employee_leave_type.leave_type_id,this.getAssgned(),this.$bvModal.show("alter-leave-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch((function(t){e.$toast.error(t.response.data)}))},rejectLeave:function(){var t=this;this.$toast.question("Are you sure?","You want to reject this leave request").then((function(){t.form.patch("/employee/leave-request-reject/"+t.form.leaveRequest.id).then((function(){t.vuetable.reload(),t.$toast.success("The leave rejected"),t.$bvModal.hide("reject-reason")})).catch((function(e){t.$toast.error(e.response.data)}))}))},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},alteration:function(){var t=this;this.$toast.question("Are you sure?","You are about to alter leave days").then((function(){t.alterForm.post("/employee/alter-leave-days/").then((function(){t.vuetable.reload(),t.$toast.success("The leave days have been updated"),t.$bvModal.hide("alter-leave-modal")})).catch((function(e){t.$toast.error(e.response.data)}))}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},giveLeave:function(){var t=this;this.form.post("/employee/give-leave").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},getAssgned:function(){var t=this;this.$httpClient.get("/datatable/employee-leave-types",{params:{filter:{employee_assigned_leaves:this.form.employee_id}}}).then((function(e){var a=e.data;t.assignedLeaves=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employee assigned leaves")}))},applyFilter:function(){this.vuetable.reload()},getLeaveBalance:function(){var t=this;this.$httpClient.get("/employee/leave-balance",{params:{employee_id:this.form.employee_id,leave_type_id:this.form.leave_type_id}}).then((function(e){var a=e.data;t.leaveBalance=a})).catch((function(){}))},cleanUp:function(){this.form.reset()}}};var o=a(1900);const n=(0,o.Z)(r,(function(){var t,e,a=this,s=a._self._c;return s("div",[s("div",{staticClass:"card card-stacked"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"input-icon me-2"},[a._m(0),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:a.moreParams.filter.search},on:{input:[function(t){t.target.composing||a.$set(a.moreParams.filter,"search",t.target.value)},a.applyFilter]}})]),a._v(" "),s("div",{staticClass:"card-actions"},[s("button",{staticClass:"btn btn-primary",on:{click:a.showCreateForm}},[s("i",{staticClass:"uil uil-plus me-1"}),a._v("Give Leave\n          ")])])]),a._v(" "),s("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:a.fields,"append-params":a.moreParams},scopedSlots:a._u([{key:"approved",fn:function(t){var e,r;return[s("div",{staticClass:"media"},[s("div",{staticClass:"media-body align-self-center"},[s("div",{staticClass:"font-size-12 text-purple-300"},[t.rowData.supervisor_approved?s("span",{staticClass:"badge badge-success rounded px-1 p-1 shadow-sm border"},[s("small",[a._v("supervisor has approved")])]):t.rowData.supervisor_rejected?s("span",{staticClass:"badge badge-soft-warning rounded px-1 p-1 shadow-sm border"},[s("small",[a._v("supervisor has rejected")])]):s("span",{staticClass:"badge badge-soft-secondary shadow-sm"},[a._v("pending "+a._s(null!==(e=null===(r=t.rowData.employee_leave_type.employee)||void 0===r?void 0:r.supervisor.name)&&void 0!==e?e:"Supervisor")+"`s approval")])])])])]}},{key:"actions",fn:function(t){return[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[s("i",{staticClass:"uil uil-ellipsis-h"})]),a._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-end"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.viewLeave(t.rowData)}}},[a._v("\n                View\n              ")]),a._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.approveLeave(t.rowData)}}},[a._v("\n                 Approve\n              ")]),a._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.showRejectForm(t.rowData)}}},[a._v("\n                 Reject\n              ")])])])]}}])})],1),a._v(" "),s("b-modal",{attrs:{id:"create-modal",title:"Give a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n          Close\n        ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.giveLeave.apply(null,arguments)}}},[a._v("\n          Submit\n        ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.createAssignLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee Name")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"department_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.employee_id,callback:function(t){a.$set(a.form,"employee_id",t)},expression:"form.employee_id"}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Leave Type")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.assignedLeaves,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:a._u([{key:"option",fn:function(t){return[s("li",{staticClass:"media mb-1"},[s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-flex justify-content-between"},[s("span",[a._v(a._s(t.leave_type.name))])])])])]}},{key:"selected-option",fn:function(t){return[s("li",{staticClass:"media mb-1"},[s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-flex justify-content-between"},[s("span",[a._v(a._s(t.leave_type.name))])])])])]}}]),model:{value:a.form.leave_type_id,callback:function(t){a.$set(a.form,"leave_type_id",t)},expression:"form.leave_type_id"}}),a._v(" "),a.form.hasError("leave_type_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("leave_type_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Start Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.start_date},on:{"on-change":function(t,e){a.form.start_date=e}}}),a._v(" "),a.form.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Days")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{type:"number",name:"",id:""},domProps:{value:a.form.days},on:{input:function(t){t.target.composing||a.$set(a.form,"days",t.target.value)}}}),a._v(" "),a.form.hasError("days")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("days"))}}):a._e()])]),a._v(" "),a.showReturnDate?s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Return Date")]),a._v(" "),s("date-picker",{attrs:{name:"return_date",value:a.form.end_date},on:{"on-change":function(t,e){a.form.end_date=e}}}),a._v(" "),a.form.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("end_date"))}}):a._e()],1)]):a._e(),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"reason"}},[a._v("Reason")]),a._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.form.reason,expression:"form.reason"}],staticClass:"form-control",attrs:{name:"",id:"reason",rows:"3"},domProps:{value:a.form.reason},on:{input:function(t){t.target.composing||a.$set(a.form,"reason",t.target.value)}}}),a._v(" "),a.form.hasError("reason")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("reason"))}}):a._e()])]),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.approved,expression:"form.approved"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.form.approved)?a._i(a.form.approved,null)>-1:a.form.approved},on:{change:function(t){var e=a.form.approved,s=t.target,r=!!s.checked;if(Array.isArray(e)){var o=a._i(e,null);s.checked?o<0&&a.$set(a.form,"approved",e.concat([null])):o>-1&&a.$set(a.form,"approved",e.slice(0,o).concat(e.slice(o+1)))}else a.$set(a.form,"approved",r)}}}),a._v(" "),s("span",{staticClass:"form-check-label"},[a._v("Approve")])])])]),a._v(" "),a.leaveBalance?s("span",{staticClass:"text-warning"},[a._v("leave balance: "+a._s(a.leaveBalance.balance)+" day(s)")]):a._e()]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"alter-leave-modal",title:"Alter Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n          Close\n        ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.alteration.apply(null,arguments)}}},[a._v("\n          Submit\n        ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.createAssignLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee Name")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"department_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1,disabled:!0},model:{value:a.alterForm.employee_id,callback:function(t){a.$set(a.alterForm,"employee_id",t)},expression:"alterForm.employee_id"}}),a._v(" "),a.alterForm.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.alterForm.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Start Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",disabled:!0,value:a.alterForm.start_date},on:{"on-change":function(t,e){a.alterForm.start_date=e}}}),a._v(" "),a.alterForm.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.alterForm.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("End Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_end",disabled:!0,value:a.alterForm.end_date},on:{"on-change":function(t,e){a.alterForm.end_date=e}}}),a._v(" "),a.alterForm.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.alterForm.getError("end_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Return Date")]),a._v(" "),s("date-picker",{attrs:{disabled:!0,name:"return_date",value:a.alterForm.return_date},on:{"on-change":function(t,e){a.alterForm.return_date=e}}}),a._v(" "),a.alterForm.hasError("return_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.alterForm.getError("return_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Days")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.alterForm.alter_day,expression:"alterForm.alter_day"}],staticClass:"form-control",attrs:{type:"number",name:"",id:""},domProps:{value:a.alterForm.alter_day},on:{input:function(t){t.target.composing||a.$set(a.alterForm,"alter_day",t.target.value)}}}),a._v(" "),a.alterForm.hasError("alter_day")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.alterForm.getError("alter_day"))}}):a._e(),a._v(" "),s("small",{staticClass:"text-muted"},[a._v("Add day to be added or removed from leave")])])]),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.alterForm.recalculate,expression:"alterForm.recalculate"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.alterForm.recalculate)?a._i(a.alterForm.recalculate,null)>-1:a.alterForm.recalculate},on:{change:function(t){var e=a.alterForm.recalculate,s=t.target,r=!!s.checked;if(Array.isArray(e)){var o=a._i(e,null);s.checked?o<0&&a.$set(a.alterForm,"recalculate",e.concat([null])):o>-1&&a.$set(a.alterForm,"recalculate",e.slice(0,o).concat(e.slice(o+1)))}else a.$set(a.alterForm,"recalculate",r)}}}),a._v(" "),s("span",{staticClass:"form-check-label"},[a._v("Recalculate Leave balance")])])])]),a._v(" "),a.leaveBalance?s("span",{staticClass:"text-warning"},[a._v("leave balance: "+a._s(a.leaveBalance.balance)+" day(s)")]):a._e()]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"view-modal",title:"Leave Request","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n          Close\n        ")])]}}])},[a.selectedRequest?s("div",{staticClass:"row g-3 align-items-center"},[s("div",{staticClass:"col-auto"},[""!=a.backgroundImageUrl?s("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=a.backgroundImageUrl)&&void 0!==t?t:"",")")}},[s("div",{staticClass:"dropdown-mnu position-absolute"})]):s("span",{staticClass:"avatar avatar-md"},[a._v(a._s(a.selectedRequest.employee_leave_type?a.selectedRequest.employee_leave_type.employee.name.slice(0,2).toUpperCase():""))])]),a._v(" "),s("div",{staticClass:"col-auto"},[s("div",{staticClass:"fs-3"},[a._v("\n             "+a._s(null!==(e=a.selectedRequest.employee_leave_type.employee.name)&&void 0!==e?e:"N/A")+"\n           ")]),a._v(" "),s("div",{staticClass:"text-muted"},[s("span",[a._v(" "+a._s(a.selectedRequest.employee_leave_type.employee.job_title)+" ")]),a._v("  | "),s("span",[a._v(" "+a._s(a.selectedRequest.employee_leave_type.employee.department.name))])])]),a._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[a._v("\n             Leave Information\n           ")]),a._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Leave Type:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"leave-type"}},[a._v(a._s(a.selectedRequest.employee_leave_type.leave_type.name))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Start Date:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"start-date"}},[a._v(a._s(a.selectedRequest.start_date))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("End Date:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"end-date"}},[a._v(a._s(a.selectedRequest.end_date))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Days:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"days"}},[a._v(a._s(a.selectedRequest.days))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Reason:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"reason"}},[a._v(a._s(a.selectedRequest.reason))])])]),a._v(" "),a.selectedRequest.support_doc?s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Supporting Doc:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(a.selectedRequest.support_doc)}},[s("i",{staticClass:"uil uil-file-download me-2"}),a._v(" Download")])])]):a._e()])])]):a._e()]),a._v(" "),s("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n          Close\n        ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[a._v("\n          Submit\n        ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee Name")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"department_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.employee_id,callback:function(t){a.$set(a.form,"employee_id",t)},expression:"form.employee_id"}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Leave Type")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.leave_type_id,callback:function(t){a.$set(a.form,"leave_type_id",t)},expression:"form.leave_type_id"}}),a._v(" "),a.form.hasError("leave_type_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("leave_type_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Start Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.start_date,"max-date":new Date},on:{"on-change":function(t,e){a.form.start_date=e}}}),a._v(" "),a.form.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("End Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.end_date,"max-date":new Date},on:{"on-change":function(t,e){a.form.end_date=e}}}),a._v(" "),a.form.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("end_date "))}}):a._e()],1)])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"reject-reason",title:"Reason for Reject","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n          Close\n        ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.rejectLeave.apply(null,arguments)}}},[a._v("\n          Submit\n        ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Reject Reason")]),a._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:a.form.reason},on:{input:function(t){t.target.composing||a.$set(a.form,"reason",t.target.value)}}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()])])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const i={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"Approved":"Not approved"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],leaveBalance:null,selectedRequest:null,moreParams:{filter:{search:"",approved:!0}},alterForm:new window.Form({id:null,employee_id:"",leave_type_id:"",employee_leave_type_id:"",reason:"",start_date:"",end_date:"",days:"",alter_day:null,leaveRequest:null,recalculate:!1,return_date:""}),form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showAlterLeaveForm:function(t){this.alterForm.populate(t),this.alterForm.employee_id=t.employee_leave_type.employee_id,this.alterForm.leave_type_id=t.employee_leave_type.leave_type_id,this.getAssgned(),this.$bvModal.show("alter-leave-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},alteration:function(){var t=this;this.$toast.question("Are you sure?","You are about to alter leave days").then((function(){t.alterForm.post("/employee/alter-leave-days/").then((function(){t.vuetable.reload(),t.$toast.success("The leave days have been updated"),t.$bvModal.hide("alter-leave-modal")})).catch((function(e){t.$toast.error(e.response.data)}))}))},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},getAssgned:function(){var t=this;this.$httpClient.get("/datatable/employee-leave-types",{params:{filter:{employee_assigned_leaves:this.form.employee_id}}}).then((function(e){var a=e.data;t.assignedLeaves=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employee assigned leaves")}))},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const l=(0,o.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showAlterLeaveForm(a.rowData)}}},[t._v("\n                Alter Leave\n              ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"alter-leave-modal",title:"Alter Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n          Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.alteration.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1,disabled:!0},model:{value:t.alterForm.employee_id,callback:function(e){t.$set(t.alterForm,"employee_id",e)},expression:"alterForm.employee_id"}}),t._v(" "),t.alterForm.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.alterForm.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",disabled:!0,value:t.alterForm.start_date},on:{"on-change":function(e,a){t.alterForm.start_date=a}}}),t._v(" "),t.alterForm.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.alterForm.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_end",disabled:!0,value:t.alterForm.end_date},on:{"on-change":function(e,a){t.alterForm.end_date=a}}}),t._v(" "),t.alterForm.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.alterForm.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{disabled:!0,name:"return_date",value:t.alterForm.return_date},on:{"on-change":function(e,a){t.alterForm.return_date=a}}}),t._v(" "),t.alterForm.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.alterForm.getError("return_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alterForm.alter_day,expression:"alterForm.alter_day"}],staticClass:"form-control",attrs:{type:"number",name:"",id:""},domProps:{value:t.alterForm.alter_day},on:{input:function(e){e.target.composing||t.$set(t.alterForm,"alter_day",e.target.value)}}}),t._v(" "),t.alterForm.hasError("alter_day")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.alterForm.getError("alter_day"))}}):t._e(),t._v(" "),e("small",{staticClass:"text-muted"},[t._v("Add day to be added or removed from leave")])])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.alterForm.recalculate,expression:"alterForm.recalculate"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.alterForm.recalculate)?t._i(t.alterForm.recalculate,null)>-1:t.alterForm.recalculate},on:{change:function(e){var a=t.alterForm.recalculate,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.alterForm,"recalculate",a.concat([null])):o>-1&&t.$set(t.alterForm,"recalculate",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.alterForm,"recalculate",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Recalculate Leave balance")])])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const c={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"Approved":"Not approved"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",approved:!1,rejected:!0}},form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const d=(0,o.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"})])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;var m=a(4186),u=a(1132),p=a(9897);const f={props:{leave_request:{type:Array,required:!0,default:function(){return[]}}},components:{FullCalendar:m.Z},data:function(){return{calendarOptions:{plugins:[u.Z,p.ZP],initialView:"dayGridMonth",eventMouseEnter:this.handleDateClick,events:[]},approved_leaves:[]}},mounted:function(){this.approvedLeaves(),this.pendingLeaves()},methods:{handleDateClick:function(t){console.log(t)},approvedLeaves:function(){var t=this;this.$httpClient.get("/datatable/leave-requests",{params:{filter:{}}}).then((function(e){var a=e.data;t.approved_leaves=a.data,t.showApprovedLeaves()})).catch((function(){t.$toast.error("There was a problem retrieving the Employee allowances")}))},showApprovedLeaves:function(){var t=this;this.approved_leaves.forEach((function(e){var a={};a=e.supervisor_approved&&e.approved?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"green"}:e.supervisor_approved&&!e.rejected?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"lightblue"}:e.rejected||e.supervisor_rejected?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"#bc3433"}:{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"gray"},t.calendarOptions.events.push(a)}))}}};const v={components:{Rejected:d,Approved:l,Pending:n,Calender:(0,o.Z)(f,(function(){var t=this._self._c;return t("div",[t("div",{staticClass:"card card-stacked p-6"},[t("FullCalendar",{attrs:{options:this.calendarOptions}})],1)])}),[],!1,null,null,null).exports},data:function(){return{}}};const _=(0,o.Z)(v,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Pending\n          ")]},proxy:!0}])},[t._v(" "),e("pending")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Approved\n          ")]},proxy:!0}])},[t._v(" "),e("approved")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Rejected\n          ")]},proxy:!0}])},[t._v(" "),e("rejected")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Calender\n          ")]},proxy:!0}])},[t._v(" "),e("calender")],1)],1)],1)])])}),[],!1,null,null,null).exports},8839:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"h_o_d.employee.department.name",title:"Department",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"Year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"h_o_d.employee.name",title:"Uploaded by",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"created_at",title:"Uploaded On",titleClass:"font-weight-bold",callback:function(t){return new Date(t).toLocaleString()},dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",year:"",plan:"",activated:!0}),is_a_pdf:!1,loaded:!1}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.form.reset(),this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},create:function(){var t=this;this.form.post("/leave-plans").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Plan has been created"),t.vuetable.reload()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;t.form.errors.record(a)}else console.error("An unexpected error occurred."),400===e.response.status&&t.$toast.error("No payment for the period selected")}))},show:function(t){var e=this;setTimeout((function(){return e.loaded=!0}),1e3),this.form.populate(t),"pdf"==this.form.plan.split(".")[1].toLowerCase()&&(this.is_a_pdf=!0),this.form.id=t.id,this.$bvModal.show("view-modal")},updateBranch:function(){var t=this;this.form.patch("/branches/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},deletePlan:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete ").then((function(){e.form.delete("leave-plans/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.vuetable.reload(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(3379),o=a.n(r),n=a(1193),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search plan"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employee-leave-plans",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.show(a.rowData)}}},[e("i",{staticClass:"uil uil-eye fs-3 me-2"}),t._v(" View\n\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deletePlan(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.create.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.create.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Plan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Plan")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"file",id:"name"},on:{input:function(e){t.form.plan=e.target.files[0]}}}),t._v(" "),t.form.hasError("plan")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("plan"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"year"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"view-modal",title:"".concat(t.form.name," - ").concat(t.form.year),"hide-header-close":"",size:"xl","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")])]}}])},[e("div",[t.is_a_pdf?e("div",{staticStyle:{display:"flex","justify-content":"center",height:"500px","align-items":"center"}},[t.loaded?e("iframe",{attrs:{src:"/storage/".concat(t.form.plan),width:"90%",height:"100%"}}):e("div",{staticClass:"spinner"})]):e("div",{staticClass:"text-center"},[e("p",[t._v("The file type cannot be opened")]),t._v(" "),e("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(t.form.plan)}},[e("i",{staticClass:"uil uil-file-download me-2"}),t._v(" Download")])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,"5a93d355",null).exports},2141:(t,e,a)=>{"use strict";a.d(e,{Z:()=>v});const s={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],assignedLeaves:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"Approved":"Not approved"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",approved:!1,supervisor_approved:!1,supervisor_rejected:!1,rejected:!1,supervisor:!0}},leaveBalance:null,selectedRequest:null,form:new window.Form({id:null,employee_id:"",leave_type_id:"",employee_leave_type_id:"",reason:"",start_date:"",end_date:"",leaveRequest:null,approved:!0,return_date:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable},backgroundImageUrl:function(){return null!=this.selectedRequest.employee_leave_type&&null!=this.selectedRequest.employee_leave_type.employee.profile_image?"/storage/".concat(this.selectedRequest.employee_leave_type.employee.profile_image.file_path):""}},mounted:function(){this.retrieveEmployees()},watch:{"form.leave_type_id":function(t){this.getLeaveBalance()},"form.employee_id":function(t){this.getAssgned()}},methods:{getLeaveBalance:function(){var t=this;this.$httpClient.get("/employee/leave-balance",{params:{employee_id:this.form.employee_id,leave_type_id:this.form.leave_type_id}}).then((function(e){var a=e.data;t.leaveBalance=a})).catch((function(){}))},viewLeave:function(t){this.selectedRequest=t,this.$bvModal.show("view-modal")},getAssgned:function(){var t=this;this.$httpClient.get("/datatable/employee-leave-types",{params:{filter:{employee_assigned_leaves:this.form.employee_id}}}).then((function(e){var a=e.data;t.assignedLeaves=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employee assigned leaves")}))},retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/",{params:{filter:{activeEmployee:!0,supervisor:!0}}}).then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showRejectForm:function(t){this.form.leaveRequest=t,this.$bvModal.show("reject-reason")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/supervisor/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch((function(t){e.$toast.error(t.response.data)}))},rejectLeave:function(){var t=this;this.$toast.question("Are you sure?","You want to reject this leave request").then((function(){t.form.patch("/employee/supervisor/leave-request-reject/"+t.form.leaveRequest.id).then((function(){t.vuetable.reload(),t.$toast.success("The leave rejected"),t.$bvModal.hide("reject-reason")})).catch((function(e){t.$toast.error(e.response.data)}))}))},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},giveLeave:function(){var t=this;this.form.post("/employee/supervisor-give-leave").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t,e,a=this,s=a._self._c;return s("div",[s("div",{staticClass:"card card-stacked p-0"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"input-icon me-2"},[a._m(0),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:a.moreParams.filter.name},on:{input:[function(t){t.target.composing||a.$set(a.moreParams.filter,"name",t.target.value)},a.applyFilter]}})]),a._v(" "),s("div",{staticClass:"card-actions"},[s("button",{staticClass:"btn btn-primary",on:{click:a.showCreateForm}},[s("i",{staticClass:"uil uil-plus me-1"}),a._v("Give Leave\n        ")])])]),a._v(" "),s("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:a.fields,"append-params":a.moreParams},scopedSlots:a._u([{key:"name",fn:function(t){return[s("div",{staticClass:"media"},[s("div",{staticClass:"media-body align-self-center"},[s("span",{staticClass:"text-sm"},[a._v(a._s(t.rowData.name)+"\n            ")]),a._v(" "),s("div",{staticClass:"font-size-12 text-purple-300"},[a._v("\n              "+a._s(t.rowData.stores?t.rowData.stores.name:"")+"\n              "),t.rowData.auto_post_request?s("span",{staticClass:"badge badge-soft-success shadow-sm"},[a._v("Auto Post")]):s("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[a._v("Manual Post")])])])])]}},{key:"actions",fn:function(t){return[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[s("i",{staticClass:"uil uil-ellipsis-h"})]),a._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-end"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.viewLeave(t.rowData)}}},[s("i",{staticClass:"uil uil-eye fs-3 me-2"}),a._v(" View\n            ")]),a._v(" "),s("a",{staticClass:"dropdown-item text-success",attrs:{href:"#"},on:{click:function(e){return a.approveLeave(t.rowData)}}},[s("i",{staticClass:"uil uil-check-circle fs-3 me-2"}),a._v(" Approve\n            ")]),a._v(" "),s("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return a.showRejectForm(t.rowData)}}},[s("i",{staticClass:"uil uil-times-circle fs-3 me-2"}),a._v(" Reject\n            ")])])])]}}])})],1),a._v(" "),s("b-modal",{attrs:{id:"create-modal",title:"Give a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n        Close\n      ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.giveLeave.apply(null,arguments)}}},[a._v("\n        Submit\n      ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.createAssignLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee Name")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"department_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.employee_id,callback:function(t){a.$set(a.form,"employee_id",t)},expression:"form.employee_id"}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Leave Type")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.assignedLeaves,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:a._u([{key:"option",fn:function(t){return[s("li",{staticClass:"media mb-1"},[s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-flex justify-content-between"},[s("span",[a._v(a._s(t.leave_type.name))])])])])]}},{key:"selected-option",fn:function(t){return[s("li",{staticClass:"media mb-1"},[s("div",{staticClass:"media-body"},[s("div",{staticClass:"d-flex justify-content-between"},[s("span",[a._v(a._s(t.leave_type.name))])])])])]}}]),model:{value:a.form.leave_type_id,callback:function(t){a.$set(a.form,"leave_type_id",t)},expression:"form.leave_type_id"}}),a._v(" "),a.form.hasError("leave_type_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("leave_type_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label"},[a._v("Start Date")]),a._v(" "),s("date-picker",{staticClass:"form-control",attrs:{value:a.form.start_date},on:{"on-change":function(t,e){a.form.start_date=e}}}),a._v(" "),a.form.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("End Date")]),a._v(" "),s("date-picker",{staticClass:"form-control",attrs:{value:a.form.end_date},on:{"on-change":function(t,e){a.form.end_date=e}}}),a._v(" "),a.form.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("end_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Return Date")]),a._v(" "),s("date-picker",{staticClass:"form-control",attrs:{value:a.form.return_date},on:{"on-change":function(t,e){a.form.return_date=e}}}),a._v(" "),a.form.hasError("return_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("return_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("lable",{staticClass:"form-label",attrs:{for:"reason"}},[a._v("Reason for leave")]),a._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:a.form.reason},on:{input:function(t){t.target.composing||a.$set(a.form,"reason",t.target.value)}}}),a._v(" "),a.form.hasError("reason")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("reason"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.approved,expression:"form.approved"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.form.approved)?a._i(a.form.approved,null)>-1:a.form.approved},on:{change:function(t){var e=a.form.approved,s=t.target,r=!!s.checked;if(Array.isArray(e)){var o=a._i(e,null);s.checked?o<0&&a.$set(a.form,"approved",e.concat([null])):o>-1&&a.$set(a.form,"approved",e.slice(0,o).concat(e.slice(o+1)))}else a.$set(a.form,"approved",r)}}}),a._v(" "),s("span",{staticClass:"form-check-label"},[a._v("Approve")])])])]),a._v(" "),a.leaveBalance?s("span",{staticClass:"text-warning"},[a._v("leave balance: "+a._s(a.leaveBalance.balance)+" day(s)")]):a._e()]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n        Close\n      ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[a._v("\n        Submit\n      ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee Name")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"department_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.employee_id,callback:function(t){a.$set(a.form,"employee_id",t)},expression:"form.employee_id"}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Leave Type")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.leave_type_id,callback:function(t){a.$set(a.form,"leave_type_id",t)},expression:"form.leave_type_id"}}),a._v(" "),a.form.hasError("leave_type_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("leave_type_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Start Date")]),a._v(" "),s("date-picker",{staticClass:"form-control",attrs:{value:a.form.start_date,"max-date":new Date},on:{"on-change":function(t,e){a.form.start_date=e}}}),a._v(" "),a.form.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("End Date")]),a._v(" "),s("date-picker",{staticClass:"form-control",attrs:{value:a.form.end_date,"max-date":new Date},on:{"on-change":function(t,e){a.form.end_date=e}}}),a._v(" "),a.form.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("end_date "))}}):a._e()],1)])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"reject-reason",title:"Reason for Reject","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n        Close\n      ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.rejectLeave.apply(null,arguments)}}},[a._v("\n        Submit\n      ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.editLeave.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Reject Reason")]),a._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:a.form.reason},on:{input:function(t){t.target.composing||a.$set(a.form,"reason",t.target.value)}}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()])])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"view-modal",title:"Leave Request","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("\n        Close\n      ")])]}}])},[a.selectedRequest?s("div",{staticClass:"row g-3 align-items-center"},[s("div",{staticClass:"col-auto"},[""!=a.backgroundImageUrl?s("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=a.backgroundImageUrl)&&void 0!==t?t:"",")")}},[s("div",{staticClass:"dropdown-mnu position-absolute"})]):s("span",{staticClass:"avatar avatar-md"},[a._v(a._s(a.selectedRequest.employee_leave_type?a.selectedRequest.employee_leave_type.employee.name.slice(0,2).toUpperCase():""))])]),a._v(" "),s("div",{staticClass:"col-auto"},[s("div",{staticClass:"fs-3"},[a._v("\n           "+a._s(null!==(e=a.selectedRequest.employee_leave_type.employee.name)&&void 0!==e?e:"N/A")+"\n         ")]),a._v(" "),s("div",{staticClass:"text-muted"},[s("span",[a._v(" "+a._s(a.selectedRequest.employee_leave_type.employee.job_title)+" ")]),a._v("  | "),s("span",[a._v(" "+a._s(a.selectedRequest.employee_leave_type.employee.department.name))])])]),a._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[a._v("\n           Leave Information\n         ")]),a._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Leave Type:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"leave-type"}},[a._v(a._s(a.selectedRequest.employee_leave_type.leave_type.name))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Start Date:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"start-date"}},[a._v(a._s(a.selectedRequest.start_date))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("End Date:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"end-date"}},[a._v(a._s(a.selectedRequest.end_date))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Days:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"days"}},[a._v(a._s(a.selectedRequest.days))])])]),a._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Reason:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("p",{staticClass:"card-text",attrs:{id:"reason"}},[a._v(a._s(a.selectedRequest.reason))])])]),a._v(" "),a.selectedRequest.support_doc?s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"},[s("h6",{staticClass:"card-title"},[a._v("Supporting Doc:")])]),a._v(" "),s("div",{staticClass:"col-md-9"},[s("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(a.selectedRequest.support_doc)}},[s("i",{staticClass:"uil uil-file-download me-2"}),a._v(" Download")])])]):a._e()])])]):a._e()])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",supervisor_approved:!0,supervisor_rejected:!1,supervisor:!0}},form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"approved",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[a.rowData.approved?e("span",{staticClass:"badge badge-success rounded px-1 p-1 shadow-sm border"},[e("small",[t._v("HR has approved")])]):a.rowData.rejected?e("span",{staticClass:"badge badge-soft-warning rounded px-1 p-1 shadow-sm border"},[e("small",[t._v("HR has rejected")])]):e("span",{staticClass:"badge badge-soft-secondary shadow-sm"},[t._v("pending HR approval")])])])])]}},{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"})])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const l={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",approved:!1,supervisor_approved:!1,supervisor_rejected:!0,supervisor:!0}},form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const c=(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Assign Leave\n          ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"approved",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[a.rowData.approved?e("span",{staticClass:"badge badge-success rounded px-1 p-1 shadow-sm border"},[e("small",[t._v("HR has approved")])]):a.rowData.rejected?e("span",{staticClass:"badge badge-soft-warning rounded px-1 p-1 shadow-sm border"},[e("small",[t._v("HR has also rejected")])]):e("span",{staticClass:"badge badge-soft-secondary shadow-sm"},[t._v("pending HR approval")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"})])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;var d=a(4186),m=a(1132),u=a(9897);const p={props:{leave_request:{type:Array,required:!0,default:function(){return[]}}},components:{FullCalendar:d.Z},data:function(){return{calendarOptions:{plugins:[m.Z,u.ZP],initialView:"dayGridMonth",eventMouseEnter:this.handleDateClick,events:[]},approved_leaves:[]}},mounted:function(){this.approvedLeaves(),this.pendingLeaves()},methods:{handleDateClick:function(t){console.log(t)},approvedLeaves:function(){var t=this;this.$httpClient.get("/datatable/leave-requests",{params:{filter:{supervisor:!0}}}).then((function(e){var a=e.data;t.approved_leaves=a.data,t.showApprovedLeaves()})).catch((function(){t.$toast.error("There was a problem retrieving the Employee allowances")}))},showApprovedLeaves:function(){var t=this;this.approved_leaves.forEach((function(e){var a={};a=e.supervisor_approved&&e.approved?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"green"}:e.supervisor_approved&&!e.rejected?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"lightblue"}:e.rejected||e.supervisor_rejected?{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"#bc3433"}:{title:e.employee_leave_type.employee.name,start:e.start_date,end:e.end_date,color:"gray"},t.calendarOptions.events.push(a)}))}}};const f={components:{Rejected:c,Approved:i,Pending:o,Calender:(0,r.Z)(p,(function(){var t=this._self._c;return t("div",[t("div",{staticClass:"card card-stacked p-6"},[t("FullCalendar",{attrs:{options:this.calendarOptions}})],1)])}),[],!1,null,null,null).exports},data:function(){return{}}};const v=(0,r.Z)(f,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 p-0"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-1 px-lg-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Pending\n          ")]},proxy:!0}])},[t._v(" "),e("pending")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-1 px-lg-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Approved\n          ")]},proxy:!0}])},[t._v(" "),e("approved")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-1 px-lg-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Rejected\n          ")]},proxy:!0}])},[t._v(" "),e("rejected")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-1 px-lg-4 py-2 d-none d-md-block"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Calender\n          ")]},proxy:!0}])},[t._v(" "),e("calender")],1)],1)],1)])])}),[],!1,null,null,null).exports},8627:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});const s={props:{employees:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",hasNotEnded:"not ended"}},form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",status:"",review_notes:"",extended_until:""}),status:["Ongoing","Passed","Extended","Failed"]}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{showProbationForm:function(){this.$bvModal.show("probation-form")},formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},showProbationUpdateForm:function(t){console.log(t),this.form.populate(t),this.$bvModal.show("update-probation-form")},createProbation:function(){var t=this;this.form.post("/employee/probations").then((function(){t.vuetable.reload(),t.$toast.success("The probation has been submitted"),t.$bvModal.hide("probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},updateProbation:function(){var t=this;this.form.patch("/employee/probations/"+this.form.id).then((function(){t.vuetable.reload(),t.$toast.success("Changes saved"),t.$bvModal.hide("update-probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("a",{staticClass:"btn btn-primary me-3",attrs:{href:"#"},on:{click:t.showProbationForm}},[t._v("Assign Probation")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employees-probation",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"status",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},["Ongoing"==a.rowData.status?e("span",{staticClass:"badge bg-green-lt"},[t._v("Ongoing")]):"Passed"==a.rowData.status?e("span",{staticClass:"badge bg-blue-lt"},[t._v("Passed")]):t._e(),t._v(" "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v("Extended")]):t._e(),t._v(" "),"Failed"==a.rowData.status?e("span",{staticClass:"badge bg-red-lt"},[t._v("Failed")]):t._e()])])])]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.start_date))+"\n\n                        ")])])])]}},{key:"end_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.end_date))+"\n                            "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v(" - "+t._s(t.formatDate(a.rowData.extended_until)))]):t._e()])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showProbationUpdateForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit-alt me-2"}),t._v("  update\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"probation-form",title:"Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[t._v("\n                Assign Probation\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-probation-form",title:"Update Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"status"}},[t._v("Status")]),t._v(" "),e("v-select",{attrs:{id:"status",label:"name",options:t.status,reduce:function(t){return t},clearable:!1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),t.form.hasError("status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("status"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Review Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.review_notes,expression:"form.review_notes"}],staticClass:"form-control",attrs:{name:"",id:""},domProps:{value:t.form.review_notes},on:{input:function(e){e.target.composing||t.$set(t.form,"review_notes",e.target.value)}}}),t._v(" "),t.form.hasError("review_notes")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("review_notes"))}}):t._e()])]),t._v(" "),"Extended"===t.form.status?e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"extended_until"}},[t._v("Extended Until")]),t._v(" "),e("date-picker",{attrs:{name:"extended_until",value:t.form.extended_until},on:{"on-change":function(e,a){t.form.extended_until=a}}}),t._v(" "),t.form.hasError("extended_until")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("extended_until"))}}):t._e()],1)]):t._e(),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{employees:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",hasNotEnded:"ended"}},form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",status:"",review_notes:"",extended_until:""}),status:["Ongoing","Passed","Extended","Failed"]}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{showProbationForm:function(){this.$bvModal.show("probation-form")},formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},showProbationUpdateForm:function(t){console.log(t),this.form.populate(t),this.$bvModal.show("update-probation-form")},createProbation:function(){var t=this;this.form.post("/employee/probations").then((function(){t.vuetable.reload(),t.$toast.success("The probation has been submitted"),t.$bvModal.hide("probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},updateProbation:function(){var t=this;this.form.patch("/employee/probations/"+this.form.id).then((function(){t.vuetable.reload(),t.$toast.success("Changes saved"),t.$bvModal.hide("update-probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employees-probation",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"status",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},["Ongoing"==a.rowData.status?e("span",{staticClass:"badge bg-green-lt"},[t._v("Ongoing")]):"Passed"==a.rowData.status?e("span",{staticClass:"badge bg-blue-lt"},[t._v("Passed")]):t._e(),t._v(" "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v("Extended")]):t._e(),t._v(" "),"Failed"==a.rowData.status?e("span",{staticClass:"badge bg-red-lt"},[t._v("Failed")]):t._e()])])])]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.start_date))+"\n\n                        ")])])])]}},{key:"end_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.end_date))+"\n                            "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v(" - "+t._s(t.formatDate(a.rowData.extended_until)))]):t._e()])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showProbationUpdateForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit-alt me-2"}),t._v("  update\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"probation-form",title:"Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[t._v("\n                Assign Probation\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-probation-form",title:"Update Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"status"}},[t._v("Status")]),t._v(" "),e("v-select",{attrs:{id:"status",label:"name",options:t.status,reduce:function(t){return t},clearable:!1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),t.form.hasError("status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("status"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Review Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.review_notes,expression:"form.review_notes"}],staticClass:"form-control",attrs:{name:"",id:""},domProps:{value:t.form.review_notes},on:{input:function(e){e.target.composing||t.$set(t.form,"review_notes",e.target.value)}}}),t._v(" "),t.form.hasError("review_notes")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("review_notes"))}}):t._e()])]),t._v(" "),"Extended"===t.form.status?e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"extended_until"}},[t._v("Extended Until")]),t._v(" "),e("date-picker",{attrs:{name:"extended_until",value:t.form.extended_until},on:{"on-change":function(e,a){t.form.extended_until=a}}}),t._v(" "),t.form.hasError("extended_until")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("extended_until"))}}):t._e()],1)]):t._e(),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports,l={props:{employees:{type:Array,required:!0,default:function(){return[]}}},components:{HasEnded:i,OnGoing:o},data:function(){return{}}};const c=(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("On Going\n          ")]},proxy:!0}])},[t._v(" "),e("on-going",{attrs:{employees:t.employees}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v(" Ended\n          ")]},proxy:!0}])},[t._v(" "),e("has-ended")],1)],1)],1)])])}),[],!1,null,null,null).exports},8579:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});const s={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],assignedLeaves:[],fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"resignation_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",status:"pending"}},reason:null,form:new window.Form({id:null,employee_id:"",reason:"",responded_feedback:"",reject:!1})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/",{params:{filter:{activeEmployee:!0}}}).then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showResignationReason:function(t){this.reason=t.reason,this.$bvModal.show("resignation-modal")},showRespond:function(t){this.form.id=t.id,this.form.employee_id=t.employee_id,this.$bvModal.show("respond-to-resignation")},approveResignation:function(){var t=this;this.form.patch("/employee/resignation-respond/"+this.form.id).then((function(){t.vuetable.reload(),t.$toast.success("The response has been submitted")})).catch((function(e){t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/resignation-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"approved",fn:function(t){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showResignationReason(a.rowData)}}},[t._v("\n              View Reason\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showRespond(a.rowData)}}},[t._v("\n             respond\n            ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"resignation-modal",title:"Resignation Reason","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.giveLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("p",[t._v(t._s(t.reason))])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"respond-to-resignation",title:"Respond","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.approveResignation.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.approveResignation.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Feed bank")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.responded_feedback,expression:"form.responded_feedback"}],staticClass:"form-control",attrs:{name:"",id:""},domProps:{value:t.form.responded_feedback},on:{input:function(e){e.target.composing||t.$set(t.form,"responded_feedback",e.target.value)}}}),t._v(" "),t.form.hasError("responded_feedback")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("responded_feedback"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3 d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.reject,expression:"form.reject"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"",id:"respond"},domProps:{checked:Array.isArray(t.form.reject)?t._i(t.form.reject,null)>-1:t.form.reject},on:{change:function(e){var a=t.form.reject,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"reject",a.concat([null])):o>-1&&t.$set(t.form,"reject",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"reject",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"respond"}},[t._v("reject ?")]),t._v(" "),t.form.hasError("reject")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reject"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"reject-reason",title:"Reason for Reject","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.rejectLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Reject Reason")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"resignation_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",status:"approved"}},form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/resignation-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"})])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const l={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"resignation_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",status:"rejected"}},form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},approveLeave:function(t){var e=this;this.form.patch("/employee/leave-request-approval/"+t.id).then((function(){e.vuetable.reload(),e.$toast.success("The leave approved")})).catch()},createAssignLeave:function(){var t=this;this.form.post("/employee/leaves").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been issued"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leaves/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const c={components:{Rejected:(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/resignation-requests",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"})])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign a Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports,Approved:i,Pending:o},data:function(){return{}}};const d=(0,r.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Pending\n          ")]},proxy:!0}])},[t._v(" "),e("pending")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Approved\n          ")]},proxy:!0}])},[t._v(" "),e("approved")],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Rejected\n          ")]},proxy:!0}])},[t._v(" "),e("rejected")],1)],1)],1)])])}),[],!1,null,null,null).exports},5777:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});const s={props:{employees:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",hasNotEnded:"not ended"}},form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",status:"Ongoing",reason:"",course_content:"",cost:"",evaluation_report:"",submit_evaluation:!1}),evaluation:new window.Form({id:null,report:null}),status:["Ongoing","Passed","Not Attended","Failed"],is_a_pdf:!1,loaded:!1}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{showErollForm:function(){this.$bvModal.show("enrollment-form")},formatDate:function(t){var e=new Date(t);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-")},submitEvaluation:function(){var t=this;this.evaluation.id=this.form.id,this.evaluation.post("/employee/trainings/submit-evaluation").then((function(){t.vuetable.reload(),t.$toast.success("Evaluation report submitted"),t.$bvModal.hide("enrollment-form")})).catch((function(e){t.$toast.error("Report was not uploaded"),t.$toast.error(e.response.data)}))},showCourse:function(t){var e=this;setTimeout((function(){return e.loaded=!0}),1e3),this.form.populate(t),"pdf"==this.form.course_content.split(".")[1].toLowerCase()&&(this.is_a_pdf=!0),this.form.id=t.id,this.$bvModal.show("view-course-countent-modal")},showEnrollmentUpdateForm:function(t){this.form.populate(t),this.$bvModal.show("update-enrollment-form")},createErollment:function(){var t=this;this.form.post("/employee/trainings").then((function(){t.vuetable.reload(),t.$toast.success("Employee Enrolled"),t.$bvModal.hide("enrollment-form")})).catch((function(e){t.$toast.error(e.response.data)}))},updateErollment:function(){var t=this;this.form.patch("/employee/trainings/"+this.form.id).then((function(){t.vuetable.reload(),t.$toast.success("Changes saved"),t.$bvModal.hide("update-enrollment-form")})).catch((function(e){t.$toast.error(e.response.data)}))},deleteTraining:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete ").then((function(){e.form.delete("/employee/trainings/"+e.form.id).then((function(t){e.$toast.success("Deleted"),e.vuetable.reload()})).catch((function(t){console.error(t),e.$toast.error("Deletion Failed")}))}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("a",{staticClass:"btn btn-primary me-3",attrs:{href:"#"},on:{click:t.showErollForm}},[t._v("Enroll")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employees-trainings",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"status",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},["Ongoing"==a.rowData.status?e("span",{staticClass:"badge bg-green-lt"},[t._v("Ongoing")]):"Passed"==a.rowData.status?e("span",{staticClass:"badge bg-blue-lt"},[t._v("Passed")]):t._e(),t._v(" "),"Not Attended"==a.rowData.status?e("span",{staticClass:"badge bg-warning-lt"},[t._v("Not Attended")]):t._e(),t._v(" "),"Failed"==a.rowData.status?e("span",{staticClass:"badge bg-red-lt"},[t._v("Failed")]):t._e()])])])]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.start_date))+"\n\n                        ")])])])]}},{key:"end_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.end_date))+"\n                        ")])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showCourse(a.rowData)}}},[e("i",{staticClass:"uil uil-file-alt me-2"}),t._v(" Course Contents\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEnrollmentUpdateForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit-alt me-2"}),t._v(" Update\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{disabled:"",href:"#"},on:{click:function(e){return t.deleteTraining(a.rowData)}}},[e("i",{staticClass:"uil uil-trash me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"enrollment-form",title:"Employee Training Enrollment","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createErollment.apply(null,arguments)}}},[t._v("\n                Enroll\n            ")])]}}])},[e("form",{staticClass:"row",attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createErollment.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12 mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Reason (description)")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-12 mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Course Contents")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"file"},on:{input:function(e){t.form.course_content=e.target.files[0]}}})]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Cost Estimate")]),t._v(" "),e("medic-money",{attrs:{value:t.form.cost},on:{input:function(e){t.form.cost=e}}}),t._v(" "),t.form.hasError("cost")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("cost"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-enrollment-form",title:"Update Employee Enrollment","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateErollment.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{staticClass:"row",attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateErollment.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12 mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Reason (description)")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Cost Estimate")]),t._v(" "),e("medic-money",{attrs:{value:t.form.cost},on:{input:function(e){t.form.cost=e}}}),t._v(" "),t.form.hasError("cost")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("cost"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"status"}},[t._v("Status")]),t._v(" "),e("v-select",{attrs:{id:"status",label:"name",options:t.status,reduce:function(t){return t},clearable:!1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),t.form.hasError("status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("status"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.submit_evaluation,expression:"form.submit_evaluation"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.submit_evaluation)?t._i(t.form.submit_evaluation,null)>-1:t.form.submit_evaluation},on:{change:function(e){var a=t.form.submit_evaluation,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"submit_evaluation",a.concat([null])):o>-1&&t.$set(t.form,"submit_evaluation",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"submit_evaluation",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Submit Evaluation")])])]),t._v(" "),t.form.submit_evaluation||null!=t.form.evaluation_report?e("div",{staticClass:"col-lg-12 text-center"},[e("div",[e("span",{staticClass:"text-success mb-2"},[t._v("Report was Uploaded")]),e("br"),t._v(" "),e("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(t.form.evaluation_report)}},[e("i",{staticClass:"uil uil-file-download me-2"}),t._v(" Download")])])]):e("div",{staticClass:"col-lg-12 mb-3"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Course Evaluation")]),t._v(" "),e("input",{staticClass:"form-control mb-2",attrs:{type:"file"},on:{input:function(e){t.evaluation.report=e.target.files[0]}}}),t._v(" "),e("button",{staticClass:"btn btn-outline-success",staticStyle:{"margin-left":"auto"},attrs:{type:"button"},on:{click:t.submitEvaluation}},[e("i",{staticClass:"uil uil-file-upload me-2"}),t._v("upload")])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"view-course-countent-modal",title:"Course Contents","hide-header-close":"",size:"xl","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")])]}}])},[e("div",[t.is_a_pdf?e("div",{staticStyle:{display:"flex","justify-content":"center",height:"500px","align-items":"center"}},[t.loaded?e("iframe",{attrs:{src:"/storage/".concat(t.form.course_content),width:"90%",height:"100%"}}):e("div",{staticClass:"spinner"})]):e("div",{staticClass:"text-center"},[e("p",[t._v("The file type cannot be opened")]),t._v(" "),e("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(t.form.course_content)}},[e("i",{staticClass:"uil uil-file-download me-2"}),t._v(" Download")])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{employees:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:status",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",hasNotEnded:"ended"}},form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",status:"",review_notes:"",extended_until:""}),status:["Ongoing","Passed","Extended","Failed"]}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{showProbationForm:function(){this.$bvModal.show("probation-form")},formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},showProbationUpdateForm:function(t){console.log(t),this.form.populate(t),this.$bvModal.show("update-probation-form")},createProbation:function(){var t=this;this.form.post("/employee/probations").then((function(){t.vuetable.reload(),t.$toast.success("The probation has been submitted"),t.$bvModal.hide("probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},updateProbation:function(){var t=this;this.form.patch("/employee/probations/"+this.form.id).then((function(){t.vuetable.reload(),t.$toast.success("Changes saved"),t.$bvModal.hide("update-probation-form")})).catch((function(e){t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search employee"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employees-trainings",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"status",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},["Ongoing"==a.rowData.status?e("span",{staticClass:"badge bg-green-lt"},[t._v("Ongoing")]):"Passed"==a.rowData.status?e("span",{staticClass:"badge bg-blue-lt"},[t._v("Passed")]):t._e(),t._v(" "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v("Extended")]):t._e(),t._v(" "),"Failed"==a.rowData.status?e("span",{staticClass:"badge bg-red-lt"},[t._v("Failed")]):t._e()])])])]}},{key:"start_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.start_date))+"\n\n                        ")])])])]}},{key:"end_date",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(t.formatDate(a.rowData.end_date))+"\n                            "),"Extended"==a.rowData.status?e("span",{staticClass:"badge bg-yellow-lt"},[t._v(" - "+t._s(t.formatDate(a.rowData.extended_until)))]):t._e()])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showProbationUpdateForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit-alt me-2"}),t._v("  update\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"probation-form",title:"Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[t._v("\n                Assign Probation\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-probation-form",title:"Update Employee Probation","hide-header-close":"",size:"md","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateProbation.apply(null,arguments)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"employee_id"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"start_date",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"end_date"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"end_date",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports,l={props:{employees:{type:Array,required:!0,default:function(){return[]}}},components:{HasEnded:i,OnGoing:o},data:function(){return{}}};const c=(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("On Going\n          ")]},proxy:!0}])},[t._v(" "),e("on-going",{attrs:{employees:t.employees}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v(" Ended\n          ")]},proxy:!0}])},[t._v(" "),e("has-ended")],1)],1)],1)])])}),[],!1,null,null,null).exports},7521:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["contributions","employees","accounts"],data:function(){return{fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"contribution.name",title:"Contribution",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"amount",title:"Amount",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"continuous",title:"Continuous",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){if(t)return"CONTINUOUS"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}},form:new window.Form({id:null,name:"",employee_id:"",contribution_id:"",start_date:"",end_date:"",amount:null,continuous:!1})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},addContributions:function(){var t=this;this.form.post("/employee/contributions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The department has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateContribution:function(){var t=this;this.form.patch("/employee/contributions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Employees"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Contributions\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employeecontributions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.addContributions.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.addContributions.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.contributions,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("unit_price")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("unit_price"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateContribution.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateContribution.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.contributions,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("unit_price")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("unit_price"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},2570:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedLeaveType:{},employees:[],fields:[{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"Year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}},previousDays:null,hasBalance:!1,form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",to_all:!1,days:0,year:(new Date).getFullYear(),end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},watch:{"form.leave_type_id":function(t){this.selectedLeaveType=this.leave_types.find((function(e){return e.id===t})),this.form.days=this.selectedLeaveType.days,this.form.to_all||this.checkPreviousLeaveBalance()}},methods:{checkPreviousLeaveBalance:function(){var t=this;this.$httpClient.get("/employee/previous-leave-balance/",{params:{employee_id:this.form.employee_id,leave_type_id:this.form.leave_type_id,year:this.form.year-1}}).then((function(e){var a=e.data;t.hasBalance=!0,t.previousDays=a.balance,t.form.days+=a.balance})).catch((function(){t.hasBalance=!1}))},retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAssignLeave:function(){var t=this;this.form.post("/employee/leave-assign").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave has been assigned"),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/employee/leave-assign/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search leave"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Assign Leave\n        ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employee-leave-types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Assign Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("All employees")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_all,expression:"form.to_all"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.to_all)?t._i(t.form.to_all,null)>-1:t.form.to_all},on:{change:function(e){var a=t.form.to_all,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_all",a.concat([null])):o>-1&&t.$set(t.form,"to_all",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_all",r)}}}),t._v(" "),t.form.hasError("to_all")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("to_all"))}}):t._e()])]),t._v(" "),t.form.to_all?t._e():e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e(),t._v(" "),t.hasBalance?e("small",[t._v("Last year's balance of "+t._s(t.previousDays)+" days will be automatically added to this year's leave entitlement for employees.")]):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e(),t._v(" "),t.hasBalance?e("small",{staticClass:"text-muted"},[t._v("Last year's balance of "+t._s(t.previousDays)+" days will be automatically added to this year's leave entitlement for employees.")]):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7140:(t,e,a)=>{"use strict";a.d(e,{Z:()=>h});var s=a(538),r=a(9940);const o=(0,s.defineComponent)({name:"EmployeeDocument",components:{MediaLibraryAttachment:r.c},props:{employee:{type:Object,required:!0}},data:function(){return{documents:[],value:{name:"media",media:{}},enableForm:!1,form:new window.Form({document_name:"",employee_id:this.employee.id,media:{},name:"media"}),validationErrors:{},isReadyToSubmit:!0}},mounted:function(){this.retrieveDocuments()},methods:{toggleForm:function(){this.enableForm=!this.enableForm},onChange:function(t){this.value.media=t},uploadDocument:function(){var t=this;this.form.media=this.value.media,this.form.post("/employee/employee-documents").then((function(){t.$refs.mediaComponent.mediaLibrary.changeState((function(t){t.media=[]})),t.$toast.success("Document uploaded successfully"),t.toggleForm(),t.retrieveDocuments()})).catch()},retrieveDocuments:function(){var t=this;this.$httpClient.get("/employee/employee-documents",{params:{employee_id:this.employee.id}}).then((function(e){var a=e.data;t.documents=a})).catch((function(t){console.error(t)}))}}});var n=a(1900);const i=(0,n.Z)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.enableForm?e("div",[e("div",{staticClass:"card rounded-3"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[t._v("\n          Close\n        ")])])]),t._v(" "),e("div",{staticClass:"card-body px-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.uploadDocument.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Document Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.document_name,expression:"form.document_name"}],staticClass:"form-control",attrs:{name:"document_name",type:"text"},domProps:{value:t.form.document_name},on:{input:function(e){e.target.composing||t.$set(t.form,"document_name",e.target.value)}}}),t._v(" "),t.form.hasError("document_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("document_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("media-library-attachment",{ref:"mediaComponent",attrs:{name:"media","validation-rules":{accept:["image/jpeg","image/gif","application/pdf"],maxSizeInKB:10240},"validation-errors":t.validationErrors,"initial-value":t.value.media},on:{"is-ready-to-submit-change":function(e){t.isReadyToSubmit=e},change:t.onChange}})],1),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"}},[t._v("\n          Upload Document\n        ")])])])])]):e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._m(1),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-file-upload me-2"}),t._v(" Upload\n        ")])])]),t._v(" "),t._l(t.documents,(function(a){return e("div",{key:a.id,staticClass:"card-body"},[e("div",{staticClass:"row g-2 align-items-center"},[e("div",{staticClass:"col"},[e("h4",{staticClass:"card-title m-0"},[e("a",{attrs:{href:"#"}},[t._v(t._s(a.name))])]),t._v(" "),e("div",{staticClass:"text-secondary"},[t._v("\n            "+t._s(t._f("readableFileSize")(a.size))),e("br"),t._v(" "),e("small",{staticClass:"text-muted"},[t._v("by "),e("a",{attrs:{href:"#"}},[t._v(t._s(a.uploaded_by.name))]),t._v(" on "+t._s(t._f("dATE_MONTH_YEAR_HOUR_MINUTES")(a.created_at))+" ")])])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("a",{staticClass:"btn",attrs:{href:"/employee/employee-document/"+a.uuid,target:"_blank"}},[t._v("\n            Download\n          ")])])])])}))],2)])}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h3",{staticClass:"card-title"},[t._v("\n          Documents\n        ")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n          Upload document\n        ")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h3",{staticClass:"card-title"},[t._v("\n          Documents\n        ")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n          Listing uploaded documents\n        ")])])}],!1,null,"3701be46",null).exports;const l=(0,s.defineComponent)({name:"Qualification",props:{employee:{type:Object,default:function(){}},permissions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"qualification",title:"Qualification",titleClass:" text-end pe-3",dataClass:" text-center pe-3",width:"8%"},{name:"institution",title:"Institution",titleClass:"ps-3",dataClass:"ps-3",width:"45%"},{name:"date",title:"Date",titleClass:"text-center",dataClass:"text-center",width:"5%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeQualifications:[],billToReverse:"",form:new window.Form({id:null,employee_id:this.employee.id,date:"",institution:"",qualification:""})}},mounted:function(){this.retrieveEmployeeQualifications()},methods:{retrieveEmployeeQualifications:function(){var t=this;this.$httpClient.get("/employee/qualifications/"+this.employee.id).then((function(e){var a=e.data;t.employeeQualifications=a})).catch((function(){t.$toast.error("There was a problem retrieving employee qualifications")}))},deleteQualification:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/qualifications/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openQualificationModal:function(){this.$bvModal.show("qualification-modal")},addQualification:function(){var t=this;this.form.post("/employee/qualifications").then((function(){t.$toast.success("Qualification has been added"),t.cleanUp(),t.$bvModal.hide("qualification-modal")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editQualification:function(t){this.form.populate(t),this.$bvModal.show("edit-qualification-modal")},updateQualification:function(){var t=this;this.form.patch("/employee/qualifications/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-qualification-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeeQualifications()}}});var c=a(3379),d=a.n(c),m=a(3139),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;const p=(0,n.Z)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"qualification-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Qualification Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addQualification}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Institution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.institution,expression:"form.institution"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.institution},on:{input:function(e){e.target.composing||t.$set(t.form,"institution",e.target.value)}}}),t._v(" "),t.form.hasError("institution")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("institution"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Qualification")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.qualification,expression:"form.qualification"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.qualification},on:{input:function(e){e.target.composing||t.$set(t.form,"qualification",e.target.value)}}}),t._v(" "),t.form.hasError("qualification")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("qualification"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date")]),t._v(" "),e("div",[e("date-picker",{staticClass:"form-control bg-white",attrs:{name:"date_of_birth",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-qualification-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Qualification Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateQualification}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Institution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.institution,expression:"form.institution"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.institution},on:{input:function(e){e.target.composing||t.$set(t.form,"institution",e.target.value)}}}),t._v(" "),t.form.hasError("institution")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("institution"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Qualification")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.qualification,expression:"form.qualification"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.qualification},on:{input:function(e){e.target.composing||t.$set(t.form,"qualification",e.target.value)}}}),t._v(" "),t.form.hasError("qualification")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("qualification"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openQualificationModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Qualification\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeQualifications,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editQualification(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteQualification(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Qualifications\n        ")])])}],!1,null,"362073da",null).exports;const f=(0,s.defineComponent)({name:"EmployeeDocument",components:{MediaLibraryAttachment:r.c},props:{employee:{type:Object,required:!0}},data:function(){return{documents:[],value:{name:"media",media:{}},enableForm:!0,form:new window.Form({document_name:"",employee_id:this.employee.id,media:{},name:"media"}),validationErrors:{},isReadyToSubmit:!0}},mounted:function(){this.retrieveDocuments()},methods:{toggleForm:function(){this.enableForm=!this.enableForm},onChange:function(t){this.value.media=t},uploadDocument:function(){var t=this;this.form.media=this.value.media,this.form.post("/employee/employee-photo").then((function(){t.$refs.mediaComponent.mediaLibrary.changeState((function(t){t.media=[]})),t.$toast.success("Photo uploaded successfully"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},retrieveDocuments:function(){var t=this;this.$httpClient.get("/employee/employee-documents",{params:{employee_id:this.employee.id}}).then((function(e){var a=e.data;t.documents=a})).catch((function(t){console.error(t)}))}}});const v={components:{employeePhoto:(0,n.Z)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.enableForm?e("div",[e("div",{staticClass:"card rounded-3"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body px-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.uploadDocument.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("media-library-attachment",{ref:"mediaComponent",attrs:{name:"media","validation-rules":{accept:["image/jpeg","image/gif"],maxSizeInKB:10240},"validation-errors":t.validationErrors,"initial-value":t.value.media},on:{"is-ready-to-submit-change":function(e){t.isReadyToSubmit=e},change:t.onChange}})],1),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"}},[t._v("\n          Upload Document\n        ")])])])])]):t._e()}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"card-header"},[e("div",[e("h3",{staticClass:"card-title"},[t._v("\n          Photo\n        ")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n          Upload photo\n        ")])])])}],!1,null,"1d376822",null).exports,Attachments:i,Qualification:p},props:{employee:{type:Object,required:!0,default:function(){}},employeetypes:{type:Array,default:function(){return[]}},actiontypes:{type:Array,default:function(){return[]}},severitylevels:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},branches:{type:Array,default:function(){return[]}},departments:{type:Array,default:function(){return[]}}},data:function(){return{employmentHistory:[],PAYEOptions:[{name:"Not Applicable",value:0},{name:"Graduated Tax",value:1},{name:"30% of Gross Salary",value:2},{name:"5% with-holding",value:3}],employmentStatus:[{name:"active",value:0},{name:"suspended",value:1},{name:"terminated",value:2}],maritalStatus:[{name:"Single",value:0},{name:"Married",value:1},{name:"Devoced",value:2},{name:"Others",value:3}],is_disabled:[{name:"No",value:0},{name:"Yes",value:1}],profile_pic_clicked:!1,form:new window.Form({id:null,name:"",dob:"",gender:"",identification_number:"",address:"",job_title:"",telephone:"",staff_number:"",marital_status:"",home_county:"",home_constituency:"",ethnicity:"",contract_exp:"",home_sub_county:"",conflicts_of_interest:"",employee_type_id:null,job_group_id:null,branch_id:null,email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:"",pays_tax:!1,pays_nssf:!1,pays_shif:!1,department_id:null,employment_status:!1,nationality:""}),employeeForm:new window.Form({id:null,name:"",dob:"",gender:"",identification_number:"",address:"",job_title:"",telephone:"",staff_number:"",marital_status:"",is_disabled:"",disability:"",nextOfKin:"",nextOfKin_tel:"",home_county:"",contract_exp:"",home_constituency:"",ethnicity:"",home_sub_county:"",conflicts_of_interest:"",employee_type_id:null,job_group_id:null,branch_id:null,email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:"",pays_tax:!1,pays_nssf:!1,pays_shif:!1,department_id:null,employment_status:!1,nationality:""}),promotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",promotion_date:null,promotion_reason:""}),demotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",demotion_date:null,demotion_reason:""}),transferForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",transfer_date:null,transfer_reason:""}),p9Form:new window.Form({employee_id:null,year:""}),resignation:new window.Form({id:null,employee_id:this.employee.id,reason:"",resignation_date:""}),employmentphoto:new window.Form({employee_id:this.employee.id,image:null}),caseForm:new window.Form({employee_id:null,incident_date:null,description:"",severity_level:null,resolution_date:null,resolution_details:"",status:!1,action_type_id:null,action_details:""}),showPatientEditForm:!1}},computed:{backgroundImageUrl:function(){return null!=this.employee.profile_image?"/storage/".concat(this.employee.profile_image.file_path):""}},created:function(){this.employeeForm.populate(this.employee),this.retrieveEmploymentHistory(),this.setMoreField(),this.getEmployeePhoto()},methods:{togglePatientEditForm:function(){this.showPatientEditForm=!this.showPatientEditForm},setMoreField:function(){var t,e;this.employeeForm.nextOfKin=null!==(t=this.employee.next_of_kin.full_name)&&void 0!==t?t:"",this.employeeForm.nextOfKin_tel=null!==(e=this.employee.next_of_kin.phone_number)&&void 0!==e?e:""},formatDate:function(t){var e=new Date(t);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-")},showP9Form:function(){this.p9Form.employee_id=this.employee.id,this.p9Form.year=(new Date).getFullYear(),this.$bvModal.show("P10-form-modal")},showHistory:function(){this.$bvModal.show("employment-history-modal")},showEmployeeImage:function(){this.$bvModal.show("profile-image-modal")},formP9:function(){var t=this;this.$httpClient.get("/reports/download-form-9",{responseType:"blob",params:{employee_id:this.p9Form.employee_id,year:this.p9Form.year}}).then((function(e){var a=e.data;t.p9Form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.p9Form.errors.record("An unexpected error occurred. Please try again later.");t.p9Form.processing=!1}))},updateEmployee:function(){var t=this;this.employeeForm.patch("/employees/"+this.employee.id).then((function(){t.$toast.success("Employee details have been updated"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},showPromotionForm:function(){this.promotionForm.employee_id=this.employee.id,this.promotionForm.new_job_group_id=this.employee.job_group_id,this.promotionForm.new_department_id=this.employee.department_id,this.promotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("promotion-modal")},showDemotionForm:function(){this.demotionForm.employee_id=this.employee.id,this.demotionForm.new_job_group_id=this.employee.job_group_id,this.demotionForm.new_department_id=this.employee.department_id,this.demotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("demotion-modal")},showTransferForm:function(){this.transferForm.employee_id=this.employee.id,this.transferForm.new_job_group_id=this.employee.job_group_id,this.transferForm.new_department_id=this.employee.department_id,this.transferForm.new_job_title=this.employee.job_title,this.$bvModal.show("transfer-modal")},showResignation:function(){this.$bvModal.show("resignation")},showCancelResignation:function(){var t;this.resignation.id=null!==(t=this.employee.latest_resignation.id)&&void 0!==t?t:null,this.$bvModal.show("cancel_resignation")},showCaseForm:function(){this.caseForm.employee_id=this.employee.id,this.$bvModal.show("record-case-modal")},transfer:function(){var t=this;this.$bvModal.hide("transfer-modal"),this.$toast.question("Are you sure?","You want to transfer "+this.employee.name).then((function(){t.transferForm.post("/employee/transfer").then((function(){t.$toast.success("Employee Transfered"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},demotion:function(){var t=this;this.$bvModal.hide("demotion-modal"),this.$toast.question("Are you sure?","You want to demote "+this.employee.name).then((function(){t.demotionForm.post("/employee/demote").then((function(){t.$toast.success("Employee demoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},promote:function(){var t=this;this.$bvModal.hide("promotion-modal"),this.$toast.question("Are you sure?","You want to promote "+this.employee.name).then((function(){t.promotionForm.post("/employee/promote").then((function(){t.$toast.success("Employee promoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},recordCase:function(){var t=this;this.$toast.question("Confirm Action","Are you sure you want to submit a disciplinary case against ".concat(this.employee.name,"?")).then((function(){t.caseForm.post("/employee/disciplinary").then((function(){t.$toast.success("The disciplinary case has been successfully submitted."),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Oops! Something went wrong while submitting the disciplinary case."),t.form.errors.record(e.response.data.errors)}))}))},uploadPhoto:function(){var t=this;this.employmentphoto.post("/employee/employee-photo").then((function(){t.$toast.success("Photo uploaded"),t.$bvModal.hide("profile-image-modal"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},updateImage:function(t){this.employmentphoto.image=t.target.files[0]},retrieveEmploymentHistory:function(){var t=this;this.$httpClient.get("/employee/employment-history/"+this.employee.id).then((function(e){var a=e.data;t.employmentHistory=a})).catch((function(){t.$toast.error("There was a problem retrieving the employment history")}))},resignationRequest:function(){var t=this;this.$toast.question("Confirm Action","".concat(this.employee.name," are you sure you want to submit resignation request ?")).then((function(){t.resignation.post("/employee/resignations").then((function(){t.$toast.success("Your resignation request has been successfully submitted."),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Oops! Something went wrong while submitting the resignation request."),t.form.errors.record(e.response.data.errors)}))}))},cancelResignationRequest:function(){var t=this;this.$toast.question("Confirm Action","".concat(this.employee.name," are you sure you want to cancel resignation request ?")).then((function(){t.resignation.patch("/employee/resignations/"+t.resignation.id).then((function(){t.$toast.success("Your resignation request has been successfully submitted."),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Oops! Something went wrong while submitting the resignation request."),t.form.errors.record(e.response.data.errors)}))}))}}};var _=a(4347),b={insert:"head",singleton:!1};d()(_.Z,b);_.Z.locals;const h=(0,n.Z)(v,(function(){var t,e=this,a=e._self._c;return a("div",[a("div",{staticClass:"row mb-4 gx-4"},[a("div",{staticClass:"col-xl-5 mb-4"},[e.showPatientEditForm?a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header"},[a("div",[a("h3",{staticClass:"card-title"},[e._v("\n                            "+e._s(e.employee.name)+"\n                        ")]),e._v(" "),a("p",{staticClass:"card-subtitle small text-indigo"},[e._v("\n                            Registered "+e._s(e._f("dATE_MONTH_YEAR_HOUR_MINUTES")(e.employee.employed_at))+"\n                        ")]),1===e.employee.employment_status?a("div",{staticClass:"text-warning"},[e._v("Suspended")]):e._e(),e._v(" "),2===e.employee.employment_status?a("div",{staticClass:"text-danger"},[e._v("Terminated")]):e._e(),e._v(" "),a("p")])]),e._v(" "),a("div",{staticClass:"card-body px-4"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Employee No")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.staff_number,expression:"employeeForm.staff_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:e.employeeForm.staff_number},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"staff_number",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("staff_number")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("staff_number"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Full Name")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:e.employeeForm.name},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"name",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("name")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("name"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[e._m(0),e._v(" "),a("div",[a("date-picker",{attrs:{name:"date_of_birth",value:e.employeeForm.dob,"max-date":new Date},on:{"on-change":function(t,a){e.employeeForm.dob=a}}}),e._v(" "),e.employeeForm.hasError("dob")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("dob"))}}):e._e()],1)])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label"},[e._v("Gender ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.gender,expression:"employeeForm.gender"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:e.employeeForm.gender},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"gender",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("gender")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("gender"))}}):e._e()])])]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[e._v("Identification Number ")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.identification_number,expression:"employeeForm.identification_number"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:e.employeeForm.identification_number},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"identification_number",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("identification_number")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("identification_number"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"row gx-4"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"telephone"}},[e._v("Mobile Number ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.telephone,expression:"employeeForm.telephone"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:e.employeeForm.telephone},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"telephone",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("telephone")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("telephone"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Email ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.email},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"email",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("email")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("email"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Residence ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.address,expression:"employeeForm.address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.address},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"address",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("address")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("address"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Marital Status")]),e._v(" "),a("v-select",{attrs:{id:"marital_status",label:"name",options:e.maritalStatus,reduce:function(t){return t.value},clearable:!1},model:{value:e.employeeForm.marital_status,callback:function(t){e.$set(e.employeeForm,"marital_status",t)},expression:"employeeForm.marital_status"}}),e._v(" "),e.employeeForm.hasError("marital_status")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("marital_status"))}}):e._e()],1)]),e._v(" "),a("p",[e._v("Next of kin")]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nextOfKin,expression:"employeeForm.nextOfKin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.employeeForm.nextOfKin},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nextOfKin",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nextOfKin")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nextOfKin"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Tel")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nextOfKin_tel,expression:"employeeForm.nextOfKin_tel"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.employeeForm.nextOfKin_tel},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nextOfKin_tel",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nextOfKin_tel")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nextOfKin_tel"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Nationality ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nationality,expression:"employeeForm.nationality"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.nationality},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nationality",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nationality")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nationality"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home county ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_county,expression:"employeeForm.home_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.home_county},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_county",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_county")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_county"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home sub county ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_sub_county,expression:"employeeForm.home_sub_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.home_sub_county},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_sub_county",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_sub_county")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_sub_county"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home Constituency ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_constituency,expression:"employeeForm.home_constituency"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.home_constituency},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_constituency",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_constituency")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_constituency"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Ethnicity")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.ethnicity,expression:"employeeForm.ethnicity"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:e.employeeForm.ethnicity},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"ethnicity",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_constituency")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_constituency"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Department")]),e._v(" "),a("v-select",{attrs:{id:"gender_id",name:"department_id",options:e.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.department_id,callback:function(t){e.$set(e.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),e._v(" "),e.employeeForm.hasError("department_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("department_id"))}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"job_title"}},[e._v("Job Title ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"job_title",type:"text"},domProps:{value:e.employeeForm.job_title},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"job_title",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("job_title")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("job_title"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-lg-6 form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[e._v("Branch")]),e._v(" "),a("v-select",{attrs:{id:"scheme_id",label:"name",options:e.branches,reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.branch_id,callback:function(t){e.$set(e.employeeForm,"branch_id",t)},expression:"employeeForm.branch_id"}}),e._v(" "),e.employeeForm.hasError("branch_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("branch_id"))}}):e._e()],1),e._v(" "),a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Conflicts of interest")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.conflicts_of_interest,expression:"employeeForm.conflicts_of_interest"}],staticClass:"form-control",domProps:{value:e.employeeForm.conflicts_of_interest},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"conflicts_of_interest",t.target.value)}}})])])])]),e._v(" "),a("div",{staticClass:"d-flex justify-content-between space-x px-4 mb-4"},[a("button",{staticClass:"btn w-25 py-3",attrs:{disabled:e.employeeForm.processing},on:{click:e.togglePatientEditForm}},[e._v("\n                        Close\n                    ")]),e._v(" "),a("button",{staticClass:"btn btn-primary w-25 py-3",attrs:{disabled:e.employeeForm.processing},on:{click:e.updateEmployee}},[e._v("\n                        Save Changes\n                    ")])])]):a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header flex-column-reverse flex-xl-row"},[a("div",[a("div",{staticClass:"card-body d-flex flex-wrap justify-content-center justify-content-lg-start align-items-center gap-2"},[this.employee.profile_image?a("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(e.backgroundImageUrl,")")}},[a("div",{staticClass:"dropdown-mnu position-absolute"},[a("a",{staticClass:"item",attrs:{href:e.backgroundImageUrl,target:"_blank"}},[e._v("\n                                        View image\n                                    ")]),e._v(" "),a("a",{staticClass:"item",attrs:{href:"#"},on:{click:e.showEmployeeImage}},[e._v("\n                                        change image\n                                    ")])])]):a("span",{staticClass:"avatar avatar-xl rounded"},[e._v(e._s(e.employee.name.slice(0,2))+"\n                                "),a("div",{staticClass:"dropdown-mnu position-absolute"},[a("a",{staticClass:"item",attrs:{href:null!==(t=e.backgroundImageUrl)&&void 0!==t?t:"",target:"_blank"}},[e._v("\n                                        View image\n                                    ")]),e._v(" "),a("a",{staticClass:"item",attrs:{href:"#"},on:{click:e.showEmployeeImage}},[e._v("\n                                        change image\n                                    ")])])]),e._v(" "),a("span",[a("h3",{staticClass:"m-0 mb-1"},[a("a",{attrs:{href:"#"}},[e._v(e._s(e.employee.name))])]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v(e._s(e.employee.job_title))])])]),e._v(" "),a("p",{staticClass:"card-subtitle text-center text-lg-start small text-indigo"},[e._v("\n                            Registered "+e._s(e._f("dATE_MONTH_YEAR_HOUR_MINUTES")(e.employee.created_at))+"\n                        ")]),1===e.employee.employment_status?a("div",{staticClass:"text-warning"},[e._v("Suspended")]):e._e(),e._v(" "),2===e.employee.employment_status?a("div",{staticClass:"text-danger"},[e._v("Terminated")]):e._e(),e._v(" "),e.employee.latest_resignation?a("small",{staticClass:"text-warning"},[e._v("Your resignation request is\n                            "+e._s(e.employee.latest_resignation.status))]):e._e(),e._v(" "),a("p")]),e._v(" "),a("div",{staticClass:"card-actions"},[a("div",{staticClass:"btn-group"},[a("div",{staticClass:"dropdown"},[e._m(1),e._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a("h6",{staticClass:"dropdown-header"},[e._v("\n                                        Menu\n                                    ")]),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showHistory.apply(null,arguments)}}},[a("i",{staticClass:"uil uil-edit me-2"}),e._v(" Employment History\n                                    ")]),e._v(" "),e.employee.latest_resignation?a("div",["pending"===e.employee.latest_resignation.status||"rejected"===e.employee.latest_resignation.status?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showCancelResignation.apply(null,arguments)}}},[a("i",{staticClass:"uil uil-edit me-2"}),e._v("Cancel Resignation\n                                        ")]):e._e()]):a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showResignation.apply(null,arguments)}}},[a("i",{staticClass:"uil uil-edit me-2"}),e._v("Request Resignation\n                                    ")])])])])])]),e._v(" "),a("div",{staticClass:"card-body px-lg-4"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Employee No")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.staff_number,expression:"employeeForm.staff_number"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:e.employeeForm.staff_number},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"staff_number",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("staff_number")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("staff_number"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Full Name")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:e.employeeForm.name},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"name",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("name")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("name"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"row gx-4"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label"},[e._v("Date of Birth\n                                ")]),e._v(" "),a("div",[a("date-picker",{staticClass:"form-control",attrs:{disabled:"",name:"date_of_birth",value:e.employeeForm.dob,"max-date":new Date},on:{"on-change":function(t,a){e.employeeForm.dob=a}}}),e._v(" "),e.employeeForm.hasError("dob")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("dob"))}}):e._e()],1)])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label"},[e._v("Gender ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.gender,expression:"employeeForm.gender"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:e.employeeForm.gender},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"gender",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("gender")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("gender"))}}):e._e()])])]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[e._v("Identification Number ")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.identification_number,expression:"employeeForm.identification_number"}],staticClass:"form-control",attrs:{id:"identification_value",disabled:"",type:"text"},domProps:{value:e.employeeForm.identification_number},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"identification_number",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("identification_number")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("identification_number"))}}):e._e()])]),e._v(" "),1===e.employeeForm.is_disabled?a("div",{staticClass:"col-lg-6 form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[e._v("Type of Disability")]),e._v(" "),a("v-select",{attrs:{disabled:"",id:"scheme_id",label:"name",options:e.disabilities,reduce:function(t){return t},clearable:!1},model:{value:e.employeeForm.disability,callback:function(t){e.$set(e.employeeForm,"disability",t)},expression:"employeeForm.disability"}}),e._v(" "),e.employeeForm.hasError("disability")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("disability"))}}):e._e()],1):e._e(),e._v(" "),a("div",{staticClass:"row gx-4"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"telephone"}},[e._v("Mobile Number ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.telephone,expression:"employeeForm.telephone"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",disabled:"",type:"tel"},domProps:{value:e.employeeForm.telephone},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"telephone",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("telephone")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("telephone"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Email ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.email},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"email",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("email")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("email"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Marital Status")]),e._v(" "),a("v-select",{attrs:{id:"scheme_id",label:"name",options:e.maritalStatus,reduce:function(t){return t.value},disabled:!0,clearable:!1},model:{value:e.employeeForm.marital_status,callback:function(t){e.$set(e.employeeForm,"marital_status",t)},expression:"employeeForm.marital_status"}}),e._v(" "),e.employeeForm.hasError("marital_status")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("marital_status"))}}):e._e()],1)]),e._v(" "),e.employeeForm.nextOfKin||e.employeeForm.nextOfKin_tel?a("p",[e._v("Next of kin")]):e._e(),e._v(" "),e.employeeForm.nextOfKin?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nextOfKin,expression:"employeeForm.nextOfKin"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.employeeForm.nextOfKin},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nextOfKin",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nextOfKin")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nextOfKin"))}}):e._e()])]):e._e(),e._v(" "),e.employeeForm.nextOfKin_tel?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Tel")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nextOfKin_tel,expression:"employeeForm.nextOfKin_tel"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.employeeForm.nextOfKin_tel},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nextOfKin_tel",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nextOfKin_tel")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nextOfKin_tel"))}}):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Residence ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.address,expression:"employeeForm.address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.address},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"address",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("physical_address")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("physical_address"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Department")]),e._v(" "),a("v-select",{attrs:{id:"gender_id",name:"department_id",disabled:"",options:e.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.department_id,callback:function(t){e.$set(e.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),e._v(" "),e.employeeForm.hasError("department_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("department_id"))}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Nationality ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nationality,expression:"employeeForm.nationality"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.nationality},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nationality",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nationality")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nationality"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home county ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_county,expression:"employeeForm.home_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.home_county},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_county",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_county")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_county"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home sub county ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_sub_county,expression:"employeeForm.home_sub_county"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.home_sub_county},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_sub_county",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_sub_county")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_sub_county"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Home Constituency ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.home_constituency,expression:"employeeForm.home_constituency"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.home_constituency},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"home_constituency",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_constituency")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_constituency"))}}):e._e()])]),e._v(" "),e.employeeForm.ethnicity?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Ethnicity")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.ethnicity,expression:"employeeForm.ethnicity"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.ethnicity},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"ethnicity",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("home_constituency")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("home_constituency"))}}):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Job Title ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.job_title},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"job_title",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("job_title")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("job_title"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-lg-6 form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[e._v("Employee Type")]),e._v(" "),a("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:e.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.employee_type_id,callback:function(t){e.$set(e.employeeForm,"employee_type_id",t)},expression:"employeeForm.employee_type_id"}}),e._v(" "),e.employeeForm.hasError("employee_type_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("employee_type_id"))}}):e._e()],1),e._v(" "),a("div",{staticClass:"col-lg-6 form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[e._v("Job Group")]),e._v(" "),a("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:e.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.job_group_id,callback:function(t){e.$set(e.employeeForm,"job_group_id",t)},expression:"employeeForm.job_group_id"}}),e._v(" "),e.employeeForm.hasError("job_group_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("job_group_id"))}}):e._e()],1),e._v(" "),a("div",{staticClass:"col-lg-6 form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[e._v("Branch")]),e._v(" "),a("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:e.branches,reduce:function(t){return t.id},clearable:!1},model:{value:e.employeeForm.branch_id,callback:function(t){e.$set(e.employeeForm,"branch_id",t)},expression:"employeeForm.branch_id"}}),e._v(" "),e.employeeForm.hasError("branch_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("branch_id"))}}):e._e()],1),e._v(" "),a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[e._v("Tax Setup")]),e._v(" "),a("v-select",{attrs:{id:"paye_type",options:e.PAYEOptions,label:"name",disabled:"true",clearable:!1,reduce:function(t){return t.value}},model:{value:e.employeeForm.payee_type,callback:function(t){e.$set(e.employeeForm,"payee_type",t)},expression:"employeeForm.payee_type"}}),e._v(" "),e.employeeForm.errors.has("payee_type")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.errors.get("payee_type"))}}):e._e()],1)]),e._v(" "),e.employeeForm.pays_tax?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Kra PIN")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.kra_pin,expression:"employeeForm.kra_pin"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.kra_pin},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"kra_pin",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("kra_pin")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("kra_pin"))}}):e._e()])]):e._e(),e._v(" "),e.employeeForm.pays_shif?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("SHIF Number")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.shif_no,expression:"employeeForm.shif_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.shif_no},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"shif_no",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("shif_no")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("shif_no"))}}):e._e()])]):e._e(),e._v(" "),e.employeeForm.pays_nssf?a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Nssf Number")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.nssf_no,expression:"employeeForm.nssf_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:e.employeeForm.nssf_no},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"nssf_no",t.target.value)}}}),e._v(" "),e.employeeForm.hasError("nssf_no")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.employeeForm.getError("nssf_no"))}}):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Conflicts of interest")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.employeeForm.conflicts_of_interest,expression:"employeeForm.conflicts_of_interest"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.employeeForm.conflicts_of_interest},on:{input:function(t){t.target.composing||e.$set(e.employeeForm,"conflicts_of_interest",t.target.value)}}})])])])])])]),e._v(" "),a("div",{staticClass:"col-xl-7 p-0"},[a("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-indigo"}},[a("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-2"},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"flex flex-column flex-lg-row"},[a("div",[a("i",{staticClass:"uil uil-file-alt"})]),a("div",[e._v("Attachments")])])]},proxy:!0}])},[e._v(" "),a("attachments",{attrs:{employee:e.employee}})],1),e._v(" "),a("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-2"},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"flex flex-column flex-lg-row"},[a("div",[a("i",{staticClass:"uil uil-graduation-cap me-1"})]),a("div",[e._v("Qualifications")])])]},proxy:!0}])},[e._v(" "),a("qualification",{attrs:{employee:e.employee,contributions:e.contributions}})],1)],1)],1)]),e._v(" "),a("b-modal",{attrs:{id:"employment-history-modal","body-class":"px-4",size:"lg","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:e.employee.name+" Employment History"},on:{hidden:e.cleanUp},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn",attrs:{disabled:e.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n                Close\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.formP9.processing,type:"submit"},on:{click:e.formP9}},[e._v("\n                Submit\n            ")])]}}])},[a("div",[a("div",{staticClass:"containe"},[a("section",{staticClass:"employment-history"},[a("table",{staticClass:"history-table"},[a("thead",[a("tr",[a("th",[e._v("Job Title")]),e._v(" "),a("th",[e._v("Department")]),e._v(" "),a("th",[e._v("Start Date")]),e._v(" "),a("th",[e._v("End Date")]),e._v(" "),a("th",[e._v("Comments")])])]),e._v(" "),a("tbody",e._l(e.employmentHistory,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.job_title))]),e._v(" "),a("td",[e._v(e._s(t.department.name))]),e._v(" "),a("td",[e._v(e._s(e.formatDate(t.start_date)))]),e._v(" "),a("td",[e._v(e._s(e.formatDate(t.end_date)))]),e._v(" "),a("td",[e._v(e._s(t.notes))])])})),0)])])])]),e._v(" "),e.formP9.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"P10-form-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Generate P9 Form"},on:{hidden:e.cleanUp},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn",attrs:{disabled:e.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n                Close\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.formP9.processing,type:"submit"},on:{click:e.formP9}},[e._v("\n                Submit\n            ")])]}}])},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Year")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.p9Form.year,expression:"p9Form.year"}],staticClass:"form-control",attrs:{type:"number",name:"",id:""},domProps:{value:e.p9Form.year},on:{input:function(t){t.target.composing||e.$set(e.p9Form,"year",t.target.value)}}}),e._v(" "),e.p9Form.hasError("year")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.p9Form.getError("year"))}}):e._e()]),e._v(" "),e.formP9.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"profile-image-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Upload profile image"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn",attrs:{disabled:e.employmentphoto.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n                Close\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.employmentphoto.processing,type:"submit"},on:{click:e.uploadPhoto}},[e._v("\n                Submit\n            ")])]}}])},[a("form",{attrs:{enctype:"multipart/form-data",method:"post"}},[a("input",{attrs:{type:"file",name:"",id:""},on:{input:e.updateImage}}),e._v(" "),e.formP9.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])]),e._v(" "),a("b-modal",{attrs:{id:"resignation","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Employee Resignation"},on:{hidden:e.cleanUp},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn",attrs:{disabled:e.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n                Close\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.form.processing,type:"submit"},on:{click:e.resignationRequest}},[e._v("\n                Submit\n            ")])]}}])},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Reason")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.resignation.reason,expression:"resignation.reason"}],staticClass:"form-control",domProps:{value:e.resignation.reason},on:{input:function(t){t.target.composing||e.$set(e.resignation,"reason",t.target.value)}}}),e._v(" "),e.resignation.hasError("reason")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.resignation.getError("reason"))}}):e._e()]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label"},[e._v("Date of resignation")]),e._v(" "),a("div",[a("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:e.resignation.resignation_date,"max-date":!1},on:{"on-change":function(t,a){e.resignation.resignation_date=a}}}),e._v(" "),e.resignation.hasError("resignation_date")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.resignation.getError("resignation_date"))}}):e._e()],1)]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"cancel_resignation","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Cancel Resignation"},on:{hidden:e.cleanUp},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn",attrs:{disabled:e.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n                Close\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.form.processing,type:"submit"},on:{click:e.cancelResignationRequest}},[e._v("\n                Submit\n            ")])]}}])},[a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[e._v("Reason")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.resignation.reason,expression:"resignation.reason"}],staticClass:"form-control",domProps:{value:e.resignation.reason},on:{input:function(t){t.target.composing||e.$set(e.resignation,"reason",t.target.value)}}}),e._v(" "),e.resignation.hasError("reason")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.resignation.getError("reason"))}}):e._e()]),e._v(" "),a("div",{staticClass:"form-group mb-4"},[a("label",{staticClass:"form-label"},[e._v("Date")]),e._v(" "),a("div",[a("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:e.resignation.resignation_date,"max-date":!1},on:{"on-change":function(t,a){e.resignation.resignation_date=a}}}),e._v(" "),e.resignation.hasError("resignation_date")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.resignation.getError("resignation_date"))}}):e._e()],1)]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])],1)}),[function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[this._v("Date of Birth\n                                    "),t("span",{staticClass:"form-label-description small text-indigo"})])},function(){var t=this._self._c;return t("button",{staticClass:"btn align-text-center",attrs:{"data-bs-toggle":"dropdown"}},[t("i",{staticClass:"uil uil-ellipsis-h"})])}],!1,null,"c11f87c6",null).exports},3756:(t,e,a)=>{"use strict";a.d(e,{Z:()=>m});const s={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"Year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}},form:new window.Form({id:null,leave_type_id:"",employee_leave_type_id:"",start_date:"",end_date:"",return_date:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},watch:{"form.leave_type_id":function(t){var e=this.leave_types.find((function(e){return e.id===t}));this.form.days=e.days},"form.end_date":function(t){console.log(t),this.form.return_date=t}},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAssignLeave:function(){var t=this;this.form.post("/user/leave-requests").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave request has been submitted successfully."),t.vuetable.reload()})).catch(),!this.form.successful&&this.$toast.error("Failed to submit leave request. Please try again.")},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/user/leave-requests/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search leave"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.leave_types,fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(t){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Request Leave","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"max-date":!1},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.employee_leave_type_id,callback:function(e){t.$set(t.form,"employee_leave_type_id",e)},expression:"form.employee_leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;var n=a(3279);const i={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],leaveBalance:null,showReturnDate:!1,fields:[{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",date:(new Date).toISOString().slice(0,10)}},form:new window.Form({id:null,leave_type_id:"",employee_leave_type_id:"",reason:"",start_date:"",support_doc:"",end_date:"",days:"",return_date:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{"form.leave_type_id":function(t){var e=this.leave_types.find((function(e){return e.id===t}));this.form.days=e.days,console.log(e),this.getLeaveBalance(e.employee_id)},"form.days":a.n(n)()((function(){this.getLeaveEnd()}),700)},mounted:function(){this.retrieveEmployees()},methods:{getLeaveEnd:function(){var t=this;this.showReturnDate=!1,""!=this.form.start_date&&null!=this.form.start_date?this.$httpClient.get("/get-leave-enddate",{params:{start_date:this.form.start_date,days:this.form.days}}).then((function(e){t.showReturnDate=!0,t.form.end_date=e.data,t.form.return_date=e.data})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)})):this.$toast.error("Please specify the start date first")},retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAssignLeave:function(){var t=this;this.form.post("/user/leave-requests").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave request has been submitted successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.form.leave_type_id=t.employee_leave_type_id,this.$bvModal.show("update-modal")},delRequest:function(t){var e=this;this.$toast.question("Are you sure?","You want to delete this leave request").then((function(){e.$httpClient.delete("/user/leave-requests/".concat(t.id,"/delete")).then((function(t){e.$toast.success("Request deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},getApprovalStatusHTML:function(t){var e;null===(e=t.employee_leave_type.employee)||void 0===e||e.supervisor;return 1===t.rejected?'<small class="text-danger">HR Rejected</small>':1===t.approved?'<small class="text-success">HR Approved</small>':0===t.supervisor_approved&&1!==t.supervisor_rejected?'<small class="text-warning">Pending supervisor approval</small>':0===t.approved&&1!==t.supervisor_rejected?'<small class="text-warning">Pending HR approval</small>':'<small class="text-danger">Supervisor Rejected</small>'},editLeave:function(){var t=this;this.form.patch("/user/leave-requests/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},getLeaveBalance:function(t){var e=this;this.$httpClient.get("/employee/leave-balance",{params:{employee_id:t,leave_type_id:this.form.leave_type_id}}).then((function(t){var a=t.data;e.leaveBalance=a})).catch((function(){}))},cleanUp:function(){this.form.reset()}}};const l=(0,r.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search leave"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Request Leave\n        ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/myleaves",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a.rowData.rejected||a.rowData.supervisor_rejected||a.rowData.supervisor_approved?t._e():e("div",[a.rowData.approved?t._e():e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n              ")])]),t._v(" "),a.rowData.approved||a.rowData.rejected||a.rowData.supervisor_rejected||a.rowData.supervisor_approved?t._e():e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.delRequest(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}},{key:"approved",fn:function(a){return[e("span",{domProps:{innerHTML:t._s(t.getApprovalStatusHTML(a.rowData))}})]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Request Leave","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Reason for leave")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{staticClass:"form-control",attrs:{name:"date_of_birth",value:t.form.start_date,"min-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"day"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{id:"day",type:"number"},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e()])]),t._v(" "),t.showReturnDate?e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Returns Date")]),t._v(" "),e("date-picker",{staticClass:"form-control",attrs:{name:"date_of_birth",value:t.form.return_date,"min-date":new Date},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date"))}}):t._e()],1)]):t._e(),t._v(" "),t.leaveBalance?e("span",{staticClass:"text-warning"},[t._v("leave balance: "+t._s(t.leaveBalance.balance)+" day(s)")]):t._e(),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"day"}},[t._v("Supporting Document (Where required)")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"file"},on:{input:function(e){t.form.support_doc=e.target.files[0]}}}),t._v(" "),t.form.hasError("support_doc")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("support_doc"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"reason"}},[t._v("Reason for leave")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",attrs:{id:"reason"},domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{staticClass:"form-control",attrs:{name:"start_date",value:t.form.start_date,"min-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"days"}},[t._v("Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.days,expression:"form.days"}],staticClass:"form-control",attrs:{id:"days",type:"number",name:""},domProps:{value:t.form.days},on:{input:function(e){e.target.composing||t.$set(t.form,"days",e.target.value)}}}),t._v(" "),t.form.hasError("days")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("days"))}}):t._e()])]),t._v(" "),t.showReturnDate?e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Returns Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"min-date":new Date},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date"))}}):t._e()],1)]):t._e(),t._v(" "),t.leaveBalance?e("span",{staticClass:"text-warning"},[t._v("leave balance: "+t._s(t.leaveBalance.balance)+" day(s)")]):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const c={props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"start_date",title:"Start Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"end_date",title:"End Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"days",title:"Days",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"approved",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"Approved":"Not approved"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:"",previousLeaves:(new Date).toISOString().slice(0,10)}},form:new window.Form({id:null,leave_type_id:"",employee_leave_type_id:"",start_date:"",end_date:"",return_date:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},mounted:function(){this.retrieveEmployees()},watch:{"form.leave_type_id":function(t){var e=this.leave_types.find((function(e){return e.id===t}));this.form.days=e.days},"form.end_date":function(t){console.log(t),this.form.return_date=t}},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showCreateForm:function(){this.$bvModal.show("create-modal")},approveLeave:function(t){},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAssignLeave:function(){var t=this;this.form.post("/user/leave-requests").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The leave request has been submitted successfully."),t.vuetable.reload()})).catch(),!this.form.successful&&this.$toast.error("Failed to submit leave request. Please try again.")},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},editLeave:function(){var t=this;this.form.patch("/user/leave-requests/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},getLeaveBalance:function(){var t=this;this.$httpClient.get("/employee/leave-balance",{params:{employee_id:this.form.employee_id,leave_type_id:this.form.leave_type_id}}).then((function(e){var a=e.data;t.leaveBalance=a})).catch((function(){}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const d={components:{PreviousLeaves:(0,r.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search leave"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"})]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/myleaves",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(t){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Request Leave","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.leave_type_id,callback:function(e){t.$set(t.form,"leave_type_id",e)},expression:"form.leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"max-date":!1},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.employee_leave_type_id,callback:function(e){t.$set(t.form,"employee_leave_type_id",e)},expression:"form.employee_leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":new Date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date "))}}):t._e()],1)]),t._v(" "),t.leaveBalance?e("span",{staticClass:"text-warning"},[t._v("leave balance: "+t._s(t.leaveBalance.balance)+" day(s)")]):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports,LeaveRequest:l,AllocatedLeaves:o},props:{leave_types:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{}}};const m=(0,r.Z)(d,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 p-0"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-lg-4 px-1 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Requests\n          ")]},proxy:!0}])},[t._v(" "),e("leave-request",{attrs:{leave_types:t.leave_types}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-lg-4 px-1 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Allocated\n          ")]},proxy:!0}])},[t._v(" "),e("allocated-leaves",{attrs:{leave_types:t.leave_types}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-lg-4 px-1 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Previous\n          ")]},proxy:!0}])},[t._v(" "),e("previous-leaves")],1)],1)],1)])])}),[],!1,null,null,null).exports},1827:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"Year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",year:"",plan:"",activated:!0}),is_a_pdf:!1,loaded:!1}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.form.reset(),this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},create:function(){var t=this;this.form.post("/leave-plans").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Plan has been created"),t.vuetable.reload()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;t.form.errors.record(a)}else console.error("An unexpected error occurred."),400===e.response.status&&t.$toast.error("No payment for the period selected")}))},show:function(t){var e=this;setTimeout((function(){return e.loaded=!0}),1e3),this.form.populate(t),"pdf"==this.form.plan.split(".")[1].toLowerCase()&&(this.is_a_pdf=!0),this.form.id=t.id,this.$bvModal.show("view-modal")},updateBranch:function(){var t=this;this.form.patch("/branches/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},deletePlan:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete ").then((function(){e.form.delete("leave-plans/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.vuetable.reload(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(3379),o=a.n(r),n=a(1682),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search plan"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Plan\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/leave-plans",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.show(a.rowData)}}},[e("i",{staticClass:"uil uil-eye fs-3 me-2"}),t._v(" View\n\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deletePlan(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.create.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.create.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Plan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Plan")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"file",id:"name"},on:{input:function(e){t.form.plan=e.target.files[0]}}}),t._v(" "),t.form.hasError("plan")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("plan"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"year"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"view-modal",title:"".concat(t.form.name," - ").concat(t.form.year),"hide-header-close":"",size:"xl","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")])]}}])},[e("div",[t.is_a_pdf?e("div",{staticStyle:{display:"flex","justify-content":"center",height:"500px","align-items":"center"}},[t.loaded?e("iframe",{attrs:{src:"/storage/".concat(t.form.plan),width:"90%",height:"100%"}}):e("div",{staticClass:"spinner"})]):e("div",{staticClass:"text-center"},[e("p",[t._v("The file type cannot be opened")]),t._v(" "),e("a",{staticClass:"btn btn-secondary",attrs:{href:"/storage/".concat(t.form.plan)}},[e("i",{staticClass:"uil uil-file-download me-2"}),t._v(" Download")])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,"c3b92130",null).exports},4693:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{orginfo:{type:Object,required:!1,default:function(){}},canadd:{type:Number,required:!1,default:function(){return!1}}},data:function(){return{editForm:!1,newRecord:!1,uploadChart:!1,form:new window.Form({id:null,name:"",kra_pin:"",phone:"",city:"",address:"",fax:"",email:"",postal_code:""}),chart:new window.Form({chart:""})}},mounted:function(){this.checkOrgInfo()},watch:{"chart.chart":function(){var t=this;this.chart.post("/org-info/chart").then((function(){t.$toast.success("Organization details have been saved successfully"),setTimeout((function(){window.location.assign("/org-info/chart")}),2e3)})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},editForm:function(t){}},methods:{checkOrgInfo:function(){0===Object.keys(this.orginfo).length?(this.editForm=!0,this.newRecord=!0):(this.form.populate(this.orginfo),this.form.address=this.orginfo.address_1,this.newRecord=!1)},saveOrganizationInfo:function(){var t=this;this.newRecord?this.form.post("/org-info").then((function(){t.$toast.success("Organization details have been saved successfully"),setTimeout((function(){window.location.assign("/org-info")}),2e3)})).catch():this.form.patch("/org-info/"+this.form.id).then((function(){t.$toast.success("changes  saved successfully"),setTimeout((function(){window.location.assign("/org-info")}),2e3)})).catch()},goBack:function(){window.location.assign("/home")}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto p-4"},[t._m(0),t._v(" "),e("div",{staticClass:"card card-stacked"},[t.canadd?e("span",{staticClass:"d-flex p-2 gap-2",staticStyle:{"margin-left":"auto"}},[t.canadd?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm,expression:"editForm"}],staticClass:"form-check",attrs:{type:"checkbox",name:"",id:"edit"},domProps:{checked:Array.isArray(t.editForm)?t._i(t.editForm,null)>-1:t.editForm},on:{change:function(e){var a=t.editForm,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.editForm=a.concat([null])):o>-1&&(t.editForm=a.slice(0,o).concat(a.slice(o+1)))}else t.editForm=r}}}):t._e(),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"edit"}},[t._v("Edit")])]):t._e(),t._v(" "),t.canadd?e("span",{staticClass:"d-flex p-2 gap-2",staticStyle:{"margin-left":"auto"}},[t.canadd?e("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadChart,expression:"uploadChart"}],staticClass:"form-check",attrs:{type:"checkbox",name:"",id:"chart"},domProps:{checked:Array.isArray(t.uploadChart)?t._i(t.uploadChart,null)>-1:t.uploadChart},on:{change:function(e){var a=t.uploadChart,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.uploadChart=a.concat([null])):o>-1&&(t.uploadChart=a.slice(0,o).concat(a.slice(o+1)))}else t.uploadChart=r}}}):t._e(),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"chart"}},[t._v("Upload chart")])]):t._e(),t._v(" "),e("form",{staticClass:"card-body py-4",on:{submit:function(e){return e.preventDefault(),t.saveOrganizationInfo.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Organization Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{required:"",id:"name",disabled:!this.editForm,type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("KRA PIN")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Fax")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fax,expression:"form.fax"}],staticClass:"form-control",attrs:{disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.fax},on:{input:function(e){e.target.composing||t.$set(t.form,"fax",e.target.value)}}}),t._v(" "),t.form.hasError("fax")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("fax"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}}),t._v(" "),t.form.hasError("address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Postal codes")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postal_code,expression:"form.postal_code"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.postal_code},on:{input:function(e){e.target.composing||t.$set(t.form,"postal_code",e.target.value)}}}),t._v(" "),t.form.hasError("postal_code")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("postal_code"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),t._v(" "),t.form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("city"))}}):t._e()]),t._v(" "),t.uploadChart?e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Chart")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{disabled:!this.uploadChart,type:"file"},on:{change:t.uploadChart,input:function(e){t.chart.chart=e.target.files[0]}}}),t._v(" "),t.form.hasError("chart")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("chart"))}}):t._e()]):t._e(),t._v(" "),t.editForm?e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-primary me-3",attrs:{type:"submit"}},[t._v("\n                Submit\n              ")]),t._v(" "),e("button",{staticClass:"btn",attrs:{disabled:t.form.processing||t.form.successful},on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("\n                Cancel\n              ")])]):t._e()])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-4"},[e("h1",{staticClass:"fs-1"},[t._v("\n          Organization\n        ")]),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("Complete the form below to save Organization information")])])}],!1,null,null,null).exports},5302:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={props:{org:{type:Object,required:!1,default:function(){}}},data:function(){return{loaded:!1}},mounted:function(){var t=this;setTimeout((function(){return t.loaded=!0}),1e3)}};var r=a(3379),o=a.n(r),n=a(6746),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","justify-content":"center",height:"400px","align-items":"center"}},[t.loaded?e("iframe",{attrs:{src:"/storage/".concat(t.org.chart),width:"90%",height:"900px"}}):e("div",{staticClass:"spinner"})])}),[],!1,null,"2410ac1a",null).exports},5800:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(4801);const r={data:function(){return{fields:[{name:"__slot:pay_date",title:"Month",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"totalNetPay",title:"Net Pay",titleClass:"font-weight-bold text-left",dataClass:"text-left",callback:function(t){return t<0?"("+(0,s.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,s.p)(.01*t).toFormat("0,0.00")}},{name:"processed_by.name",title:"Processed by",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:""}},selectedPayroll:null,deletingPayroll:!1,printingPayslips:!1,approvingPayroll:!1,printingSummary:!1,form:new window.Form({id:null,month:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showLoading:function(t){var e=this;this.$httpClient.post("/payroll/email-payslips",{year:t.year,month:t.month}).then((function(){e.vuetable.reload(),e.$toast.success("payslips sent")})).catch((function(){e.$toast.error("There was a problem sending payslips")}))},emailP9Form:function(t){var e=this;this.$httpClient.post("/payroll/email-p9form/",{year:t.year,month:t.month}).then((function(){e.vuetable.reload(),e.$toast.success("payslips sent")})).catch((function(){e.$toast.error("There was a problem sending payslips")}))},showPayrollDetails:function(t){window.location.href="/payroll/lists/".concat(t.pay_date)},formatDate:function(t){var e=new Date(t);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-")},processPayroll:function(){var t=this;this.form.post("/payroll").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Payroll has been processed"),t.vuetable.reload()})).catch((function(e){var a=e.response;400===a.status&&t.$toast.error(a.data),console.log(e)}))},showPrintingPayslips:function(t){this.selectedPayroll=t,this.$bvModal.show("printing-payslips-modal")},showPrintingSummary:function(t){this.selectedPayroll=t,this.$bvModal.show("printing-summary-modal")},showDelelePayrollModal:function(t){this.selectedPayroll=t,this.$bvModal.show("delete-payroll-modal")},showApprovePayrollModal:function(t){this.selectedPayroll=t,this.$bvModal.show("approve-close-modal")},deletePayroll:function(){var t=this;this.deletingPayroll=!0,this.$httpClient.delete("/payroll/delete",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month}}).then((function(){t.deletingPayroll=!1,t.$bvModal.hide("delete-payroll-modal"),t.vuetable.reload(),t.$toast.success("deleted")})).catch((function(){t.deletingPayroll=!1,t.$toast.error("There was a problem deleting the payroll")}))},approvePayroll:function(){var t=this;this.approvingPayroll=!0,this.$httpClient.post("/payroll/close-payroll",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month}}).then((function(){t.approvingPayroll=!1,t.$bvModal.hide("approve-close-modal"),t.vuetable.reload(),t.$toast.success("approved and Closed")})).catch((function(){t.approvingPayroll=!1,t.$toast.error("There was a problem approving the payroll")}))},closePayroll:function(t){var e=this;this.$toast.question("Are you sure?","You want to approve this payroll, make sure is correct").then((function(){e.$httpClient.post("/payroll/close-payroll",{params:{year:e.selectedPayroll.year,month:e.selectedPayroll.month}}).then((function(){e.vuetable.reload(),e.$toast.success("approved and Closed")})).catch((function(){e.$toast.error("There was a problem approving the payroll")}))}))},downloadPayslip:function(t){var e=this;this.form.processing=!0,this.$httpClient.get("/download-payslip",{responseType:"blob",params:{data:t}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)})),console.log(t)},printPayslips:function(t){var e=this;this.printingPayslips=!0,this.$httpClient.get("/payroll/print-payslips",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month},responseType:"blob"}).then((function(t){var a=t.data,s=new Blob([a],{type:"application/pdf"}),r=document.createElement("a"),o=window.URL.createObjectURL(s);r.href=o,r.download="payslips-".concat(e.selectedPayroll.year,"-").concat(e.selectedPayroll.month,".pdf"),r.click(),window.URL.revokeObjectURL(o),e.printingPayslips=!1,e.$bvModal.hide("printing-payslips-modal")})).catch((function(t){e.printingPayslips=!1,e.form.errors.record(t.response.data.errors)}))},printSummary:function(t){var e=this;this.printingSummary=!0,this.$httpClient.get("/payroll/print-payroll-summary",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month},responseType:"blob"}).then((function(t){var a=t.data,s=new Blob([a],{type:"application/pdf"}),r=document.createElement("a"),o=window.URL.createObjectURL(s);r.href=o,r.download="payrolls-summary-".concat(e.selectedPayroll.year,"-").concat(e.selectedPayroll.month,".pdf"),r.click(),window.URL.revokeObjectURL(o),e.printingSummary=!1,e.$bvModal.hide("printing-payslips-modal")})).catch((function(t){e.printingSummary=!1,e.form.errors.record(t.response.data.errors)}))},applyFilter:function(){this.vuetable.reload()},showPayrollComparision:function(t){var e=t.year,a=t.month;window.location.href="/payroll/compare?year=".concat(e,"&month=").concat(a)},cleanUp:function(){this.form.reset()}}};const o=(0,a(1900).Z)(r,(function(){var t,e=this,a=e._self._c;return a("div",[a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"input-icon me-2"},[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.moreParams.filter.search},on:{input:[function(t){t.target.composing||e.$set(e.moreParams.filter,"search",t.target.value)},e.applyFilter]}})]),e._v(" "),e._m(1)]),e._v(" "),a("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll",fields:e.fields,"append-params":e.moreParams},scopedSlots:e._u([{key:"pay_date",fn:function(t){return[a("div",{staticClass:"media"},[a("div",{staticClass:"media-body align-self-center"},[a("span",{staticClass:"text-sm"},[e._v(e._s(e.formatDate(t.rowData.pay_date))+"\n            ")])])])]}},{key:"name",fn:function(t){return[a("div",{staticClass:"media"},[a("div",{staticClass:"media-body align-self-center"},[a("span",{staticClass:"text-sm"},[e._v(e._s(t.rowData.employee.name)+" ")])])])]}},{key:"actions",fn:function(t){return[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[a("i",{staticClass:"uil uil-ellipsis-h"})]),e._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a("div",[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPayrollDetails(t.rowData)}}},[a("i",{staticClass:"uil uil-external-link-alt me-2"}),e._v("\n                Open\n              ")]),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPrintingSummary(t.rowData)}}},[a("i",{staticClass:"uil uil-print me-2"}),e._v("\n                Print Summary\n              ")]),e._v(" "),t.rowData.is_closed?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showLoading(t.rowData)}}},[a("i",{staticClass:"uil uil-envelope me-2"}),e._v("\n                Email payslips\n              ")]):e._e(),e._v(" "),t.rowData.is_closed?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.emailP9Form(t.rowData)}}},[a("i",{staticClass:"uil uil-envelope me-2"}),e._v("\n                Email Form P9\n              ")]):e._e(),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPrintingPayslips(t.rowData)}}},[a("i",{staticClass:"uil uil-print me-2"}),e._v("\n                Print payslips\n              ")]),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPayrollComparision(t.rowData)}}},[a("i",{staticClass:"uil uil-layers me-2"}),e._v("\n                Compare with last month\n              ")]),e._v(" "),t.rowData.is_closed?e._e():a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showApprovePayrollModal(t.rowData)}}},[a("i",{staticClass:"uil uil-check-circle me-2"}),e._v("\n                Approve & close\n              ")]),e._v(" "),t.rowData.is_closed?e._e():a("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(a){return e.showDelelePayrollModal(t.rowData)}}},[a("i",{staticClass:"uil uil-trash-alt me-2"}),e._v("\n                Delete\n              ")])])])])]}}])})],1),e._v(" "),a("b-modal",{attrs:{id:"create-modal",title:"Payroll Processing","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.processPayroll.apply(null,arguments)}}},[e._v("\n        Process\n      ")])]}}])},[a("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),e.createDepartment.apply(null,arguments)}}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Select Month")]),e._v(" "),a("date-picker",{attrs:{name:"month",value:e.form.month,"max-date":!1},on:{"on-change":function(t,a){e.form.month=a}}}),e._v(" "),e.form.hasError("month")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("month"))}}):e._e()],1),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])]),e._v(" "),a("b-modal",{attrs:{id:"delete-payroll-modal",title:"Payroll Delete","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:e.deletingPayroll},on:{click:function(t){return t.preventDefault(),e.deletePayroll.apply(null,arguments)}}},[e._v("\n        Delete\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        Do you really want to delete the payroll ? What you are about to do\n        cannot be undone.\n      ")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        If deleted, all payroll inputs and loans processed will be reversed\n      ")])]),e._v(" "),e.deletingPayroll?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"printing-payslips-modal",title:"Print Payslips","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.printingPayslips},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.printingPayslips},on:{click:function(t){return t.preventDefault(),e.printPayslips.apply(null,arguments)}}},[e._v("\n        "+e._s(e.printingPayslips?"Processing":"Print")+"\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"}),e._v(" "),a("div",{staticClass:"text-secondary"})]),e._v(" "),e.printingPayslips?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"printing-summary-modal",title:"Print Summary","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.printingSummary},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.printingSummary},on:{click:function(t){return t.preventDefault(),e.printSummary.apply(null,arguments)}}},[e._v("\n        "+e._s(e.printingSummary?"Processing":"Print")+"\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("h4",[e._v("You are about to print "+e._s(null===(t=e.selectedPayroll)||void 0===t?void 0:t.month)+"`s Salary Summary")]),e._v(" "),a("div",{staticClass:"text-secondary"}),e._v(" "),a("div",{staticClass:"text-secondary"})]),e._v(" "),e.printingSummary?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"approve-close-modal",title:"Approve And Close Payroll","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:e.approvingPayroll},on:{click:function(t){return t.preventDefault(),e.approvePayroll.apply(null,arguments)}}},[e._v("\n        Approve\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        You want to approve this payroll, make sure is correct\n      ")])]),e._v(" "),e.approvingPayroll?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"compare-modal",title:"Comparison","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.updateDepartment.apply(null,arguments)}}},[e._v("\n        Process\n      ")])]}}])},[a("form",{attrs:{id:"updateForm"},on:{submit:function(t){return t.preventDefault(),e.updateDepartment.apply(null,arguments)}}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Select Month")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.month,expression:"form.month"}],staticClass:"form-control",attrs:{id:"month",type:"text"},domProps:{value:e.form.month},on:{input:function(t){t.target.composing||e.$set(e.form,"month",t.target.value)}}}),e._v(" "),e.form.hasError("month")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("month"))}}):e._e()]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])},function(){var t=this._self._c;return t("div",{staticClass:"card-actions"},[t("a",{staticClass:"btn btn-primary",attrs:{href:"/payroll/payroll-list"}},[this._v("\n          Payroll processing\n        ")])])}],!1,null,null,null).exports},5584:(t,e,a)=>{"use strict";a.d(e,{Z:()=>p});var s=a(538),r=a(4801);const o={name:"PayrollDetailsComponent",props:{rowData:{type:Object,required:!0},rowIndex:{type:Number}},data:function(){return{fields:[{name:"description",title:"Product",width:"40%"},{name:"bulk_qty",title:"QTY",titleClass:"text-center",dataClass:"text-center"},{name:"discount_amount",title:"DISC",titleClass:"text-right",dataClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"tax_amount",title:"TAX",titleClass:"text-right",dataClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"bulk_cost",title:"PRICE",dataClass:"text-right",titleClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"total",title:"TOTAL",dataClass:"text-right",titleClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}}],moreParams:{filter:{purchase_order_id:this.rowData.id},sort:"-created_at"},allowances:[],earnings:[],deductions:[],benefits:[],pensions:[],reliefs:[],contributions:[],advances:[]}},mounted:function(){this.getDeductions(),this.getEarnings(),this.getAllowances(),this.getBenefits(),this.getReliefs(),this.getPensions(),this.getContributions(),this.getAdvances()},methods:{getEarnings:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:1}}}).then((function(e){var a=e.data;t.earnings=a.data})).catch((function(t){console.log(t)}))},getAllowances:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:2}}}).then((function(e){var a=e.data;t.allowances=a.data})).catch((function(t){console.log(t)}))},getBenefits:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:8}}}).then((function(e){var a=e.data;t.benefits=a.data})).catch((function(t){console.log(t)}))},getDeductions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:3}}}).then((function(e){var a=e.data;t.deductions=a.data})).catch((function(t){console.log(t)}))},getPensions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:4}}}).then((function(e){var a=e.data;t.pensions=a.data})).catch((function(t){console.log(t)}))},getContributions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:6}}}).then((function(e){var a=e.data;t.contributions=a.data})).catch((function(t){console.log(t)}))},getAdvances:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:7}}}).then((function(e){var a=e.data;t.advances=a.data})).catch((function(t){console.log(t)}))},getReliefs:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:5}}}).then((function(e){var a=e.data;t.reliefs=a.data})).catch((function(t){console.log(t)}))}}};var n=a(3379),i=a.n(n),l=a(1759),c={insert:"head",singleton:!1};i()(l.Z,c);l.Z.locals;var d=a(1900);const m=(0,d.Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row gy-3 my-3"},[0!==t.earnings.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Earnings\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(0),t._v(" "),e("tbody",t._l(t.earnings,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.allowances.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Allowances\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(1),t._v(" "),e("tbody",t._l(t.allowances,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.benefits.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Benefits\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(2),t._v(" "),e("tbody",t._l(t.benefits,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.reliefs.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Reliefs\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(3),t._v(" "),e("tbody",t._l(t.reliefs,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.deductions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Deductions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(4),t._v(" "),e("tbody",t._l(t.deductions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.pensions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Pensions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(5),t._v(" "),e("tbody",t._l(t.pensions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.contributions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Contributions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(6),t._v(" "),e("tbody",t._l(t.contributions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.advances.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Advances\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(7),t._v(" "),e("tbody",t._l(t.advances,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e()])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])}],!1,null,"1d47fb70",null).exports;s.default.component("PayrollDetailsComponent",m);const u={props:{date:{type:Date,required:!0}},data:function(){return{fields:[{name:"__slot:details",title:"#",width:"5%"},{name:"__slot:name",title:"Employee",titleClass:"font-weight-bold"},{name:"basic_pay",title:"Basic pay",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"benefits",title:"Benefits",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"pension",title:"Pension",titleClass:"font-weight-bold text-right",dataClass:"text-right",width:"10%",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"paye",title:"Tax",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"total_deductions",title:"Deductions",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"net_pay",title:"Net Pay",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"month",title:"Month",titleClass:"text-center",dataClass:"text-center"},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:"",showDetails:location.pathname.split("/")[3]}},form:new window.Form({id:null,month:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},downloadPayslip:function(t){var e=this;this.form.processing=!0,this.$httpClient.get("/download-payslip",{responseType:"blob",params:{data:t}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)})),console.log(t)},processPayroll:function(){var t=this;this.form.post("/payroll").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Payroll has been processed"),t.vuetable.reload()})).catch((function(e){var a=e.response;400===a.status&&(t.$toast.error(a.data),console.log("here")),console.log(e)}))},formP10:function(t){var e=this;console.log(t),this.$httpClient.get("/reports/download-form-9",{responseType:"blob",params:{year:t.year,employee_payroll_id:t.employee_payroll_id}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateDepartment:function(){var t=this;this.form.patch("/departments/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const p=(0,d.Z)(u,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),t._m(1)]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll-details",fields:t.fields,"append-params":t.moreParams,"detail-row-component":"PayrollDetailsComponent"},scopedSlots:t._u([{key:"details",fn:function(a){return[e("button",{staticClass:"btn btn-outline-azure btn-sm py-1 fs-3",on:{click:function(e){return t.vuetable.toggleDetailRow(a.rowData.id)}}},[e("i",{staticClass:"uil uil-plus-square"})])]}},{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.employee.name)+" ")])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("b-dropdown-header",[t._v("Payslip")]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Download the payslip"},on:{click:function(e){return t.downloadPayslip(a.rowData)}}},[e("i",{staticClass:"uil uil-down-arrow mr-2"}),t._v("\n                Download")])]),t._v(" "),e("b-dropdown-header",[t._v("Forms")]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Download Form P9"},on:{click:function(e){return e.preventDefault(),t.formP10(a.rowData)}}},[t._v("\n                Form P9")])])],1)])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Payroll Processing","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.processPayroll.apply(null,arguments)}}},[t._v("\n        Process\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Select Month")]),t._v(" "),e("date-picker",{attrs:{name:"month",value:t.form.month,"max-date":!1},on:{"on-change":function(e,a){t.form.month=a}}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[t._v("\n        Process\n      ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Select Month")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.month,expression:"form.month"}],staticClass:"form-control",attrs:{type:"text",id:"month"},domProps:{value:t.form.month},on:{input:function(e){e.target.composing||t.$set(t.form,"month",e.target.value)}}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-actions"},[e("a",{staticClass:"btn btn-primary-outline",attrs:{href:"/payroll/lists"}},[e("i",{staticClass:"uil uil-arrow-left me-2"}),t._v(" Back\n        ")]),t._v(" "),e("a",{staticClass:"btn btn-primary",attrs:{href:"/payroll/payroll-list"}},[t._v("\n          Payroll processing\n        ")])])}],!1,null,null,null).exports},2692:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{kpis:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}},employees:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedEmployee:{},appealStatus:["pending","approved","rejected"],fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3 text-muted"},{name:"employee.name",title:"Employee",titleClass:"text-start",dataClass:"pe-3 text-start"},{name:"department.name",title:"Department",titleClass:"ps-3",dataClass:"ps-3 text-truncate"},{name:"__slot:period",title:"Review Period",titleClass:"ps-1"},{name:"due_date",title:"Due Date",titleClass:"ps-1 font-weight-bold"},{name:"__slot:is_completed",title:"Review Status",titleClass:"ps-3",dataClass:"ps-3"},{name:"__slot:actions",dataClass:"text-right"}],moreParams:{filter:{search:""}},previousDays:null,filteredKpis:[],form:new window.Form({id:null,employee_id:"",start_date:"",departmental:!1,department_id:null,end_date:"",due_date:"",status:1}),appearlForm:new window.Form({id:null,performance_review_id:null,reason:"",status:""}),reviewForm:new window.Form({review_id:null,start_date:"",end_date:"",general_comment:"",due_date:"",final_rate:"",final_comment:"",completion_date:"",ratings:[]})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable},backgroundImageUrl:function(){if(null!=this.selectedEmployee.employee)return null!=this.selectedEmployee.employee.profile_image?"/storage/".concat(this.selectedEmployee.employee.profile_image.file_path):""},backgroundImageSupervisorUrl:function(){if(null!=this.selectedEmployee.reviewer)return null!=this.selectedEmployee.reviewer.profile_image?"/storage/".concat(this.selectedEmployee.reviewer.profile_image.file_path):""}},methods:{submitReview:function(){var t=this;this.$toast.question("Are you certain? Once you submit, updates won't be possible thereafter.").then((function(){t.reviewForm.post("/performance-review/complete/").then((function(e){t.$toast.success("review completed"),t.$bvModal.hide("review-modal"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.$toast.error(e.response.data.errors),t.reviewForm.errors.record(e.response.data.errors)}))}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},AddReview:function(){var t=this;this.form.post("/performance").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The has been added"),t.vuetable.reload()})).catch()},saveReview:function(){var t=this;this.reviewForm.post("/performance-review").then((function(){t.$bvModal.hide("review-modal"),t.$toast.success("The review has been saved"),t.vuetable.reload()})).catch()},onDelete:function(t){var e=this;this.$toast.question("Are you certain? you want to delete the review.").then((function(){e.reviewForm.delete("/performance-review/"+t.id).then((function(){e.$toast.success("Deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data.errors)}))}))},saveTargets:function(){var t=this;this.reviewForm.post("/my-reviews-save-targets").then((function(){t.$bvModal.hide("review-modal"),t.$toast.success("The review has been saved"),t.vuetable.reload()})).catch()},approveTargets:function(){var t=this;this.$toast.question("Are you certain? Once you submit, updates won't be possible on targets thereafter.").then((function(){t.reviewForm.post("/performance-review-targets-approval").then((function(e){t.$bvModal.hide("review-modal"),t.$toast.success("Targets approved"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.$toast.error(e.response.data.errors),t.form.errors.record(e.response.data.errors)}))}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},showReviewForm:function(t){var e=this;this.reviewForm.ratings=[],this.form.populate(t),this.selectedEmployee=t,this.form.id=t.id,this.reviewForm.review_id=t.id,this.reviewForm.general_comment=t.general_comment,this.reviewForm.completion_date=t.completion_date,this.reviewForm.final_comment=t.final_comment,this.reviewForm.final_rate=t.final_rate,this.filteredKpis=this.kpis.filter((function(e){return e.department_id===t.department_id&&e})),0===t.review_ratings.length?this.filteredKpis.forEach((function(t){e.reviewForm.ratings.push({kpId:t.id,target:0,name:t.name,value:0,comment:""})})):t.review_ratings.forEach((function(t){e.reviewForm.ratings.push({kpId:t.kpi_id,target:t.target,name:t.kpi.name,value:t.rating,comment:t.comment})})),this.$bvModal.show("review-modal")},showAppealForm:function(t){this.appearlForm.id=t.performance_appeal.id,this.appearlForm.performance_review_id=t.id,this.appearlForm.status=t.performance_appeal.status,this.appearlForm.reason=t.performance_appeal?t.performance_appeal.reason:"",this.$bvModal.show("appeal-modal")},submitReviewAppeal:function(){var t=this;this.$toast.question("Are you sure?","").then((function(){t.appearlForm.patch("performance-review-appeals/".concat(t.appearlForm.id,"/status")).then((function(){t.$bvModal.hide("appeal-modal"),t.$toast.success("Appeal submitted successfully"),t.appearlForm.reset(),t.vuetable.reload()})).catch()}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t,e,a=this,s=a._self._c;return s("div",[s("div",{staticClass:"card card-stacked"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"input-icon me-2"},[a._m(0),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:a.moreParams.filter.search},on:{input:[function(t){t.target.composing||a.$set(a.moreParams.filter,"search",t.target.value)},a.applyFilter]}})]),a._v(" "),s("div",{staticClass:"card-actions"},[s("button",{staticClass:"btn btn-primary",on:{click:a.showCreateForm}},[s("i",{staticClass:"uil uil-plus me-1"}),a._v("Add\n                ")])])]),a._v(" "),s("VueTable",{ref:"table",attrs:{"api-url":"/datatable/performance",fields:a.fields,"append-params":a.moreParams},scopedSlots:a._u([{key:"period",fn:function(t){return[s("small",[a._v(a._s(t.rowData.start_period)+" - "+a._s(t.rowData.end_period))])]}},{key:"is_completed",fn:function(t){return[s("div",[a._v(a._s(t.rowData.is_completed?"Completed":"On going"))]),a._v(" "),t.rowData.performance_appeal?s("small",{staticClass:"text-warning"},[a._v(" Appeal\n                    "+a._s(t.rowData.performance_appeal.status))]):a._e()]}},{key:"actions",fn:function(t){return[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[s("i",{staticClass:"uil uil-ellipsis-h"})]),a._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-end"},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.showReviewForm(t.rowData)}}},[s("i",{staticClass:"uil uil-pen fs-3 me-2"}),a._v(" Open review\n                        ")]),a._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.onDelete(t.rowData)}}},[s("i",{staticClass:"uil uil-trash fs-3 me-2"}),a._v(" Del\n                        ")]),a._v(" "),t.rowData.performance_appeal?s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return a.showAppealForm(t.rowData)}}},[s("i",{staticClass:"uil uil-pen fs-3 me-2"}),a._v(" view appeal\n                        ")]):a._e()])])]}}])})],1),a._v(" "),s("b-modal",{attrs:{id:"create-modal",title:"Add Review","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("Close\n            ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.AddReview.apply(null,arguments)}}},[a._v("\n                Submit\n            ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.AddReview.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("div",{staticClass:"d-flex gap-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.departmental,expression:"form.departmental"}],staticClass:"form-check-input",attrs:{id:"switch-department",type:"checkbox"},domProps:{checked:Array.isArray(a.form.departmental)?a._i(a.form.departmental,null)>-1:a.form.departmental},on:{change:function(t){var e=a.form.departmental,s=t.target,r=!!s.checked;if(Array.isArray(e)){var o=a._i(e,null);s.checked?o<0&&a.$set(a.form,"departmental",e.concat([null])):o>-1&&a.$set(a.form,"departmental",e.slice(0,o).concat(e.slice(o+1)))}else a.$set(a.form,"departmental",r)}}}),a._v(" "),s("label",{staticClass:"form-label",attrs:{for:"switch-department"}},[a._v("Use department")])])])]),a._v(" "),a.form.departmental?s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Department")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.department_id,callback:function(t){a.$set(a.form,"department_id",t)},expression:"form.department_id"}}),a._v(" "),a.form.hasError("department_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("department_id"))}}):a._e()],1)]):s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Employee")]),a._v(" "),s("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:a.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:a.form.employee_id,callback:function(t){a.$set(a.form,"employee_id",t)},expression:"form.employee_id"}}),a._v(" "),a.form.hasError("employee_id")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("employee_id"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Review Period Start Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.start_date,"max-date":!1},on:{"on-change":function(t,e){a.form.start_date=e}}}),a._v(" "),a.form.hasError("start_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("start_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Review Period End Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.end_date,"max-date":!1},on:{"on-change":function(t,e){a.form.end_date=e}}}),a._v(" "),a.form.hasError("end_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("end_date"))}}):a._e()],1)]),a._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Due Date")]),a._v(" "),s("date-picker",{attrs:{name:"date_of_birth",value:a.form.due_date,"max-date":!1},on:{"on-change":function(t,e){a.form.due_date=e}}}),a._v(" "),a.form.hasError("due_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("due_date"))}}):a._e()],1)])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])]),a._v(" "),s("b-modal",{attrs:{id:"review-modal",title:"Review","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("Close\n            ")]),a._v(" "),s("div",[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:a.form.processing||1===a.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),a.approveTargets.apply(null,arguments)}}},[a._v("\n                    Approve targets\n                ")]),a._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:a.form.processing||1===a.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),a.saveReview.apply(null,arguments)}}},[a._v("\n                    Save\n                ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing||1===a.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),a.submitReview.apply(null,arguments)}}},[a._v("\n                    Complete\n                ")])])]}}])},[s("div",{staticClass:"col-12 d-flex flex-column"},[s("div",{staticClass:"card-body"},[s("h2",{staticClass:"mb-4"},[a._v("Review Summary")]),a._v(" "),s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-auto"},[""!=a.backgroundImageUrl?s("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=a.backgroundImageUrl)&&void 0!==t?t:"",")")}},[s("div",{staticClass:"dropdown-mnu position-absolute"})]):s("span",{staticClass:"avatar avatar-md"},[a._v(a._s(a.selectedEmployee.employee?a.selectedEmployee.employee.name.slice(0,2).toUpperCase():""))])]),a._v(" "),s("div",{staticClass:"col-auto"},[a._v("\n                        "+a._s(a.selectedEmployee.employee?a.selectedEmployee.employee.name:"")+"\n\n                    ")]),a._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"d-flex align-items-center flex-column p-3"},[s("div",[a._v("Final Rating")]),a._v(" "),s("div",{staticClass:"fw-bold text-lg-center pt-2"},[a._v(a._s(a.selectedEmployee.final_rate))])])]),a._v(" "),s("div",{staticClass:"col-md-4 mt-2"},[s("div",{staticClass:"d-flex flex-column align-items-start p-3"},[s("div",{staticClass:"text-muted"},[a._v("Review Status")]),a._v(" "),s("div",{staticClass:"fw-bold"},[a._v(" "+a._s(1===a.selectedEmployee.status?"On going":"completed")+"\n                            ")])])]),a._v(" "),s("div",{staticClass:"col-md-4 mt-2"},[s("div",{staticClass:"d-flex flex-column align-items-start p-3"},[s("div",{staticClass:"text-muted"},[a._v("Review Period")]),a._v(" "),s("div",{staticClass:"fw-bold"},[a._v(a._s(a.selectedEmployee.start_period)+" -\n                                "+a._s(a.selectedEmployee.end_period)+"\n                            ")])])]),a._v(" "),s("div",{staticClass:"col-md-4 mt-2"},[s("div",{staticClass:"d-flex flex-column align-items-start p-3"},[s("div",{staticClass:"text-muted"},[a._v("Review Due Date")]),a._v(" "),s("div",{staticClass:"fw-bold"},[a._v(a._s(a.selectedEmployee.due_date))])])])]),a._v(" "),s("h3",{staticClass:"card-title mt-4"},[a._v("Supervisor Evaluation by")]),a._v(" "),s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-auto"},[""!=a.backgroundImageSupervisorUrl?s("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(e=a.backgroundImageSupervisorUrl)&&void 0!==e?e:"",")")}},[s("div",{staticClass:"dropdown-mnu position-absolute"})]):s("span",{staticClass:"avatar avatar-md"},[a._v("\n                             "+a._s(null!=a.selectedEmployee.reviewer?a.selectedEmployee.reviewer.name.slice(0,2).toUpperCase():"")+"\n                        ")])]),a._v(" "),s("div",{staticClass:"col-auto"},[a._v("\n                        "+a._s(null!=a.selectedEmployee.reviewer?a.selectedEmployee.reviewer.name:"")+"\n                    ")])]),a._v(" "),s("div",{staticClass:"row g-3 mt-4"},[s("div",{staticClass:"col-md"},[s("div",{staticClass:"form-label fw-bold"},[a._v("KPIs")])]),a._v(" "),s("div",{staticClass:"col-md-2"},[s("div",{staticClass:"form-label fw-bold"},[a._v("Target")])]),a._v(" "),s("div",{staticClass:"col-md-2"},[s("div",{staticClass:"form-label fw-bold"},[a._v("Rating")])]),a._v(" "),s("div",{staticClass:"col-md"},[s("div",{staticClass:"form-label fw-bold"},[a._v("Comment")])])]),a._v(" "),a._l(a.reviewForm.ratings,(function(t,e){return s("div",{key:t.id,staticClass:"row g-3 mt-3"},[s("div",{staticClass:"col-md"},[s("div",{staticClass:"form-label"},[a._v(a._s(t.name))])]),a._v(" "),s("div",{staticClass:"col-md"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.ratings[e].target,expression:"reviewForm.ratings[index].target"}],staticClass:"form-control",attrs:{disabled:1===a.selectedEmployee.is_completed||1===a.selectedEmployee.targets_approved,type:"text"},domProps:{value:a.reviewForm.ratings[e].target},on:{input:function(t){t.target.composing||a.$set(a.reviewForm.ratings[e],"target",t.target.value)}}}),a._v(" "),a.reviewForm.hasError("target")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.form.getError("target"))}}):a._e()]),a._v(" "),s("div",{staticClass:"col-md-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.ratings[e].value,expression:"reviewForm.ratings[index].value"}],staticClass:"form-control",attrs:{disabled:1===a.selectedEmployee.is_completed,type:"text"},domProps:{value:a.reviewForm.ratings[e].value},on:{input:function(t){t.target.composing||a.$set(a.reviewForm.ratings[e],"value",t.target.value)}}})]),a._v(" "),s("div",{staticClass:"col-md"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.ratings[e].comment,expression:"reviewForm.ratings[index].comment"}],staticClass:"form-control",attrs:{type:"text",disabled:1===a.selectedEmployee.is_completed},domProps:{value:a.reviewForm.ratings[e].comment},on:{input:function(t){t.target.composing||a.$set(a.reviewForm.ratings[e],"comment",t.target.value)}}})])])})),a._v(" "),s("div",{staticClass:"col-auto mt-3"},[s("div",{staticClass:"d-flex g-4"},[s("div",{staticClass:"form-label"},[a._v("General comment")]),a._v(" "),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.general_comment,expression:"reviewForm.general_comment"}],staticClass:"form-control",attrs:{disabled:1===a.selectedEmployee.is_completed},domProps:{value:a.reviewForm.general_comment},on:{input:function(t){t.target.composing||a.$set(a.reviewForm,"general_comment",t.target.value)}}}),a._v(" "),s("br"),a._v(" "),a.reviewForm.hasError("general_comment")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.reviewForm.getError("general_comment"))}}):a._e()])])]),a._v(" "),s("h3",{staticClass:"card-title mt-4"},[a._v("Review Finalization")]),a._v(" "),s("div",{staticClass:"row g-3"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-label"},[a._v("Completion Date")]),a._v(" "),s("date-picker",{attrs:{disabled:1===a.selectedEmployee.is_completed,name:"date_of_birth",value:a.reviewForm.completion_date,"max-date":!1},on:{"on-change":function(t,e){a.reviewForm.completion_date=e}}}),a._v(" "),a.reviewForm.hasError("completion_date")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.reviewForm.getError("completion_date"))}}):a._e()],1),a._v(" "),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"form-label"},[a._v("Final Rating")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.final_rate,expression:"reviewForm.final_rate"}],staticClass:"form-control",attrs:{type:"text",disabled:1===a.selectedEmployee.is_completed},domProps:{value:a.reviewForm.final_rate},on:{input:function(t){t.target.composing||a.$set(a.reviewForm,"final_rate",t.target.value)}}}),a._v(" "),a.reviewForm.hasError("final_rate")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.reviewForm.getError("final_rate"))}}):a._e()]),a._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-label"},[a._v("Final Comments")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.reviewForm.final_comment,expression:"reviewForm.final_comment"}],staticClass:"form-control",attrs:{disabled:1===a.selectedEmployee.is_completed,type:"text"},domProps:{value:a.reviewForm.final_comment},on:{input:function(t){t.target.composing||a.$set(a.reviewForm,"final_comment",t.target.value)}}}),a._v(" "),a.reviewForm.hasError("final_comment")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.reviewForm.getError("final_comment"))}}):a._e()])])],2)])]),a._v(" "),s("b-modal",{attrs:{id:"appeal-modal",title:"Appeal Review","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[s("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[a._v("Close\n            ")]),a._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:a.form.processing},on:{click:function(t){return t.preventDefault(),a.submitReviewAppeal.apply(null,arguments)}}},[a._v("\n                Submit\n            ")])]}}])},[s("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),a.submitReviewAppeal.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Reason for appear")]),a._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:a.appearlForm.reason,expression:"appearlForm.reason"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:a.appearlForm.reason},on:{input:function(t){t.target.composing||a.$set(a.appearlForm,"reason",t.target.value)}}}),a._v(" "),a.appearlForm.hasError("reason")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.appearlForm.getError("reason"))}}):a._e()])]),a._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[a._v("Status")]),a._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:a.appearlForm.status,expression:"appearlForm.status"}],staticClass:"form-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));a.$set(a.appearlForm,"status",t.target.multiple?e:e[0])}}},a._l(a.appealStatus,(function(t){return s("option",{domProps:{value:t}},[a._v(a._s(t))])})),0),a._v(" "),a.appearlForm.hasError("reason")?s("span",{staticClass:"text-danger",domProps:{textContent:a._s(a.appearlForm.getError("reason"))}}):a._e()])])]),a._v(" "),a.form.processing?s("div",{staticClass:"progress mb-2"},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):a._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},5270:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{kpis:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedEmployee:{},employees:[],reviews:[],fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3 text-muted"},{name:"job_group.name",title:"Job Group",titleClass:"ps-3",dataClass:"ps-3 text-truncate"},{name:"__slot:period",title:"Review Period",titleClass:"ps-1"},{name:"due_date",title:"Due Date",titleClass:"ps-1 font-weight-bold"},{name:"__slot:is_completed",title:"Review Status",titleClass:"ps-3",dataClass:"ps-3"},{name:"__slot:actions",dataClass:"text-right"}],moreParams:{filter:{search:""}},previousDays:null,filteredKpis:[],form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",due_date:"",status:1}),appearlForm:new window.Form({performance_review_id:null,reason:""}),appealed:!1,reviewForm:new window.Form({review_id:null,start_date:"",end_date:"",general_comment:"",due_date:"",final_rate:"",final_comment:"",completion_date:"",ratings:[]})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable},backgroundImageUrl:function(){if(null!=this.selectedEmployee.employee)return null!=this.selectedEmployee.employee.profile_image?"/storage/".concat(this.selectedEmployee.employee.profile_image.file_path):""}},mounted:function(){this.retrieveEmployees(),this.retrieveEmployeeReviews()},watch:{},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},retrieveEmployeeReviews:function(){var t=this;this.$httpClient.get("/datatable/myReviews/").then((function(e){var a=e.data;t.reviews=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Reviews")}))},submitReview:function(){var t=this;this.$bvModal.hide("review-modal"),this.$toast.question("Are you certain? Once you submit, updates won't be possible thereafter.").then((function(){t.reviewForm.post("/performance-review/complete/").then((function(e){t.$toast.success("review completed"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.$toast.error(e.response.data.errors),t.form.errors.record(e.response.data.errors)}))}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},showAppealForm:function(t){this.appearlForm.performance_review_id=t.id,this.appearlForm.reason=t.performance_appeal?t.performance_appeal.reason:"",t.performance_appeal&&(this.appealed=!0),this.$bvModal.show("appeal-modal")},AddReview:function(){var t=this;this.form.post("/performance").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The has been added"),t.vuetable.reload()})).catch()},saveReview:function(){var t=this;this.reviewForm.post("/performance-review").then((function(){t.$bvModal.hide("review-modal"),t.$toast.success("The review has been saved"),t.vuetable.reload()})).catch()},saveTargets:function(){var t=this;this.reviewForm.post("/my-reviews-save-targets").then((function(){t.$bvModal.hide("review-modal"),t.$toast.success("The review has been saved"),t.retrieveEmployeeReviews()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},showReviewForm:function(t){var e=this;this.reviewForm.ratings=[],this.form.populate(t),this.selectedEmployee=t,this.form.id=t.id,this.reviewForm.review_id=t.id,this.reviewForm.general_comment=t.general_comment,this.reviewForm.completion_date=t.completion_date,this.reviewForm.final_comment=t.final_comment,this.reviewForm.final_rate=t.final_rate,this.filteredKpis=this.kpis.filter((function(e){return e.department_id===t.department_id&&e})),0===t.review_ratings.length?this.filteredKpis.forEach((function(t){e.reviewForm.ratings.push({kpId:t.id,target:t.target,name:t.name,value:0,comment:""})})):t.review_ratings.forEach((function(t){e.reviewForm.ratings.push({kpId:t.kpi_id,target:t.target,name:t.kpi.name,value:t.rating,comment:t.comment})})),this.$bvModal.show("review-modal")},submitReviewAppeal:function(){var t=this;this.$toast.question("Are you sure?","You want to appeal ").then((function(){t.appearlForm.post("/performance-review-appeals").then((function(){t.$bvModal.hide("appeal-modal"),t.$toast.success("Appeal submitted successfully"),t.appearlForm.reset(),t.retrieveEmployeeReviews()})).catch()}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t,e=this,a=e._self._c;return a("div",[a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"input-icon me-2"},[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.moreParams.filter.search},on:{input:[function(t){t.target.composing||e.$set(e.moreParams.filter,"search",t.target.value)},e.applyFilter]}})]),e._v(" "),a("div",{staticClass:"card-actions"})]),e._v(" "),a("VueTable",{ref:"table",attrs:{"api-mode":!1,data:e.reviews,fields:e.fields,"append-params":e.moreParams},scopedSlots:e._u([{key:"period",fn:function(t){return[a("small",[e._v(e._s(t.rowData.start_period)+" - "+e._s(t.rowData.end_period))])]}},{key:"is_completed",fn:function(t){return[a("div",[e._v(e._s(t.rowData.is_completed?"Completed":"On going"))]),e._v(" "),t.rowData.performance_appeal?a("small",{staticClass:"text-warning"},[e._v(" Appeal "+e._s(t.rowData.performance_appeal.status))]):e._e()]}},{key:"actions",fn:function(t){return[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[a("i",{staticClass:"uil uil-ellipsis-h"})]),e._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showReviewForm(t.rowData)}}},[a("i",{staticClass:"uil uil-pen fs-3 me-2"}),e._v(" Open review\n            ")]),e._v(" "),t.rowData.is_completed?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showAppealForm(t.rowData)}}},[a("i",{staticClass:"uil fs-3 me-2"}),e._v(" Appeal\n            ")]):e._e()])])]}}])})],1),e._v(" "),a("b-modal",{attrs:{id:"review-modal",title:"Review","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("Close\n      ")]),e._v(" "),a("div",[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:1===e.selectedEmployee.targets_approved},on:{click:function(t){return t.preventDefault(),e.saveTargets.apply(null,arguments)}}},[e._v("\n          Save targets\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:""},on:{click:function(t){return t.preventDefault(),e.saveReview.apply(null,arguments)}}},[e._v("\n          Save\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""},on:{click:function(t){return t.preventDefault(),e.submitReview.apply(null,arguments)}}},[e._v("\n      Complete\n        ")])])]}}])},[a("div",{staticClass:"col-12 d-flex flex-column"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"mb-4"},[e._v("Your Review Summary")]),e._v(" "),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-auto"},[""!=e.backgroundImageUrl?a("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=e.backgroundImageUrl)&&void 0!==t?t:"",")")}},[a("div",{staticClass:"dropdown-mnu position-absolute"})]):a("span",{staticClass:"avatar avatar-md"},[e._v(e._s(e.selectedEmployee.employee?e.selectedEmployee.employee.name.slice(0,2).toUpperCase():""))])]),e._v(" "),a("div",{staticClass:"col-auto"},[e._v("\n            "+e._s(e.selectedEmployee.employee?e.selectedEmployee.employee.name:"")+"\n          ")]),e._v(" "),a("div",{staticClass:"col-md-6"},[e.selectedEmployee.final_rate?a("div",{staticClass:"d-flex align-items-center flex-column p-3"},[a("div",[e._v("Final Rating")]),e._v(" "),a("div",{staticClass:"fw-bold text-lg-center pt-2"},[e._v(e._s(e.selectedEmployee.final_rate))])]):e._e()]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Status")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(" "+e._s(1===e.selectedEmployee.status?"On going":"completed"))])])]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Period")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(e._s(e.selectedEmployee.start_period)+" - "+e._s(e.selectedEmployee.end_period))])])]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Due Date")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(e._s(e.selectedEmployee.due_date))])])])]),e._v(" "),a("h3",{staticClass:"card-title mt-4"},[e._v("Supervisor Evaluation by")]),e._v(" "),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-auto"},[a("span",{staticClass:"avatar avatar-md",staticStyle:{"background-image":"url(./static/avatars/000m.jpg)"}},[e._v(e._s(null!=e.selectedEmployee.reviewer?e.selectedEmployee.reviewer.name.slice(0,2).toUpperCase():""))])]),e._v(" "),a("div",{staticClass:"col-auto"},[e._v("\n            "+e._s(null!=e.selectedEmployee.reviewer?e.selectedEmployee.reviewer.name:"")+"\n          ")])]),e._v(" "),a("div",{staticClass:"row g-3 mt-4"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label fw-bold"},[e._v("KPIs")])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Target")])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Rating")])]),e._v(" "),a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Comment")])])]),e._v(" "),e._l(e.reviewForm.ratings,(function(t,s){return a("div",{key:t.id,staticClass:"row g-3 mt-3"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label"},[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"col-md"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].target,expression:"reviewForm.ratings[index].target"}],staticClass:"form-control",attrs:{disabled:1===e.selectedEmployee.targets_approved,type:"text"},domProps:{value:e.reviewForm.ratings[s].target},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"target",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].value,expression:"reviewForm.ratings[index].value"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.reviewForm.ratings[s].value},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"value",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].comment,expression:"reviewForm.ratings[index].comment"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.reviewForm.ratings[s].comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"comment",t.target.value)}}})])])})),e._v(" "),a("div",{staticClass:"col-auto mt-3"},[a("div",{staticClass:"d-flex g-4"},[a("div",{staticClass:"form-label"},[e._v("General comment "+e._s(1===e.selectedEmployee.is_completed))]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.general_comment,expression:"reviewForm.general_comment"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.reviewForm.general_comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"general_comment",t.target.value)}}})])]),e._v(" "),a("h3",{staticClass:"card-title mt-4"},[e._v("Review Finalization")]),e._v(" "),a("div",{staticClass:"row g-3"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-label"},[e._v("Completion Date")]),e._v(" "),a("date-picker",{attrs:{disabled:"",name:"date_of_birth",value:e.reviewForm.completion_date,"max-date":!1},on:{"on-change":function(t,a){e.reviewForm.completion_date=a}}})],1),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-label"},[e._v("Final Rating")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.final_rate,expression:"reviewForm.final_rate"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.reviewForm.final_rate},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"final_rate",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-label"},[e._v("Final Comments")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.final_comment,expression:"reviewForm.final_comment"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.reviewForm.final_comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"final_comment",t.target.value)}}})])])],2)])]),e._v(" "),a("b-modal",{attrs:{id:"appeal-modal",title:"Appeal Review","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing||e.appealed},on:{click:function(t){return t.preventDefault(),e.submitReviewAppeal.apply(null,arguments)}}},[e._v("\n        Submit\n      ")])]}}])},[a("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),e.submitReviewAppeal.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Reason for appear")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.appearlForm.reason,expression:"appearlForm.reason"}],staticClass:"form-control",attrs:{disabled:e.appealed},domProps:{value:e.appearlForm.reason},on:{input:function(t){t.target.composing||e.$set(e.appearlForm,"reason",t.target.value)}}}),e._v(" "),e.appearlForm.hasError("reason")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.appearlForm.getError("reason"))}}):e._e()])])]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},2669:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{kpis:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedEmployee:{},employees:[],appealStatus:["pending","approved","rejected"],fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3 text-muted"},{name:"employee.name",title:"Employee",titleClass:"text-start",dataClass:"pe-3 text-start"},{name:"department.name",title:"Department",titleClass:"ps-3",dataClass:"ps-3 text-truncate"},{name:"__slot:period",title:"Review Period",titleClass:"ps-1"},{name:"due_date",title:"Due Date",titleClass:"ps-1 font-weight-bold"},{name:"__slot:is_completed",title:"Review Status",titleClass:"ps-3",dataClass:"ps-3"},{name:"__slot:actions",dataClass:"text-right"}],moreParams:{filter:{search:"",isSupervisor:!0}},previousDays:null,filteredKpis:[],form:new window.Form({id:null,employee_id:"",start_date:"",end_date:"",due_date:"",status:1}),appearlForm:new window.Form({id:null,performance_review_id:null,reason:"",status:""}),reviewForm:new window.Form({review_id:null,start_date:"",end_date:"",general_comment:"",due_date:"",final_rate:"",final_comment:"",completion_date:"",ratings:[]})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable},backgroundImageUrl:function(){if(null!=this.selectedEmployee.employee)return null!=this.selectedEmployee.employee.profile_image?"/storage/".concat(this.selectedEmployee.employee.profile_image.file_path):""}},mounted:function(){this.retrieveEmployees()},watch:{},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/",{params:{filter:{supervisor:!0}}}).then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},submitReview:function(){var t=this;this.$bvModal.hide("review-modal"),this.$toast.question("Are you certain? Once you submit, updates won't be possible thereafter.").then((function(){t.reviewForm.post("/performance-review/complete/").then((function(e){t.$toast.success("review completed"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.$toast.error(e.response.data.errors),t.form.errors.record(e.response.data.errors)}))}))},showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},AddReview:function(){var t=this;this.form.post("/performance").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The has been added"),t.vuetable.reload()})).catch()},saveReview:function(){var t=this;this.reviewForm.post("/performance-review").then((function(){t.$bvModal.hide("review-modal"),t.$toast.success("The review has been saved"),t.vuetable.reload()})).catch()},approveTargets:function(){var t=this;this.$toast.question("Are you certain? Once you submit, updates won't be possible on targets thereafter.").then((function(){t.reviewForm.post("/performance-review-targets-approval").then((function(e){t.$toast.success("Targets approved"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){t.$toast.error(e.response.data.errors),t.form.errors.record(e.response.data.errors)}))}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},showReviewForm:function(t){var e=this;this.reviewForm.ratings=[],this.form.populate(t),this.selectedEmployee=t,this.form.id=t.id,this.reviewForm.review_id=t.id,this.reviewForm.general_comment=t.general_comment,this.reviewForm.completion_date=t.completion_date,this.reviewForm.final_comment=t.final_comment,this.reviewForm.final_rate=t.final_rate,this.filteredKpis=this.kpis.filter((function(e){return e.job_group_id===t.job_group_id&&e})),0===t.review_ratings.length?this.filteredKpis.forEach((function(t){e.reviewForm.ratings.push({kpId:t.id,target:0,name:t.name,value:0,comment:""})})):t.review_ratings.forEach((function(t){e.reviewForm.ratings.push({kpId:t.kpi_id,target:t.target,name:t.kpi.name,value:t.rating,comment:t.comment})})),this.$bvModal.show("review-modal")},showAppealForm:function(t){this.appearlForm.id=t.performance_appeal.id,this.appearlForm.performance_review_id=t.id,this.appearlForm.status=t.performance_appeal.status,this.appearlForm.reason=t.performance_appeal?t.performance_appeal.reason:"",this.$bvModal.show("appeal-modal")},submitReviewAppeal:function(){var t=this;this.$toast.question("Are you sure?","").then((function(){t.appearlForm.patch("performance-review-appeals/".concat(t.appearlForm.id,"/status")).then((function(){t.$bvModal.hide("appeal-modal"),t.$toast.success("Appeal submitted successfully"),t.appearlForm.reset(),t.vuetable.reload()})).catch()}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t,e=this,a=e._self._c;return a("div",[a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"input-icon me-2"},[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.moreParams.filter.search},on:{input:[function(t){t.target.composing||e.$set(e.moreParams.filter,"search",t.target.value)},e.applyFilter]}})]),e._v(" "),a("div",{staticClass:"card-actions"},[a("button",{staticClass:"btn btn-primary",on:{click:e.showCreateForm}},[a("i",{staticClass:"uil uil-plus me-1"}),e._v("Add\n        ")])])]),e._v(" "),a("VueTable",{ref:"table",attrs:{"api-url":"/datatable/performance",fields:e.fields,"append-params":e.moreParams},scopedSlots:e._u([{key:"period",fn:function(t){return[a("small",[e._v(e._s(t.rowData.start_period)+" - "+e._s(t.rowData.end_period))])]}},{key:"is_completed",fn:function(t){return[a("div",[e._v(e._s(t.rowData.is_completed?"Completed":"On going"))]),e._v(" "),t.rowData.performance_appeal?a("small",{staticClass:"text-warning"},[e._v(" Appeal "+e._s(t.rowData.performance_appeal.status))]):e._e()]}},{key:"actions",fn:function(t){return[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[a("i",{staticClass:"uil uil-ellipsis-h"})]),e._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showReviewForm(t.rowData)}}},[a("i",{staticClass:"uil uil-pen fs-3 me-2"}),e._v(" Open review\n            ")]),e._v(" "),t.rowData.performance_appeal?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showAppealForm(t.rowData)}}},[a("i",{staticClass:"uil uil-pen fs-3 me-2"}),e._v(" view appeal\n            ")]):e._e()])])]}}])})],1),e._v(" "),a("b-modal",{attrs:{id:"create-modal",title:"Add Review","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.AddReview.apply(null,arguments)}}},[e._v("\n        Submit\n      ")])]}}])},[a("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),e.AddReview.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Employee")]),e._v(" "),a("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:e.employees,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:e.form.employee_id,callback:function(t){e.$set(e.form,"employee_id",t)},expression:"form.employee_id"}}),e._v(" "),e.form.hasError("employee_id")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("employee_id"))}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Review Period Start Date")]),e._v(" "),a("date-picker",{attrs:{name:"date_of_birth",value:e.form.start_date,"max-date":!1},on:{"on-change":function(t,a){e.form.start_date=a}}}),e._v(" "),e.form.hasError("start_date")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("start_date"))}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Review Period End Date")]),e._v(" "),a("date-picker",{attrs:{name:"date_of_birth",value:e.form.end_date,"max-date":!1},on:{"on-change":function(t,a){e.form.end_date=a}}}),e._v(" "),e.form.hasError("end_date")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("end_date"))}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Due Date")]),e._v(" "),a("date-picker",{attrs:{name:"date_of_birth",value:e.form.due_date,"max-date":!1},on:{"on-change":function(t,a){e.form.due_date=a}}}),e._v(" "),e.form.hasError("due_date")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("due_date"))}}):e._e()],1)])]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])]),e._v(" "),a("b-modal",{attrs:{id:"review-modal",title:"Review","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("Close\n      ")]),e._v(" "),a("div",[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:e.form.processing||1===e.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),e.approveTargets.apply(null,arguments)}}},[e._v("\n          Approve targets\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:e.form.processing||1===e.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),e.saveReview.apply(null,arguments)}}},[e._v("\n          Save\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing||1===e.selectedEmployee.is_completed},on:{click:function(t){return t.preventDefault(),e.submitReview.apply(null,arguments)}}},[e._v("\n      Complete\n        ")])])]}}])},[a("div",{staticClass:"col-12 d-flex flex-column"},[a("div",{staticClass:"card-body"},[a("h2",{staticClass:"mb-4"},[e._v("Review Summary")]),e._v(" "),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-auto"},[""!=e.backgroundImageUrl?a("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=e.backgroundImageUrl)&&void 0!==t?t:"",")")}},[a("div",{staticClass:"dropdown-mnu position-absolute"})]):a("span",{staticClass:"avatar avatar-md"},[e._v(e._s(e.selectedEmployee.employee?e.selectedEmployee.employee.name.slice(0,2).toUpperCase():""))])]),e._v(" "),a("div",{staticClass:"col-auto"},[e._v("\n            "+e._s(e.selectedEmployee.employee?e.selectedEmployee.employee.name:"")+"\n\n          ")]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"d-flex align-items-center flex-column p-3"},[a("div",[e._v("Final Rating")]),e._v(" "),a("div",{staticClass:"fw-bold text-lg-center pt-2"},[e._v(e._s(e.selectedEmployee.final_rate))])])]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Status")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(" "+e._s(1===e.selectedEmployee.status?"On going":"completed"))])])]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Period")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(e._s(e.selectedEmployee.start_period)+" - "+e._s(e.selectedEmployee.end_period))])])]),e._v(" "),a("div",{staticClass:"col-md-4 mt-2"},[a("div",{staticClass:"d-flex flex-column align-items-start p-3"},[a("div",{staticClass:"text-muted"},[e._v("Review Due Date")]),e._v(" "),a("div",{staticClass:"fw-bold"},[e._v(e._s(e.selectedEmployee.due_date))])])])]),e._v(" "),a("h3",{staticClass:"card-title mt-4"},[e._v("Supervisor Evaluation by")]),e._v(" "),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-auto"},[a("span",{staticClass:"avatar avatar-md",staticStyle:{"background-image":"url(./static/avatars/000m.jpg)"}},[e._v(e._s(null!=e.selectedEmployee.reviewer?e.selectedEmployee.reviewer.name.slice(0,2).toUpperCase():""))])]),e._v(" "),a("div",{staticClass:"col-auto"},[e._v("\n            "+e._s(null!=e.selectedEmployee.reviewer?e.selectedEmployee.reviewer.name:"")+"\n          ")])]),e._v(" "),a("div",{staticClass:"row g-3 mt-4"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label fw-bold"},[e._v("KPIs")])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Target")])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Rating")])]),e._v(" "),a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label fw-bold"},[e._v("Comment")])])]),e._v(" "),e._l(e.reviewForm.ratings,(function(t,s){return a("div",{key:t.id,staticClass:"row g-3 mt-3"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-label"},[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"col-md"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].target,expression:"reviewForm.ratings[index].target"}],staticClass:"form-control",attrs:{disabled:1===e.selectedEmployee.is_completed||1===e.selectedEmployee.targets_approved,type:"text"},domProps:{value:e.reviewForm.ratings[s].target},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"target",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].value,expression:"reviewForm.ratings[index].value"}],staticClass:"form-control",attrs:{disabled:1===e.selectedEmployee.is_completed,type:"text"},domProps:{value:e.reviewForm.ratings[s].value},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"value",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.ratings[s].comment,expression:"reviewForm.ratings[index].comment"}],staticClass:"form-control",attrs:{type:"text",disabled:1===e.selectedEmployee.is_completed},domProps:{value:e.reviewForm.ratings[s].comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm.ratings[s],"comment",t.target.value)}}})])])})),e._v(" "),a("div",{staticClass:"col-auto mt-3"},[a("div",{staticClass:"d-flex g-4"},[a("div",{staticClass:"form-label"},[e._v("General comment "+e._s(1===e.selectedEmployee.is_completed))]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.general_comment,expression:"reviewForm.general_comment"}],staticClass:"form-control",attrs:{disabled:1===e.selectedEmployee.is_completed},domProps:{value:e.reviewForm.general_comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"general_comment",t.target.value)}}})])]),e._v(" "),a("h3",{staticClass:"card-title mt-4"},[e._v("Review Finalization")]),e._v(" "),a("div",{staticClass:"row g-3"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-label"},[e._v("Completion Date")]),e._v(" "),a("date-picker",{attrs:{disabled:1===e.selectedEmployee.is_completed,name:"date_of_birth",value:e.reviewForm.completion_date,"max-date":!1},on:{"on-change":function(t,a){e.reviewForm.completion_date=a}}})],1),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-label"},[e._v("Final Rating")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.final_rate,expression:"reviewForm.final_rate"}],staticClass:"form-control",attrs:{type:"text",disabled:1===e.selectedEmployee.is_completed},domProps:{value:e.reviewForm.final_rate},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"final_rate",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-label"},[e._v("Final Comments")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewForm.final_comment,expression:"reviewForm.final_comment"}],staticClass:"form-control",attrs:{disabled:1===e.selectedEmployee.is_completed,type:"text"},domProps:{value:e.reviewForm.final_comment},on:{input:function(t){t.target.composing||e.$set(e.reviewForm,"final_comment",t.target.value)}}})])])],2)])]),e._v(" "),a("b-modal",{attrs:{id:"appeal-modal",title:"Appeal Review","hide-header-close":"",size:"sm","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.submitReviewAppeal.apply(null,arguments)}}},[e._v("\n        Submit\n      ")])]}}])},[a("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),e.submitReviewAppeal.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Reason for appear")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.appearlForm.reason,expression:"appearlForm.reason"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.appearlForm.reason},on:{input:function(t){t.target.composing||e.$set(e.appearlForm,"reason",t.target.value)}}}),e._v(" "),e.appearlForm.hasError("reason")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.appearlForm.getError("reason"))}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.appearlForm.status,expression:"appearlForm.status"}],staticClass:"form-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));e.$set(e.appearlForm,"status",t.target.multiple?a:a[0])}}},e._l(e.appealStatus,(function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})),0),e._v(" "),e.appearlForm.hasError("reason")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.appearlForm.getError("reason"))}}):e._e()])])]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},5579:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{user:{type:Object,required:!0}},data:function(){return{form:new window.Form({password:"",password_confirmation:""}),detailForm:new window.Form({name:"",username:""})}},created:function(){this.detailForm.populate(this.user)},methods:{showPasswordForm:function(){this.$bvModal.show("password-modal")},changePassword:function(){var t=this;this.form.password===this.form.password_confirmation?this.form.post("/profile/change-password").then((function(){t.$bvModal.hide("password-modal"),t.$toast.success("Password has been updated")})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)})):this.$toast.error("passwords do not match")},changeUsername:function(){var t=this;this.detailForm.post("/profile/change-username").then((function(){t.$bvModal.hide("detail-modal"),t.$toast.success("The changes have been saved"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.detailForm.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-9"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v("\n            Account Info\n          ")]),t._v(" "),e("div",{staticClass:"card-actions"},[e("a",{attrs:{href:"#"},on:{click:t.showPasswordForm}},[t._v("\n              Change Password\n              "),e("i",{staticClass:"uil uil-edit"})])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-5"},[t._v("\n              Name:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t.user.name)+"\n            ")]),t._v(" "),e("dt",{staticClass:"col-5"},[t._v("\n              Username:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t.user.username)+" "),e("span",[e("a",{directives:[{name:"b-modal",rawName:"v-b-modal:detail-modal",arg:"detail-modal"}],staticClass:"ms-3",attrs:{href:"#"}},[e("i",{staticClass:"uil uil-edit"}),t._v(" change")])])]),t._v(" "),e("dt",{staticClass:"col-5"},[t._v("\n              Registered:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t._f("date_DAY_MONTH_YEAR")(t.user.created_at))+"\n            ")])])])])])]),t._v(" "),e("b-modal",{attrs:{id:"password-modal",title:"Change Password","no-close-on-backdrop":"","body-class":"rounded-3","footer-bg-variant":"light","hide-header-close":"","footer-class":"d-flex justify-content-end border-top"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn btn-light",attrs:{disabled:t.form.processing},on:{click:s}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-success me-2",attrs:{form:"form",type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing":"Submit")+"\n      ")])]}}])},[e("form",{attrs:{id:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.changePassword.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("New Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password_confirmation"}},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",attrs:{id:"password_confirmation",name:"password_confirmation",type:"password"},domProps:{value:t.form.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.form,"password_confirmation",e.target.value)}}}),t._v(" "),t.form.hasError("password_confirmation")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password_confirmation"))}}):t._e()])])]),t._v(" "),e("b-modal",{attrs:{id:"detail-modal",title:"Change Details","no-close-on-backdrop":"","body-class":"rounded-3","footer-bg-variant":"light","hide-header-close":"","footer-class":"d-flex justify-content-end border-top"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn btn-light",attrs:{disabled:t.form.processing},on:{click:s}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-success me-2",attrs:{form:"detail-form",type:"submit",disabled:t.detailForm.processing}},[t._v("\n        "+t._s(t.detailForm.processing?"Processing":"Submit")+"\n      ")])]}}])},[e("form",{attrs:{id:"detail-form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.changeUsername.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.detailForm.name,expression:"detailForm.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text"},domProps:{value:t.detailForm.name},on:{input:function(e){e.target.composing||t.$set(t.detailForm,"name",e.target.value)}}}),t._v(" "),t.detailForm.hasError("text")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.detailForm.getError("text"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.detailForm.username,expression:"detailForm.username"}],staticClass:"form-control",attrs:{id:"username",name:"username",type:"text"},domProps:{value:t.detailForm.username},on:{input:function(e){e.target.composing||t.$set(t.detailForm,"username",e.target.value)}}}),t._v(" "),t.detailForm.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.detailForm.getError("username"))}}):t._e()])])])],1)}),[],!1,null,null,null).exports},4202:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={data:function(){return{fields:[{name:"promotion_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee.name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:job_title",title:"Job Title",titleClass:"ps-1"},{name:"__slot:job_group",title:"Job Group",titleClass:"ps-1"},{name:"promoted_by.name",title:"Promoted By",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}}}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/promotions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n\n\n              >\n            ")])])])]}},{key:"job_title",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.previous_job_title)+" ->  "+t._s(a.rowData.new_job_title)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"job_group",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.previous_job_group.name)+" ->  "+t._s(a.rowData.new_job_group.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item text-danger",attrs:{disabled:"true",href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},6488:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});const s={props:{managers:{type:Array,required:!0,default:function(){return[]}},jobgroups:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],fields:[{name:"name",title:"Vancancy",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"job_title",title:"Job Title",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"department.name",title:"Depertment",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"no_of_positions",title:"No of Positions",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Status",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"Opened":"Closed"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",job_title:"",job_group_id:"",department_id:"",hiring_manager:"",panelists:[],no_of_positions:"",activated:!0,description:"",panelist:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createVacancy:function(){var t=this;this.convertPanelist(),this.form.post("/vacancy").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Vacancy Created successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},convertPanelist:function(){this.form.panelist=this.form.panelists.join(",")},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.form.leave_type_id=t.employee_leave_type_id,this.$bvModal.show("update-modal")},delVacancy:function(t){var e=this;this.$httpClient.delete("/vacancy/".concat(t.id,"/delete")).then((function(t){e.$toast.success("deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))},editVacancy:function(){var t=this;this.form.patch("/vacancy/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);const o=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search leave"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add\n        ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/vacancies",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a.rowData.approved?t._e():e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),a.rowData.approved?t._e():e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.delVacancy(a.rowData)}}},[e("i",{staticClass:"uil uil-trush fs-3 me-2"}),t._v(" Del\n            ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Vacancy","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createVacancy.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createVacancy.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Vancancy name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Job Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_title,expression:"form.job_title"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.job_title},on:{input:function(e){e.target.composing||t.$set(t.form,"job_title",e.target.value)}}}),t._v(" "),t.form.hasError("job_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_title"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Job Group")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.jobgroups,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.job_group_id,callback:function(e){t.$set(t.form,"job_group_id",e)},expression:"form.job_group_id"}}),t._v(" "),t.form.hasError("job_group_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_group_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Hiring Manager")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"hiring_manager",options:t.managers,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.hiring_manager,callback:function(e){t.$set(t.form,"hiring_manager",e)},expression:"form.hiring_manager"}}),t._v(" "),t.form.hasError("hiring_manager")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("hiring_manager"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("No of Positions")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.no_of_positions,expression:"form.no_of_positions"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.no_of_positions},on:{input:function(e){e.target.composing||t.$set(t.form,"no_of_positions",e.target.value)}}}),t._v(" "),t.form.hasError("no_of_positions")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("no_of_positions"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Panelists")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_ids",options:t.managers,label:"name",reduce:function(t){return t.id},clearable:!1,multiple:""},model:{value:t.form.panelists,callback:function(e){t.$set(t.form,"panelists",e)},expression:"form.panelists"}}),t._v(" "),t.form.hasError("panelists")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("panelists"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"d-flex mb-3 gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Opened")])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),t._v(" "),t.form.hasError("description")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("description"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Vacancy","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editVacancy.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editVacancy.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Vancancy name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Job Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_title,expression:"form.job_title"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.job_title},on:{input:function(e){e.target.composing||t.$set(t.form,"job_title",e.target.value)}}}),t._v(" "),t.form.hasError("job_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_title"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Hiring Manager")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"hiring_manager",options:t.managers,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.hiring_manager,callback:function(e){t.$set(t.form,"hiring_manager",e)},expression:"form.hiring_manager"}}),t._v(" "),t.form.hasError("hiring_manager")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("hiring_manager"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("No of Positions")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.no_of_positions,expression:"form.no_of_positions"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.no_of_positions},on:{input:function(e){e.target.composing||t.$set(t.form,"no_of_positions",e.target.value)}}}),t._v(" "),t.form.hasError("no_of_positions")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("no_of_positions"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Opened")])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),t._v(" "),t.form.hasError("description")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("description"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const n={props:{vacancies:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}},jobgroups:{type:Array,required:!0,default:function(){return[]}},employeetypes:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{employees:[],applicant:{},interview:{},fields:[{name:"vacancy.name",title:"Vacancy",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"applicant.name",title:"Candidate",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"hiring_manager.name",title:"Hiring Manager",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"application_date",title:"Date of Application",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"status",title:"Status",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}},form:new window.Form({id:null,name:"",dob:"",gender:"",nationality:"",id_no:"",residence:"",phone:"",email:"",resume:"",vacancy_id:""}),interviewForm:new window.Form({id:null,application_id:null,vacancy_id:null,interview_title:null,interviewer_id:null,date_and_time:null,notes:""}),selectedApplicant:{},selectedApplication:{vacancy:{}},interviewResult:new window.Form({feedback:"",interPassed:!1}),offerJob:new window.Form({application_id:null,payroll_number:null,name:"",dob:"",gender:"",email:"",phone:"",residence:"",department_id:null,employee_type:null,job_group_id:null,job_title:"",nationality:"",id_no:"",activated:!0})}},mounted:function(){this.retrieveEmployees()},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},deleteApplicationn:function(t){var e=this;this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/recruitment/".concat(t.id)).then((function(t){e.$toast.success("deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},deleteFailedInterview:function(t){var e=this;this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/recruitment/".concat(t.id)).then((function(t){e.$toast.success("deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},showCreateForm:function(){this.$bvModal.show("create-modal")},fetchScheduledInterview:function(t){var e=this;this.$httpClient.get("/interview-scheduled/".concat(t)).then((function(t){var a=t.data;e.interview=a})).catch((function(t){e.$toast.error(t.response.data)}))},submitInterview:function(){var t=this;this.interviewResult.patch("interview-results/"+this.interview.application_id).then((function(e){t.$toast.success("Applicant interview results submited"),t.vuetable.reload(),t.$bvModal.hide("interview-modal")})).catch((function(e){t.$toast.error(e.response.data)}))},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAssignLeave:function(){var t=this;this.form.post("/recruitment").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Application submitted successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},shortList:function(t){var e=this;this.$httpClient.patch("/application/shortlist/".concat(t.id)).then((function(t){e.$toast.success("Candidate short listed"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))},hire:function(){var t=this;this.offerJob.post("/hire").then((function(){t.$bvModal.hide("job-offer-modal"),t.$toast.success("Hired! Please go to the newly hired employee's profile to complete details."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.offerJob.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.form.leave_type_id=t.employee_leave_type_id,this.$bvModal.show("update-modal")},showInterviewScheduleForm:function(t){this.applicant=t.applicant,this.interviewForm.application_id=t.id,this.interviewForm.interviewer_id=t.hiring_manager.id,this.interviewForm.vacancy_id=t.vacancy_id,this.$bvModal.show("interview-schedule-modal")},showJobOfferForm:function(t){this.offerJob.application_id=t.id,this.offerJob.name=t.applicant.name,this.offerJob.email=t.applicant.email,this.offerJob.phone=t.applicant.phone,this.offerJob.dob=t.applicant.dob,this.offerJob.gender=t.applicant.gender,this.offerJob.residence=t.applicant.residence,this.offerJob.department_id=t.vacancy.department_id,this.offerJob.job_group_id=t.vacancy.job_group_id,this.offerJob.nationality=t.applicant.nationality,this.offerJob.job_title=t.vacancy.job_title,this.offerJob.id_no=t.applicant.id_no,this.$bvModal.show("job-offer-modal")},showInterviewForm:function(t){this.fetchScheduledInterview(t.id),this.applicant=t.applicant,this.interviewForm.application_id=t.id,this.interviewForm.vacancy_id=t.vacancy_id,this.interviewForm.interviewer_id=t.hiring_manager,this.$bvModal.show("interview-modal")},scheduleInterview:function(){var t=this;this.interviewForm.post("/schedule-interview").then((function(){t.$toast.success("Interview has been scheduled."),t.$bvModal.hide("interview-schedule-modal"),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},delRequest:function(t){var e=this;this.$httpClient.delete("/user/leave-requests/".concat(t.id,"/delete")).then((function(t){e.$toast.success("Request deleted"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))},editLeave:function(){var t=this;this.form.patch("/user/leave-requests/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},viewApplication:function(t){this.selectedApplicant=t.applicant,this.selectedApplication=t,this.$bvModal.show("application")},rejectedOffer:function(t){var e=this;this.$httpClient.patch("/application/rejected-offer/".concat(t.id)).then((function(t){e.$toast.success("Job offer rejected"),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const i=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search application"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add\n          ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/applications",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.viewApplication(a.rowData)}}},[t._v("\n                    view\n                ")]),t._v(" "),"Applied"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.shortList(a.rowData)}}},[t._v("\n                 Short List\n              ")]):t._e(),t._v(" "),"Short listed"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showInterviewScheduleForm(a.rowData)}}},[t._v("\n                 Schedule Interview\n              ")]):t._e(),t._v(" "),"Interview passed"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showJobOfferForm(a.rowData)}}},[t._v("\n                 Offer a job\n              ")]):t._e(),t._v(" "),"Interview passed"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.rejectedOffer(a.rowData)}}},[t._v("\n                    Rejected Offer\n                ")]):t._e(),t._v(" "),"Interview Scheduled"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showInterviewForm(a.rowData)}}},[t._v("\n                interview\n              ")]):t._e(),t._v(" "),"Applied"===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[t._v("\n               Decline\n              ")]):t._e(),t._v(" "),"Offered                                                                                         "===a.rowData.status?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[t._v("\n               Hire\n              ")]):t._e(),t._v(" "),"Interview failed"===a.rowData.status||"Rejected Offer"===a.rowData.status?e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteFailedInterview(a.rowData)}}},[t._v("\n                Del application\n              ")]):t._e(),t._v(" "),"Applied"===a.rowData.status?e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteApplicationn(a.rowData)}}},[t._v("\n                 Del application\n              ")]):t._e()])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Job Application",size:"lg","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAssignLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",id:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Death Of Birth")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.dob,"max-date":!1},on:{"on-change":function(e,a){t.form.dob=a}}}),t._v(" "),t.form.hasError("dob")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("dob"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Gender")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender",options:["male","female"],label:"name",reduce:function(t){return t},clearable:!1},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}}),t._v(" "),t.form.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Nationality")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nationality,expression:"form.nationality"}],staticClass:"form-control",attrs:{type:"text",id:"nationality"},domProps:{value:t.form.nationality},on:{input:function(e){e.target.composing||t.$set(t.form,"nationality",e.target.value)}}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("ID no")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id_no,expression:"form.id_no"}],staticClass:"form-control",attrs:{type:"text",id:"email"},domProps:{value:t.form.id_no},on:{input:function(e){e.target.composing||t.$set(t.form,"id_no",e.target.value)}}}),t._v(" "),t.form.hasError("id_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("id_no"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Residence")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.residence,expression:"form.residence"}],staticClass:"form-control",attrs:{type:"text",id:"email"},domProps:{value:t.form.residence},on:{input:function(e){e.target.composing||t.$set(t.form,"residence",e.target.value)}}}),t._v(" "),t.form.hasError("residence")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("residence"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Vacancy")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"vacancy_id",options:t.vacancies,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.vacancy_id,callback:function(e){t.$set(t.form,"vacancy_id",e)},expression:"form.vacancy_id"}}),t._v(" "),t.form.hasError("vacancy_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("vacancy_id"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Leave","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.editLeave.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Leave Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.leave_types,label:"leave_type_id",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.leave_type.name))])])])])]}}]),model:{value:t.form.employee_leave_type_id,callback:function(e){t.$set(t.form,"employee_leave_type_id",e)},expression:"form.employee_leave_type_id"}}),t._v(" "),t.form.hasError("leave_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("leave_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date "))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Return Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.return_date,"max-date":t.futureDate},on:{"on-change":function(e,a){t.form.return_date=a}}}),t._v(" "),t.form.hasError("return_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("return_date "))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"interview-schedule-modal",title:"Schedule an Interview","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.scheduleInterview.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"interview"},on:{submit:function(e){return e.preventDefault(),t.scheduleInterview.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.name,expression:"applicant.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"name"},domProps:{value:t.applicant.name},on:{input:function(e){e.target.composing||t.$set(t.applicant,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.email,expression:"applicant.email"}],staticClass:"form-control",attrs:{type:"email",disabled:"",id:"email"},domProps:{value:t.applicant.email},on:{input:function(e){e.target.composing||t.$set(t.applicant,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.phone,expression:"applicant.phone"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"phone"},domProps:{value:t.applicant.phone},on:{input:function(e){e.target.composing||t.$set(t.applicant,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Vacancy")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"vacancy_id",options:t.vacancies,label:"name",reduce:function(t){return t.id},clearable:!1,disabled:""},model:{value:t.interviewForm.vacancy_id,callback:function(e){t.$set(t.interviewForm,"vacancy_id",e)},expression:"interviewForm.vacancy_id"}}),t._v(" "),t.form.hasError("vacancy_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("vacancy_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Hiring Manager")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"interviewer_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1,disabled:""},model:{value:t.interviewForm.interviewer_id,callback:function(e){t.$set(t.interviewForm,"interviewer_id",e)},expression:"interviewForm.interviewer_id"}}),t._v(" "),t.interviewForm.hasError("interviewer_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("interviewer_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Interview Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.interviewForm.interview_title,expression:"interviewForm.interview_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.interviewForm.interview_title},on:{input:function(e){e.target.composing||t.$set(t.interviewForm,"interview_title",e.target.value)}}}),t._v(" "),t.interviewForm.hasError("interview_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("interview_title"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Date and Time")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth","enable-time":!0,"date-format":"Y-m-d H:i",value:t.interviewForm.date_and_time,"max-date":!1},on:{"on-change":function(e,a){t.interviewForm.date_and_time=a}}}),t._v(" "),t.interviewForm.hasError("date_and_time")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("date_and_time"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.interviewForm.notes,expression:"interviewForm.notes"}],staticClass:"form-control",domProps:{value:t.interviewForm.notes},on:{input:function(e){e.target.composing||t.$set(t.interviewForm,"notes",e.target.value)}}}),t._v(" "),t.interviewForm.hasError("notes")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("notes"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"interview-modal",title:"Interview","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.submitInterview.apply(null,arguments)}}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"interview"},on:{submit:function(e){return e.preventDefault(),t.submitInterview.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.name,expression:"applicant.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"name"},domProps:{value:t.applicant.name},on:{input:function(e){e.target.composing||t.$set(t.applicant,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.email,expression:"applicant.email"}],staticClass:"form-control",attrs:{type:"email",disabled:"",id:"email"},domProps:{value:t.applicant.email},on:{input:function(e){e.target.composing||t.$set(t.applicant,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Applicant phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.applicant.phone,expression:"applicant.phone"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"phone"},domProps:{value:t.applicant.phone},on:{input:function(e){e.target.composing||t.$set(t.applicant,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Vacancy")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"vacancy_id",options:t.vacancies,label:"name",reduce:function(t){return t.id},clearable:!1,disabled:""},model:{value:t.interviewForm.vacancy_id,callback:function(e){t.$set(t.interviewForm,"vacancy_id",e)},expression:"interviewForm.vacancy_id"}}),t._v(" "),t.form.hasError("vacancy_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("vacancy_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Interview Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.interview.interview_title,expression:"interview.interview_title"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.interview.interview_title},on:{input:function(e){e.target.composing||t.$set(t.interview,"interview_title",e.target.value)}}}),t._v(" "),t.interviewForm.hasError("interview_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("interview_title"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Interviewer")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"vacancy_id",options:t.employees,label:"name",disabled:"",reduce:function(t){return t.id},clearable:!1},model:{value:t.interview.interviewer_id,callback:function(e){t.$set(t.interview,"interviewer_id",e)},expression:"interview.interviewer_id"}}),t._v(" "),t.interviewForm.hasError("vacancy_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("vacancy_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Date and Time")]),t._v(" "),e("date-picker",{attrs:{disabled:"",name:"date_of_birth","enable-time":!0,"date-format":"Y-m-d H:i",value:t.interview.date_and_time,"max-date":!1},on:{"on-change":function(e,a){t.interview.date_and_time=a}}}),t._v(" "),t.interviewForm.hasError("date_and_time")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("date_and_time"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.interview.notes,expression:"interview.notes"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.interview.notes},on:{input:function(e){e.target.composing||t.$set(t.interview,"notes",e.target.value)}}}),t._v(" "),t.interviewForm.hasError("notes")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewForm.getError("notes"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Feedback")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.interviewResult.feedback,expression:"interviewResult.feedback"}],staticClass:"form-control",domProps:{value:t.interviewResult.feedback},on:{input:function(e){e.target.composing||t.$set(t.interviewResult,"feedback",e.target.value)}}}),t._v(" "),t.interviewResult.hasError("feedback")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.interviewResult.getError("feedback"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.interviewResult.interPassed,expression:"interviewResult.interPassed"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.interviewResult.interPassed)?t._i(t.interviewResult.interPassed,null)>-1:t.interviewResult.interPassed},on:{change:function(e){var a=t.interviewResult.interPassed,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.interviewResult,"interPassed",a.concat([null])):o>-1&&t.$set(t.interviewResult,"interPassed",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.interviewResult,"interPassed",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Passed interview")])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"job-offer-modal",title:"Job Offer","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.hire.apply(null,arguments)}}},[t._v("\n          Hire\n        ")])]}}])},[e("form",{attrs:{id:"interview"},on:{submit:function(e){return e.preventDefault(),t.hire.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Payroll number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.payroll_number,expression:"offerJob.payroll_number"}],staticClass:"form-control",attrs:{type:"text",id:"payroll_number"},domProps:{value:t.offerJob.payroll_number},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"payroll_number",e.target.value)}}}),t._v(" "),t.offerJob.hasError("payroll_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("payroll_number"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.name,expression:"offerJob.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.offerJob.name},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"name",e.target.value)}}}),t._v(" "),t.offerJob.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"dob"}},[t._v("Date of Birth")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.offerJob.dob,"max-date":!1},on:{"on-change":function(e,a){t.offerJob.dob=a}}}),t._v(" "),t.offerJob.hasError("dob")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("dob"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"gender"}},[t._v("Gender")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.gender,expression:"offerJob.gender"}],staticClass:"form-control",attrs:{type:"text",id:"gender"},domProps:{value:t.offerJob.gender},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"gender",e.target.value)}}}),t._v(" "),t.offerJob.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("gender"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.email,expression:"offerJob.email"}],staticClass:"form-control",attrs:{type:"email",id:"email"},domProps:{value:t.offerJob.email},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"email",e.target.value)}}}),t._v(" "),t.offerJob.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("email"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.phone,expression:"offerJob.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.offerJob.phone},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("Nationality")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.nationality,expression:"offerJob.nationality"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.offerJob.nationality},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"nationality",e.target.value)}}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("ID no")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.id_no,expression:"offerJob.id_no"}],staticClass:"form-control",attrs:{type:"text",id:"id_no"},domProps:{value:t.offerJob.id_no},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"id_no",e.target.value)}}}),t._v(" "),t.form.hasError("id_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("id_no"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Residence")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.residence,expression:"offerJob.residence"}],staticClass:"form-control",attrs:{type:"text",id:"residence"},domProps:{value:t.offerJob.residence},on:{input:function(e){e.target.composing||t.$set(t.offerJob,"residence",e.target.value)}}}),t._v(" "),t.offerJob.hasError("residence")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("residence"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"vacancy_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.offerJob.department_id,callback:function(e){t.$set(t.offerJob,"department_id",e)},expression:"offerJob.department_id"}}),t._v(" "),t.offerJob.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Type")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"job_group_id",options:t.employeetypes,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.offerJob.employee_type,callback:function(e){t.$set(t.offerJob,"employee_type",e)},expression:"offerJob.employee_type"}}),t._v(" "),t.offerJob.hasError("employee_type")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("employee_type"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Job Group")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"job_group_id",options:t.jobgroups,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.offerJob.job_group_id,callback:function(e){t.$set(t.offerJob,"job_group_id",e)},expression:"offerJob.job_group_id"}}),t._v(" "),t.offerJob.hasError("job_group_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.offerJob.getError("job_group_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerJob.activated,expression:"offerJob.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.offerJob.activated)?t._i(t.offerJob.activated,null)>-1:t.offerJob.activated},on:{change:function(e){var a=t.offerJob.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.offerJob,"activated",a.concat([null])):o>-1&&t.$set(t.offerJob,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.offerJob,"activated",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("activate")])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"application",title:"Application","hide-header-close":"",size:"lg","footer-class":"d-flex justify-content-start","modal-class":"modal-blur"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n          ")])]}}])},[e("div",{staticClass:"car"},[e("div",{staticClass:"card-ody"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 profile-info"},[e("b",[t._v("Name")]),t._v(" "),e("h4",{staticClass:"card-title"},[t._v(t._s(t.selectedApplicant.name))]),t._v(" "),e("b",[t._v("Email:")]),t._v(" "),e("p",[t._v(t._s(t.selectedApplicant.email))]),t._v(" "),e("b",[t._v("Phone:")]),t._v(" "),e("p",[t._v(t._s(t.selectedApplicant.phone))]),t._v(" "),e("b",[t._v("Gender:")]),t._v(" "),e("p",[e("span",{staticClass:"badge bg-primary"},[t._v(t._s(t.selectedApplicant.gender))])])]),t._v(" "),e("div",{staticClass:"col-md-6 profile-info"},[e("b",[t._v("Applied Pos")]),t._v(" "),e("p",{attrs:{if:"selectedApplication.vacancy"}},[t._v(t._s(t.selectedApplication.vacancy.name))])])])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports,l={props:{departments:{type:Array,default:function(){return[]}},employeetypes:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},managers:{type:Array,default:function(){return[]}},vacancies:{type:Array,default:function(){return[]}}},components:{Candidates:i,Vacancies:o},data:function(){return{}}};const c=(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("svg",{staticClass:"bi bi-people",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})]),t._v(" Candidates\n            ")]},proxy:!0}])},[t._v(" "),e("candidates",{attrs:{jobgroups:t.jobgroups,vacancies:t.vacancies,employeetypes:t.employeetypes,departments:t.departments}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Vacancies\n            ")]},proxy:!0}])},[t._v(" "),e("vacancies",{attrs:{jobgroups:t.jobgroups,departments:t.departments,managers:t.managers}})],1)],1)],1)])])}),[],!1,null,null,null).exports},8468:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const m={props:["locations"],data:function(){return{form:new window.Form({start_date:"",end_date:"",to_csv:!1})}},mounted:function(){this.locations=[].concat(c(this.locations),[{id:0,name:"all"}])},methods:{generateReport:function(){var t=this;this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employees-on-contract/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,t.$toast.error(e.response.data),t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-listing/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","employee_listing.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){404===e.response.status&&t.$toast.error("No records found"),console.error("Error exporting CSV:",e)}))}}};const u=(0,a(1900).Z)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("StartDate")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("EndDate")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("label",{staticClass:"form-label",attrs:{for:""}}),t._v(" "),e("br"),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                                Generate\n                            ")])])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Employees on Contact Report\n                            ")])])])}],!1,null,null,null).exports},8910:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const m={props:["locations"],data:function(){return{form:new window.Form({start_date:"",end_date:"",to_csv:!1})}},mounted:function(){this.locations=[].concat(c(this.locations),[{id:0,name:"all"}])},methods:{generateReport:function(){var t=this;this.form.to_csv?this.$httpClient.get("/reports/employees-upcoming-expirations/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,t.$toast.error(e.response.data),t.form.errors.record(e.response.data.errors)})):this.toCsv()},toCsv:function(){var t=this;this.$httpClient.get("/reports/employees-upcoming-expirations/generate",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Contract-expiration.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){404===e.response.status&&t.$toast.error("No records found"),console.error("Error exporting CSV:",e)}))}}};const u=(0,a(1900).Z)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",[e("div",{staticClass:"col-xl-4 d-grid mx-auto"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                                Generate\n                            ")])])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-5"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Upcoming Employee Contract Expirations Report\n                            ")])])])}],!1,null,null,null).exports},8086:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const m={props:["locations"],data:function(){return{form:new window.Form({location_id:"",to_csv:!1})}},mounted:function(){this.locations=[].concat(c(this.locations),[{id:0,name:"all"}])},methods:{generateReport:function(){var t=this;this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employee-listing/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,404===e.response.status&&t.$toast.error("No records found"),t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-listing/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","employee_listing.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(t){console.error("Error exporting CSV:",t)}))}}};const u=(0,a(1900).Z)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Location")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.locations,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.location_id,callback:function(e){t.$set(t.form,"location_id",e)},expression:"form.location_id"}}),t._v(" "),t.form.hasError("location_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("location_id"))}}):t._e()],1)])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Employee Listing Report\n              ")])])])}],!1,null,null,null).exports},8672:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:["employees"],data:function(){return{form:new window.Form({status:"",employee_id:"",year:(new Date).getFullYear(),to_csv:!1}),status:["Ongoing","Passed","Not Attended","Failed"]}},methods:{generateReport:function(){var t=this;this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/training/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){404===e.response.status&&t.$toast.error("No records found"),t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-listing/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","employee_listing.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(t){console.error("Error exporting CSV:",t)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{label:"name",options:t.employees,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Status")]),t._v(" "),e("v-select",{attrs:{label:"name",options:t.status,reduce:function(t){return t},clearable:!1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),t.form.hasError("status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("status"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"col-xl-12"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                            Generate\n                        ")])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Employee Training Report\n                            ")])])])}],!1,null,null,null).exports},7789:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:["employeetypes"],data:function(){return{form:new window.Form({employee_type_id:"",to_csv:!1})}},methods:{generateReport:function(){var t=this;this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employee-type/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){404===e.response.status&&t.$toast.error("No records found"),t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-listing/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","employee_listing.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(t){console.error("Error exporting CSV:",t)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-12 text-center"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label text-start",attrs:{for:"employee_type_id"}},[t._v("Type")]),t._v(" "),e("v-select",{attrs:{id:"employee_type_id",clearable:!1,reduce:function(t){return t.id},options:t.employeetypes,label:"name"},model:{value:t.form.employee_type_id,callback:function(e){t.$set(t.form,"employee_type_id",e)},expression:"form.employee_type_id"}}),t._v(" "),t.form.errors.has("employee_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("employee_type_id"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"col-xl-12 text-center"},[e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                                Generate\n                            ")])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Employee Type Report\n                            ")])])])}],!1,null,null,null).exports},2946:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{departments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{form:new window.Form({department_id:null,period:null,to_csv:!1})}},methods:{generateReport:function(){var t=this;null!=this.form.department_id||null!==this.form.period?(this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/performance-appraisal/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,404==e.response.status&&t.$toast.error("No record found")}))):this.$toast.error("Fill the form properly")},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-leave-balance/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","EMPLOYEE-LEAVE-BALANCES-".concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.departments,label:"name"},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.errors.has("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Period")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.period=a}}})],1)])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                            Generate\n                        ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                    Performance Appraisal\n                                ")])])])}],!1,null,null,null).exports},6524:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{departments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{form:new window.Form({department_id:"",year:(new Date).getFullYear(),to_csv:!1})}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employee-leave-balance/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-leave-balance/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","EMPLOYEE-LEAVE-BALANCES-".concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.departments,label:"name"},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.errors.has("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.errors.has("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Employee Leave Balance Report\n                            ")])])])}],!1,null,null,null).exports},8960:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{departments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{form:new window.Form({status:"",start_date:null,end_date:null,to_csv:!1}),options:["Approved","Rejected","Pending"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employee-leave-request/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,400===e.response.status&&t.$toast.error("No requests Found"),t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/employee-leave-balance/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","EMPLOYEE-LEAVE-BALANCES-".concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Request Status")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t},options:t.options,label:"name"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),t.form.errors.has("status")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("status"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Start Date")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.start_date},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.errors.has("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("End Date")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.end_date},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.errors.has("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("end_date"))}}):t._e()],1)])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Employee Leave Request Report\n                            ")])])])}],!1,null,null,null).exports},160:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"transfer_date",title:"Date",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee.name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:job_title",title:"Job Title",titleClass:"ps-1"},{name:"__slot:job_group",title:"Job Group",titleClass:"ps-1"},{name:"__slot:department",title:"Department",titleClass:"ps-1"},{name:"transfered_by.name",title:"Transfered By",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{search:""}}}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/transfers",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n\n\n              >\n            ")])])])]}},{key:"job_title",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.previous_job_title)+" ->  "+t._s(a.rowData.new_job_title))]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"job_group",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.previous_job_group.name)+" -> "+t._s(a.rowData.new_job_group.name))]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"department",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.previous_deparment.name)+" ->  "+t._s(a.rowData.new_deparment.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"})])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item text-danger",attrs:{disabled:"true",href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},6448:(t,e,a)=>{var s={"./auth.js":9854,"./patient.js":3150};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id=6448},4654:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[170,898],(()=>(e(8275),e(9043))));t.O()}]);