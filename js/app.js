/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkhr_management=self.webpackChunkhr_management||[]).push([[773],{8275:(t,e,a)=>{"use strict";var s=a(538),r=(a(9195),a(681),a(9301));function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}const n={props:{fields:{type:Array,required:!0},loadOnStart:{type:Boolean,default:!0},apiUrl:{type:String,default:""},devourModel:{type:String,default:""},httpMethod:{type:String,default:"get",validator:function(t){return["get","post"].indexOf(t)>-1}},reactiveApiUrl:{type:Boolean,default:!0},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},dataTotal:{type:Number,default:0},dataManager:{type:Function,default:null},dataPath:{type:String,default:"data"},paginationPath:{type:[String],default:"links.pagination"},queryParams:{type:[Object,Function],default:function(){return{sort:"sort",page:"page[number]",perPage:"page[size]"}}},appendParams:{type:Object,default:function(){return{}}},httpOptions:{type:Object,default:function(){return{}}},httpFetch:{type:Function,default:null},perPage:{type:Number,default:10},initialPage:{type:Number,default:1},sortOrder:{type:Array,default:function(){return[]}},multiSort:{type:Boolean,default:function(){return!1}},tableHeight:{type:String,default:null},multiSortKey:{type:String,default:"alt"},rowClassCallback:{type:[String,Function],default:""},rowClass:{type:[String,Function],default:""},detailRowComponent:{type:[String,Object],default:""},detailRowClass:{type:[String],default:"vuetable-detail-row bg-muted"},detailRowTransition:{type:String,default:""},trackBy:{type:String,default:"id"},css:{type:Object,default:function(){return{tableClass:"ui blue selectable celled stackable attached table",loadingClass:"loading",ascendingIcon:"blue chevron up icon",descendingIcon:"blue chevron down icon",ascendingClass:"sorted-asc",descendingClass:"sorted-desc",sortableIcon:"",detailRowClass:this.detailRowClass,handleIcon:"grey sidebar icon",tableBodyClass:"vuetable-semantic-no-top vuetable-fixed-layout",tableHeaderClass:"vuetable-fixed-layout thead-dark"}}},minRows:{type:Number,default:0},silent:{type:Boolean,default:!1},noDataTemplate:{type:String,default:function(){return"No Data Available"}},showSortIcons:{type:Boolean,default:!0}},data:function(){return{eventPrefix:"vuetable:",tableFields:[],tableData:null,tablePagination:null,currentPage:this.initialPage,selectedTo:[],visibleDetailRows:[],lastScrollPosition:0,scrollBarWidth:"17px",scrollVisible:!1}},computed:{useDetailRow:function(){return this.tableData&&this.tableData[0]&&""!==this.detailRowComponent&&void 0===this.tableData[0][this.trackBy]?(this.warn("You need to define unique row identifier in order for detail-row feature to work. Use `track-by` prop to define one!"),!1):""!==this.detailRowComponent},countVisibleFields:function(){return this.tableFields.filter((function(t){return t.visible})).length},countTableData:function(){return null===this.tableData?0:this.tableData.length},displayEmptyDataRow:function(){return 0===this.countTableData&&this.noDataTemplate.length>0},lessThanMinRows:function(){return null===this.tableData||0===this.tableData.length||this.tableData.length<this.minRows},blankRows:function(){return null===this.tableData||0===this.tableData.length?this.minRows:this.tableData.length>=this.minRows?0:this.minRows-this.tableData.length},isApiMode:function(){return this.apiMode},isDataMode:function(){return!this.apiMode},isFixedHeader:function(){return null!=this.tableHeight},isRowsSelected:function(){return this.selectedTo.length>0}},watch:{multiSort:function(t,e){!1===t&&this.sortOrder.length>1&&(this.sortOrder.splice(1),this.loadData())},apiUrl:function(t,e){this.reactiveApiUrl&&t!==e&&this.refresh()},data:function(t,e){this.setData(t)},tableHeight:function(t,e){this.fixHeader()}},mounted:function(){if(this.normalizeFields(),this.normalizeSortOrder(),this.isFixedHeader&&(this.scrollBarWidth=this.getScrollBarWidth()+"px"),this.$nextTick((function(){this.fireEvent("initialized",this.tableFields)})),this.loadOnStart&&this.loadData(),this.isFixedHeader){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&t.addEventListener("scroll",this.handleScroll)}},destroyed:function(){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&t.removeEventListener("scroll",this.handleScroll)},methods:{getScrollBarWidth:function(){var t=document.createElement("div"),e=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",e.style.width="100%",t.appendChild(e),document.body.appendChild(t);var a=t.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;return document.body.removeChild(t),a-s},handleScroll:function(t){var e=t.currentTarget.scrollLeft;if(e!=this.lastScrollPosition){var a=this.$el.getElementsByClassName("vuetable-head-wrapper")[0];null!=a&&(a.scrollLeft=e),this.lastScrollPosition=e}},normalizeFields:function(){if(void 0!==this.fields){this.tableFields=[];var t,e=this;this.fields.forEach((function(a,s){t="string"==typeof a?{name:a,title:e.setTitle(a),titleClass:"",dataClass:"",callback:null,visible:!0}:{name:a.name,width:a.width,title:void 0===a.title?e.setTitle(a.name):a.title,sortField:a.sortField,titleClass:void 0===a.titleClass?"":a.titleClass,dataClass:void 0===a.dataClass?"":a.dataClass,callback:void 0===a.callback?"":a.callback,visible:void 0===a.visible||a.visible},e.tableFields.push(t)}))}else this.warn('You need to provide "fields" prop.')},setData:function(t){if(null!=t){if(this.fireEvent("loading"),Array.isArray(t))return this.tableData=t,void this.fireEvent("loaded");this.tableData=this.getObjectValue(t,this.dataPath,null),this.tablePagination=this.getObjectValue(t,this.paginationPath,null),this.$nextTick((function(){this.fixHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")}))}},setTitle:function(t){return this.isSpecialField(t)?"":this.titleCase(t)},getTitle:function(t){return"function"==typeof t.title?t.title():void 0===t.title?t.name.replace("."," "):t.title},renderTitle:function(t){var e=this.getTitle(t);if(e.length>0&&this.isInCurrentSortGroup(t)||this.hasSortableIcon(t)){var a="opacity:".concat(this.sortIconOpacity(t),";position:relative;float:right");return e+" "+(this.showSortIcons?this.renderIconTag(["sort-icon",this.sortIcon(t)],'style="'.concat(a,'"')):"")}return e},renderSequence:function(t){return this.tablePagination?this.tablePagination.from+t:t},renderNormalField:function(t,e){return this.hasCallback(t)?this.callCallback(t,e):this.getObjectValue(e,t.name,"")},isSpecialField:function(t){return"__"===t.slice(0,2)},titleCase:function(t){return t.replace(/\w+/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},camelCase:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",a=this;return t.split(e).map((function(t){return a.titleCase(t)})).join("")},notIn:function(t,e){return-1===e.indexOf(t)},loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loadSuccess,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.loadFailed;if(!this.isDataMode)return this.fireEvent("loading"),this.httpOptions.params=this.getAppendParams(this.getAllQueryParams()),this.fetch(this.apiUrl,this.httpOptions).then(t,e).catch((function(){return e()}));this.callDataManager()},fetch:function(t,e){return(0,r.Z)(t,e)},loadSuccess:function(t){this.fireEvent("load-success",t);var e=this.transform(t.data);this.tableData=this.getObjectValue(e,this.dataPath,null),this.tablePagination=this.getObjectValue(e,this.paginationPath,null),null===this.tablePagination&&this.warn('vuetable: pagination-path "'+this.paginationPath+'" not found. It looks like the data returned from the sever does not have pagination information or you may have set it incorrectly.\nYou can explicitly suppress this warning by setting pagination-path="".'),this.$nextTick((function(){this.fixHeader(),this.fireEvent("pagination-data",this.tablePagination),this.fireEvent("loaded")}))},fixHeader:function(){if(this.isFixedHeader){var t=this.$el.getElementsByClassName("vuetable-body-wrapper")[0];null!=t&&(t.scrollHeight>t.clientHeight?this.scrollVisible=!0:this.scrollVisible=!1)}},loadFailed:function(t){console.error("load-error",t),this.fireEvent("load-error",t),this.fireEvent("loaded")},transform:function(t){var e="transform";return this.parentFunctionExists(e)?this.$parent[e].call(this.$parent,t):t},parentFunctionExists:function(t){return""!==t&&"function"==typeof this.$parent[t]},callParentFunction:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.parentFunctionExists(t)?this.$parent[t].call(this.$parent,e):a},fireEvent:function(t,e){this.$emit(this.eventPrefix+t,e)},warn:function(t){this.silent||console.warn(t)},getAllQueryParams:function(){var t={};return"function"==typeof this.queryParams?"object"!==o(t=this.queryParams(this.sortOrder,this.currentPage,this.perPage))?{}:t:(t[this.queryParams.sort]=this.getSortParam(),t[this.queryParams.page]=this.currentPage,t[this.queryParams.perPage]=this.perPage,t)},getSortParam:function(){return this.sortOrder&&""!=this.sortOrder.field?"function"==typeof this.$parent.getSortParam?this.$parent.getSortParam.call(this.$parent,this.sortOrder):this.getDefaultSortParam():""},getDefaultSortParam:function(){for(var t="",e=0;e<this.sortOrder.length;e++){t+=(void 0===this.sortOrder[e].sortField?this.sortOrder[e].field:this.sortOrder[e].sortField)+"|"+this.sortOrder[e].direction+(e+1<this.sortOrder.length?",":"")}return t},getAppendParams:function(t){for(var e in this.appendParams)t[e]=this.appendParams[e];return t},extractName:function(t){return t.split(":")[0].trim()},extractArgs:function(t){return t.split(":")[1]},isSortable:function(t){return!(void 0===t.sortField)},isInCurrentSortGroup:function(t){return!1!==this.currentSortOrderPosition(t)},hasSortableIcon:function(t){return this.isSortable(t)&&""!=this.css.sortableIcon},currentSortOrderPosition:function(t){if(!this.isSortable(t))return!1;for(var e=0;e<this.sortOrder.length;e++)if(this.fieldIsInSortOrderPosition(t,e))return e;return!1},fieldIsInSortOrderPosition:function(t,e){return this.sortOrder[e].field===t.name&&this.sortOrder[e].sortField===t.sortField},orderBy:function(t,e){if(this.isSortable(t)){var a=this.multiSortKey.toLowerCase()+"Key";this.multiSort&&e[a]?this.multiColumnSort(t):this.singleColumnSort(t),this.currentPage=1,(this.apiMode||this.dataManager)&&this.loadData()}},multiColumnSort:function(t){var e=this.currentSortOrderPosition(t);!1===e?this.sortOrder.push({field:t.name,sortField:t.sortField,direction:"asc"}):"asc"===this.sortOrder[e].direction?this.sortOrder[e].direction="desc":this.sortOrder.splice(e,1)},singleColumnSort:function(t){0===this.sortOrder.length&&this.clearSortOrder(),this.sortOrder.splice(1),this.fieldIsInSortOrderPosition(t,0)?this.sortOrder[0].direction="asc"===this.sortOrder[0].direction?"desc":"asc":this.sortOrder[0].direction="asc",this.sortOrder[0].field=t.name,this.sortOrder[0].sortField=t.sortField},clearSortOrder:function(){this.sortOrder.push({field:"",sortField:"",direction:"asc"})},sortClass:function(t){var e="",a=this.currentSortOrderPosition(t);return!1!==a&&(e="asc"==this.sortOrder[a].direction?this.css.ascendingClass:this.css.descendingClass),e},sortIcon:function(t){var e=this.css.sortableIcon,a=this.currentSortOrderPosition(t);return!1!==a&&(e="asc"==this.sortOrder[a].direction?this.css.ascendingIcon:this.css.descendingIcon),e},sortIconOpacity:function(t){var e=.3,a=this.sortOrder.length;return 1-a*e<.3&&(e=.7/(a-1)),1-this.currentSortOrderPosition(t)*e},hasCallback:function(t){return!!t.callback},callCallback:function(t,e){if(this.hasCallback(t)){if("function"==typeof t.callback)return t.callback(this.getObjectValue(e,t.name));var a=t.callback.split("|"),s=a.shift();if("function"==typeof this.$parent[s]){var r=this.getObjectValue(e,t.name);return a.length>0?this.$parent[s].apply(this.$parent,[r].concat(a)):this.$parent[s].call(this.$parent,r)}return null}},getObjectValue:function(t,e,a){a=void 0===a?null:a;var s=t;""!=e.trim()&&e.split(".").forEach((function(t){s=null!==s&&void 0!==s[t]&&null!==s[t]?s[t]:a}));return s},toggleCheckbox:function(t,e,a){var s=a.target.checked,r=this.trackBy;if(void 0!==t[r]){var o=t[r];s?this.selectId(o):this.unselectId(o),this.$emit("vuetable:checkbox-toggled",s,t)}else this.warn('__checkbox field: The "'+this.trackBy+'" field does not exist! Make sure the field you specify in "track-by" prop does exist.')},selectId:function(t){this.isSelectedRow(t)||this.selectedTo.push(t)},unselectId:function(t){this.selectedTo=this.selectedTo.filter((function(e){return e!==t}))},isSelectedRow:function(t){return this.selectedTo.indexOf(t)>=0},rowSelected:function(t,e){var a=t[this.trackBy];return this.isSelectedRow(a)},isTableRowsSelected:function(){return this.selectedTo.length>0},checkCheckboxesState:function(t){if(this.tableData){var e=this,a=this.trackBy,s="th.vuetable-th-checkbox-"+a+" input[type=checkbox]",r=document.querySelectorAll(s);void 0===r.forEach&&(r.forEach=function(t){[].forEach.call(r,t)});var o=this.tableData.filter((function(t){return e.selectedTo.indexOf(t[a])>=0}));return o.length<=0?(r.forEach((function(t){t.indeterminate=!1})),!1):o.length<this.perPage?(r.forEach((function(t){t.indeterminate=!0})),!0):(r.forEach((function(t){t.indeterminate=!1})),!0)}},toggleAllCheckboxes:function(t,e){var a=this,s=e.target.checked,r=this.trackBy;s?this.tableData.forEach((function(t){a.selectId(t[r])})):this.tableData.forEach((function(t){a.unselectId(t[r])})),this.$emit("vuetable:checkbox-toggled-all",s)},gotoPreviousPage:function(){this.currentPage>1&&(this.currentPage--,this.loadData())},gotoNextPage:function(){this.currentPage<this.tablePagination.last_page&&(this.currentPage++,this.loadData())},gotoPage:function(t){t!=this.currentPage&&t>0&&t<=this.tablePagination.last_page&&(this.currentPage=t,this.loadData())},isVisibleDetailRow:function(t){return this.visibleDetailRows.indexOf(t)>=0},showDetailRow:function(t){this.isVisibleDetailRow(t)||this.visibleDetailRows.push(t)},hideDetailRow:function(t){this.isVisibleDetailRow(t)&&this.visibleDetailRows.splice(this.visibleDetailRows.indexOf(t),1)},toggleDetailRow:function(t){this.isVisibleDetailRow(t)?this.hideDetailRow(t):this.showDetailRow(t)},showField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!0)},hideField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!1)},toggleField:function(t){t<0||t>this.tableFields.length||(this.tableFields[t].visible=!this.tableFields[t].visible)},renderIconTag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return void 0===this.css.renderIcon?'<i class="'.concat(t.join(" "),'" ').concat(e,"></i>"):this.css.renderIcon(t,e)},makePagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{total:t=null===t?this.dataTotal:t,"page[size]":e=null===e?this.perPage:e,current_page:a=null===a?this.currentPage:a,last_page:Math.ceil(t/e)||0,next_page_url:"",prev_page_url:"",from:(a-1)*e+1,to:Math.min(a*e,t)}},normalizeSortOrder:function(){this.sortOrder.forEach((function(t){t.sortField=t.sortField||t.field}))},callDataManager:function(){if(null!==this.dataManager||null!==this.data)return Array.isArray(this.data)?this.setData(this.data):(this.normalizeSortOrder(),this.setData(this.dataManager?this.dataManager(this.sortOrder,this.makePagination()):this.data))},onRowClass:function(t,e){if(""===this.rowClassCallback)return"function"==typeof this.rowClass?this.rowClass(t,e):this.rowClass;this.warn('"row-class-callback" prop is deprecated, please use "row-class" prop instead.')},onRowChanged:function(t){return this.fireEvent("row-changed",t),!0},onRowClicked:function(t,e){return this.$emit(this.eventPrefix+"row-clicked",t,e),!0},onRowDoubleClicked:function(t,e){this.$emit(this.eventPrefix+"row-dblclicked",t,e)},onDetailRowClick:function(t,e){this.$emit(this.eventPrefix+"detail-row-clicked",t,e)},onCellClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-clicked",t,e,a)},onCellDoubleClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-dblclicked",t,e,a)},onCellRightClicked:function(t,e,a){this.$emit(this.eventPrefix+"cell-rightclicked",t,e,a)},changePage:function(t){"prev"===t?this.gotoPreviousPage():"next"===t?this.gotoNextPage():this.gotoPage(t)},reload:function(){return this.loadData()},refresh:function(){return this.currentPage=1,this.loadData()},resetData:function(){this.tableData=null,this.tablePagination=null,this.fireEvent("data-reset")}}},i=n;var l=a(3379),c=a.n(l),d=a(2049),m={insert:"head",singleton:!1};c()(d.Z,m);d.Z.locals;var u=a(1900);const p=(0,u.Z)(i,(function(){var t=this,e=t._self._c;return t.isFixedHeader?e("div",[e("div",{staticClass:"vuetable-head-wrapper"},[e("table",{class:["vuetable",t.css.tableClass]},[e("thead",{class:["thead-light",t.css.tableHeaderClass]},[e("tr",[t._l(t.tableFields,(function(a,s){return[a.visible?[t.isSpecialField(a.name)?["__checkbox"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-checkbox-"+t.trackBy,a.titleClass],style:{width:a.width}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkCheckboxesState(a.name)},on:{change:function(e){return t.toggleAllCheckboxes(a.name,e)}}})]):t._e(),t._v(" "),"__component"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-component-"+t.trackBy,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__slot"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-slot-"+t.extractArgs(a.name),a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__sequence"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-sequence",a.titleClass||""],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e(),t._v(" "),t.notIn(t.extractName(a.name),["__sequence","__checkbox","__component","__slot"])?e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass||""],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e()]:[e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},attrs:{id:"_"+a.name},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}})]]:t._e()]})),t._v(" "),t.scrollVisible?e("th",{staticClass:"vuetable-gutter-col",style:{width:t.scrollBarWidth}}):t._e()],2)])])]),t._v(" "),e("div",{staticClass:"vuetable-body-wrapper",style:{height:t.tableHeight}},[e("table",{class:["vuetable",t.css.tableClass,t.css.tableBodyClass]},[e("colgroup",[t._l(t.tableFields,(function(a,s){return[a.visible?[e("col",{key:s,class:["vuetable-th-"+a.name,a.titleClass],style:{width:a.width},attrs:{id:"_col_"+a.name}})]:t._e()]}))],2),t._v(" "),e("tbody",{staticClass:"vuetable-body"},[t._l(t.tableData,(function(a,s){return[e("tr",{key:s,class:t.onRowClass(a,s),attrs:{"item-index":s,render:t.onRowChanged(a)},on:{click:function(e){return t.onRowClicked(a,e)},dblclick:function(e){return t.onRowDoubleClicked(a,e)}}},[t._l(t.tableFields,(function(r,o){return[r.visible?[t.isSpecialField(r.name)?["__sequence"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-sequence",r.dataClass],domProps:{innerHTML:t._s(t.renderSequence(s))}}):t._e(),t._v(" "),"__handle"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-handle",r.dataClass],domProps:{innerHTML:t._s(t.renderIconTag(["handle-icon",t.css.handleIcon]))}}):t._e(),t._v(" "),"__checkbox"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-checkboxes",r.dataClass]},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.rowSelected(a,r.name)},on:{change:function(e){return t.toggleCheckbox(a,r.name,e)}}})]):t._e(),t._v(" "),"__component"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-component",r.dataClass]},[e(t.extractArgs(r.name),{tag:"component",attrs:{"row-data":a,"row-index":s,"row-field":r.sortField}})],1):t._e(),t._v(" "),"__slot"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-slot",r.dataClass]},[t._t(t.extractArgs(r.name),null,{rowData:a,rowIndex:s,rowField:r.sortField})],2):t._e()]:[e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.renderNormalField(r,a))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}})]]:t._e()]}))],2),t._v(" "),t.useDetailRow?[e("transition",{key:s,attrs:{name:t.detailRowTransition}},[t.isVisibleDetailRow(a[t.trackBy])?e("tr",{class:[t.css.detailRowClass],on:{click:function(e){return t.onDetailRowClick(a,e)}}},[e("td",{attrs:{colspan:t.countVisibleFields}},[e(t.detailRowComponent,{tag:"component",attrs:{"row-data":a,"row-index":s}})],1)]):t._e()])]:t._e()]})),t._v(" "),t.displayEmptyDataRow?[e("tr",[e("td",{staticClass:"vuetable-empty-result",attrs:{colspan:t.countVisibleFields},domProps:{innerHTML:t._s(t.noDataTemplate)}})])]:t._e(),t._v(" "),t.lessThanMinRows?t._l(t.blankRows,(function(a){return e("tr",{key:a,staticClass:"blank-row"},[t._l(t.tableFields,(function(a,s){return[a.visible?e("td",{key:s},[t._v("\n                               \n              ")]):t._e()]}))],2)})):t._e()],2)])])]):e("table",{class:["vuetable",t.css.tableClass]},[e("thead",[e("tr",{staticClass:"fixed-top"},[t._l(t.tableFields,(function(a,s){return[a.visible?[t.isSpecialField(a.name)?["__checkbox"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-checkbox-"+t.trackBy,a.titleClass],style:{width:a.width}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkCheckboxesState(a.name)},on:{change:function(e){return t.toggleAllCheckboxes(a.name,e)}}})]):t._e(),t._v(" "),"__component"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-component-"+t.trackBy,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__slot"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-slot-"+t.extractArgs(a.name),a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}}):t._e(),t._v(" "),"__sequence"==t.extractName(a.name)?e("th",{key:s,class:["vuetable-th-sequence",a.titleClass||"",t.sortClass(a)],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e(),t._v(" "),t.notIn(t.extractName(a.name),["__sequence","__checkbox","__component","__slot"])?e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass||"",t.sortClass(a)],style:{width:a.width},domProps:{innerHTML:t._s(t.renderTitle(a))}}):t._e()]:[e("th",{key:s,class:["vuetable-th-"+a.name,a.titleClass,t.sortClass(a),{sortable:t.isSortable(a)}],style:{width:a.width},attrs:{id:"_"+a.name},domProps:{innerHTML:t._s(t.renderTitle(a))},on:{click:function(e){return t.orderBy(a,e)}}})]]:t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"vuetable-body"},[t._l(t.tableData,(function(a,s){return[e("tr",{key:s,class:t.onRowClass(a,s),attrs:{"item-index":s,render:t.onRowChanged(a)},on:{dblclick:function(e){return t.onRowDoubleClicked(a,e)},click:function(e){return t.onRowClicked(a,e)}}},[t._l(t.tableFields,(function(r,o){return[r.visible?[t.isSpecialField(r.name)?["__sequence"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-sequence",r.dataClass],domProps:{innerHTML:t._s(t.renderSequence(s))}}):t._e(),t._v(" "),"__handle"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-handle",r.dataClass],domProps:{innerHTML:t._s(t.renderIconTag(["handle-icon",t.css.handleIcon]))}}):t._e(),t._v(" "),"__checkbox"==t.extractName(r.name)?e("td",{key:o,class:["vuetable-checkboxes",r.dataClass]},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.rowSelected(a,r.name)},on:{change:function(e){return t.toggleCheckbox(a,r.name,e)}}})]):t._e(),t._v(" "),"__component"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-component",r.dataClass]},[e(t.extractArgs(r.name),{tag:"component",attrs:{"row-data":a,"row-index":s,"row-field":r.sortField}})],1):t._e(),t._v(" "),"__slot"===t.extractName(r.name)?e("td",{key:o,class:["vuetable-slot",r.dataClass]},[t._t(t.extractArgs(r.name),null,{rowData:a,rowIndex:s,rowField:r.sortField})],2):t._e()]:[t.hasCallback(r)?e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.callCallback(r,a))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}}):e("td",{key:o,class:r.dataClass,domProps:{innerHTML:t._s(t.getObjectValue(a,r.name,""))},on:{click:function(e){return t.onCellClicked(a,r,e)},dblclick:function(e){return t.onCellDoubleClicked(a,r,e)},contextmenu:function(e){return t.onCellRightClicked(a,r,e)}}})]]:t._e()]}))],2),t._v(" "),t.useDetailRow?[e("transition",{key:s,attrs:{name:t.detailRowTransition}},[t.isVisibleDetailRow(a[t.trackBy])?e("tr",{class:[t.css.detailRowClass],on:{click:function(e){return t.onDetailRowClick(a,e)}}},[e("td",{attrs:{colspan:t.countVisibleFields}},[e(t.detailRowComponent,{tag:"component",attrs:{"row-data":a,"row-index":s}})],1)]):t._e()])]:t._e()]})),t._v(" "),t.displayEmptyDataRow?[e("tr",[e("td",{staticClass:"vuetable-empty-result",attrs:{colspan:t.countVisibleFields},domProps:{innerHTML:t._s(t.noDataTemplate)}})])]:t._e(),t._v(" "),t.lessThanMinRows?t._l(t.blankRows,(function(a){return e("tr",{key:a,staticClass:"blank-row"},[t._l(t.tableFields,(function(a,s){return[a.visible?e("td",{key:s},[t._v("\n                       \n          ")]):t._e()]}))],2)})):t._e()],2)])}),[],!1,null,"52787ff2",null).exports;const f={props:{css:{type:Object,default:function(){return{wrapperClass:"ui right floated pagination menu",activeClass:"active large",disabledClass:"disabled",pageClass:"item",linkClass:"icon item",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"angle double left icon",prev:"left chevron icon",next:"right chevron icon",last:"angle double right icon"}}}},onEachSide:{type:Number,default:function(){return 2}}},data:function(){return{eventPrefix:"vuetable-pagination:",tablePagination:null}},computed:{totalPage:function(){return null===this.tablePagination?0:this.tablePagination.last_page},isOnFirstPage:function(){return null!==this.tablePagination&&1===this.tablePagination.current_page},isOnLastPage:function(){return null!==this.tablePagination&&this.tablePagination.current_page===this.tablePagination.last_page},notEnoughPages:function(){return this.totalPage<2*this.onEachSide+4},windowSize:function(){return 2*this.onEachSide+1},windowStart:function(){return!this.tablePagination||this.tablePagination.current_page<=this.onEachSide?1:this.tablePagination.current_page>=this.totalPage-this.onEachSide?this.totalPage-2*this.onEachSide:this.tablePagination.current_page-this.onEachSide}},methods:{loadPage:function(t){this.$emit(this.eventPrefix+"change-page",t)},isCurrentPage:function(t){return t===this.tablePagination.current_page},setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}};const v={mixins:[(0,u.Z)(f,undefined,undefined,!1,null,null,null).exports]};const _=(0,u.Z)(v,(function(){var t=this,e=t._self._c;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination pagination-sm"},[e("li",{staticClass:"page-item",class:{"previous disabled":t.isOnFirstPage}},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"},on:{click:function(e){return e.preventDefault(),t.loadPage("prev")}}},[t._v("Prev\n                "),e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),e("polyline",{attrs:{points:"15 6 9 12 15 18"}})])])]),t._v(" "),t.notEnoughPages?t._l(t.totalPage,(function(a){return e("li",{staticClass:"page-item",class:{active:t.isCurrentPage(a)}},[e("a",{staticClass:"page-link",attrs:{href:"#"},domProps:{innerHTML:t._s(a)},on:{click:function(e){return e.preventDefault(),t.loadPage(a)}}})])})):t._l(t.windowSize,(function(a){return e("li",{staticClass:"page-item",class:{"page-item active":t.isCurrentPage(t.windowStart+a-1)}},[e("a",{staticClass:"page-link",attrs:{href:"#"},domProps:{innerHTML:t._s(t.windowStart+a-1)},on:{click:function(e){return e.preventDefault(),t.loadPage(t.windowStart+a-1)}}},[t._v("Next")])])})),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:t.isOnLastPage}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loadPage("next")}}},[t._v("\n                Next\n                "),e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[e("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),e("polyline",{attrs:{points:"9 6 15 12 9 18"}})])])])],2)])}),[],!1,null,null,null).exports;const b={props:{css:{type:Object,default:function(){return{infoClass:"left floated left aligned six wide column"}}},infoTemplate:{type:String,default:function(){return"Displaying {from} to {to} of {total} entries"}},noDataTemplate:{type:String,default:function(){return"No relevant data"}}},data:function(){return{tablePagination:null}},computed:{paginationInfo:function(){return null==this.tablePagination||0==this.tablePagination.total?this.noDataTemplate:this.infoTemplate.replace("{from}",this.tablePagination.from||0).replace("{to}",this.tablePagination.to||0).replace("{total}",this.tablePagination.total||0)}},methods:{setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}};const h={mixins:[(0,u.Z)(b,undefined,undefined,!1,null,null,null).exports]};const y=(0,u.Z)(h,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.paginationInfo)}})}),[],!1,null,null,null).exports,g={table:{tableClass:"table card-table",tableHeaderClass:"mb-0",tableBodyClass:"mb-0",ascendingIcon:"text-indigo uil uil-arrow-up",descendingIcon:"text-indigo uil uil-arrow-down",handleIcon:"glyphicon glyphicon-menu-hamburger",detailRowClass:"vuetable-detail-row bg-muted-lt",renderIcon:function(t,e){return'<i class="'.concat(t.join(" "),'"></i>')}},pagination:{wrapperClass:"pagination",activeClass:"page-item active",disabledClass:"disabled",pageClass:"page-link",linkClass:"page-link",icons:{first:"",prev:"&laquo;",next:"&raquo;",last:""}},paginationInfo:{infoClass:"text-muted"}};const C={data:function(){return{filterText:""}},methods:{doFilter:function(){this.$emit("filter-set",this.filterText)},resetFilter:function(){this.filterText="",this.$emit("filter-reset")}}};var w=a(6667),x={insert:"head",singleton:!1};c()(w.Z,x);w.Z.locals;const k=(0,u.Z)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dataTables_filter text-md-right"},[e("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n    Search "),e("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doFilter.apply(null,arguments)}},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1)])}),[],!1,null,null,null).exports;const P={data:function(){return{perPage:60,limits:[30,90,200]}},created:function(){},methods:{changeLimit:function(){this.$emit("limit-changed",this.perPage)}}};const E=(0,u.Z)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dataTables_length"},[e("label",{staticClass:"d-inline-flex align-items-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-select form-select-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?a:a[0]},t.changeLimit]}},t._l(t.limits,(function(a){return e("option",{domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)])])}),[],!1,null,"371d69b0",null).exports;s.default.component("FilterBar",k),s.default.component("PerPage",E);const F={name:"VueTable",components:{Vuetable:p,VuetablePaginationBootstrap:_,VuetablePaginationInfo:y},props:{css:{type:Object,default:function(){return g}},showFilter:{type:Boolean,default:function(){return!0}},showPagination:{type:Boolean,default:function(){return!0}},showPerPage:{type:Boolean,default:function(){return!0}},apiUrl:{type:String,default:""},apiMode:{type:Boolean,default:!0},data:{type:[Array,Object],default:null},fields:{type:Array,required:!0},dataPath:{type:String,default:"data"},sortOrder:{type:Array,default:function(){return[]}},appendParams:{type:Object,default:function(){return{}}},perPage:{type:[Number],default:60},onRowClass:{type:Function,default:function(){return null}},dataManager:{type:Function,default:function(){return null}},transformData:{type:Function,default:function(){return null}},paginationPath:{type:String,default:"meta"},detailRowComponent:{type:[String,Object],default:""},detailRowClass:{type:[String],default:"vuetable-detail-row bg-muted"},loadOnStart:{type:Boolean,default:!0},tableHeight:{type:String,default:null}},data:function(){return{tableCss:this.css,showOverlay:!1}},mounted:function(){var t=this;this.$on("filter-set",(function(e){return t.onFilterSet(e)})),this.$on("filter-reset",(function(e){return t.onFilterReset(e)})),this.$on("limit-changed",(function(e){return t.onLimitSet(e)}))},methods:{onPaginationData:function(t){this.$refs.pagination.setPaginationData(t)},onChangePage:function(t){this.$refs.vuetable.changePage(t)},onCellClicked:function(t,e,a){this.$refs.vuetable.toggleDetailRow(t.id),this.$emit("vuetable:cell-clicked",t,e,a)},onRowClicked:function(t,e,a){this.$emit("vuetable:row-clicked",t,e,a)},showLoader:function(){this.showOverlay=!0},loadedSuccess:function(t){this.$emit("vuetable:load-success",t),this.hideLoader()},loadError:function(t){this.$emit("vuetable:load-error",t),this.hideLoader()},hideLoader:function(t){this.$emit("vuetable:loaded",t),this.showOverlay=!1},onCheckBoxToggled:function(t,e){this.$emit("vuetable:checkbox-toggled",t,e)},onCheckBoxToggledAll:function(t){this.$emit("vuetable:checkbox-toggled-all",t)},onFilterSet:function(t){var e=this;this.appendParams.filter=t,s.default.nextTick((function(){return e.$refs.vuetable.refresh()}))},onFilterReset:function(){delete this.appendParams.filterText,this.$refs.vuetable.refresh()},onLimitSet:function(t){var e=this;this.perPage=t,s.default.nextTick((function(){return e.$refs.vuetable.refresh()}))},httpFetch:function(t,e){return r.Z.get(t,e)}}};var $=a(7475),D={insert:"head",singleton:!1};c()($.Z,D);$.Z.locals;const S=(0,u.Z)(F,(function(){var t=this,e=t._self._c;return e("div",[e("b-overlay",{attrs:{show:t.showOverlay,opacity:"0.9",rounded:"sm","spinner-variant":"primary","spinner-small":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive-sm"},[e("Vuetable",{ref:"vuetable",attrs:{id:"vuetable","api-url":t.apiUrl,"api-mode":t.apiMode,data:t.data,"http-fetch":t.httpFetch,fields:t.fields,"table-height":t.tableHeight,"pagination-path":t.paginationPath,"per-page":t.perPage,"row-class":t.onRowClass,css:t.tableCss.table,"sort-order":t.sortOrder,"multi-sort":!1,"append-params":t.appendParams,"load-on-start":t.loadOnStart,"data-manager":t.dataManager,transform:t.transformData,"detail-row-component":t.detailRowComponent},on:{"vuetable:cell-clicked":t.onCellClicked,"vuetable:row-clicked":t.onRowClicked,"vuetable:cell-row":t.onRowClicked,"vuetable:checkbox-toggled":t.onCheckBoxToggled,"vuetable:checkbox-toggled-all":t.onCheckBoxToggledAll,"vuetable:pagination-data":t.onPaginationData,"vuetable:loading":t.showLoader,"vuetable:load-success":t.loadedSuccess,"vuetable:loaded":t.hideLoader,"vuetable:load-error":t.loadError},scopedSlots:t._u([t._l(t.$scopedSlots?Object.keys(t.$scopedSlots):null,(function(e){return{key:e,fn:function(a){return[t._t(e,null,{rowData:a.rowData,rowIndex:a.rowIndex,rowField:a.rowField})]}}}))],null,!0)})],1),t._v(" "),t.showPagination?e("div",{staticClass:"d-flex justify-content-end align-items-baseline px-3 pt-3 bg-light"},[e("vuetable-pagination-bootstrap",{ref:"pagination",attrs:{css:t.css.pagination},on:{"vuetable-pagination:change-page":t.onChangePage}})],1):t._e()])])])],1)}),[],!1,null,"3ba4c6e5",null).exports;var A=a(6945),O=a.n(A);a(2977),a(6561);const j={name:"DatePicker",components:{flatPickr:O()},props:{value:{required:!0},placeholder:{type:String,default:""},formclass:{type:String,default:"form-control bg-white"},dateFormat:{default:"Y-m-d"},altFormat:{type:String,default:"F j, Y"},wrap:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},monthSelectorType:{type:String,default:"dropdown"},mode:{type:String,default:"single"},position:{type:String,default:"auto center"},maxDate:{default:""},minDate:{default:""},defaultDate:{type:[String,Array],default:""},disabled:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1}},data:function(){return{date:this.value,config:{wrap:!1,altFormat:this.altFormat,altInputClass:this.formclass,placeholder:this.placeholder,altInput:!0,dateFormat:this.dateFormat,enableTime:this.enableTime,inline:this.inline,mode:this.mode,position:this.position,maxDate:this.maxDate,minDate:this.minDate,defaultDate:this.defaultDate,monthSelectorType:this.monthSelectorType,noCalendar:this.noCalendar}}},watch:{defaultDate:function(t,e){this.$refs.flatpickr.fp.setDate(t,!0)}},methods:{onChange:function(t,e,a){this.$emit("on-change",t,e,a)},onClose:function(t,e,a){this.$emit("on-close",t,e,a)},onOpen:function(){}}};const N=(0,u.Z)(j,(function(){var t=this;return(0,t._self._c)("flat-pickr",{ref:"flatpickr",attrs:{placeholder:t.placeholder,config:t.config,disabled:t.disabled},on:{"on-change":t.onChange,"on-close":t.onClose},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})}),[],!1,null,null,null).exports;const T={name:"medic-money",components:{Money:a(9178).Money},props:{title:{type:String,default:"",description:"Selectbox label text"},placeholder:{type:String,default:"",description:"Selectbox input placeholder text"},name:{type:String,default:null,description:"Selectbox attribute name"},value:0,icon:{type:String,description:"Prepend icon (left)"},moneyClass:{type:String,default:null,description:"Selectbox disabled status"},group_class:{type:String,default:null,description:"Selectbox disabled status"},col:{type:String,default:null,description:"Selectbox disabled status"},error:{type:String,default:null,description:"Selectbox disabled status"},required:{type:Boolean,default:!1,description:"Selectbox disabled status"},readonly:{type:Boolean,default:!1,description:"Selectbox disabled status"},disabled:{type:[Boolean,Number],default:!1,description:"Selectbox disabled status"},dynamicCurrency:{type:Object,default:function(){return{decimal_mark:".",thousands_separator:",",symbol_first:1,symbol:"$",precision:2}},description:"Dynamic currency"},currency:{type:Object,default:function(){return{decimal_mark:".",thousands_separator:",",symbol_first:1,symbol:"KES ",precision:2}},description:"Default currency"},masked:{type:Boolean,default:!1,description:"Money result value"},rowInput:{type:Boolean,default:!1,description:"Money result value"}},data:function(){return{model:this.value,money:{decimal:this.currency.decimal_mark,thousands:this.currency.thousands_separator,prefix:this.currency.symbol_first?this.currency.symbol:"",suffix:this.currency.symbol_first?"":this.currency.symbol,precision:parseInt(this.currency.precision),masked:this.masked}}},mounted:function(){this.dynamicCurrency.code!=this.currency.code&&(this.dynamicCurrency.decimal?this.money=this.dynamicCurrency:this.money={decimal:this.dynamicCurrency.decimal_mark,thousands:this.dynamicCurrency.thousands_separator,prefix:this.dynamicCurrency.symbol_first?this.dynamicCurrency.symbol:"",suffix:this.dynamicCurrency.symbol_first?"":this.dynamicCurrency.symbol,precision:parseInt(this.dynamicCurrency.precision),masked:this.masked}),this.$emit("interface",this.model)},methods:{change:function(){this.$emit("input",this.model)},input:function(t){this.model=t,this.$emit("input",t)}},watch:{dynamicCurrency:function(t){t&&(this.money={decimal:t.decimal_mark,thousands:t.thousands_separator,prefix:t.symbol_first?t.symbol:"",suffix:t.symbol_first?"":t.symbol,precision:parseInt(t.precision),masked:this.masked})},value:function(t){this.model=t},model:function(t){this.$emit("change",this.model),this.$emit("interface",this.model)}}};var M=a(1112),R={insert:"head",singleton:!1};c()(M.Z,R);M.Z.locals;[S,N,(0,u.Z)(T,(function(){var t=this,e=t._self._c;return t.rowInput?e("div",{class:[{"has-error":t.error},{required:t.required},{readonly:t.readonly},{disabled:t.disabled},t.col]},[t.title?e("label",{staticClass:"form-control-label",attrs:{for:t.name}},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.icon?e("div",{staticClass:"input-group input-group-merge",class:t.group_class},[t.icon?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{class:"uil "+t.icon})])]):t._e(),t._v(" "),e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1))],1):e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1)),t._v(" "),t.error?e("div",{staticClass:"invalid-feedback d-block",domProps:{innerHTML:t._s(t.error)}}):t._e()],1):e("div",{staticClass:"form-group",class:[{"has-error":t.error},{required:t.required},{readonly:t.readonly},{disabled:t.disabled},t.col]},[t.title?e("label",{staticClass:"form-control-label",attrs:{for:t.name}},[t._v(t._s(t.title))]):t._e(),t._v(" "),e("div",{staticClass:"input-group input-group-merge",class:t.group_class},[t.icon?e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{class:"uil "+t.icon})])]):t._e(),t._v(" "),e("money",t._b({staticClass:"form-control",class:t.moneyClass,attrs:{name:t.name,placeholder:t.placeholder,value:t.model,disabled:t.disabled,masked:t.masked},on:{input:t.input}},"money",t.money,!1))],1),t._v(" "),t.error?e("div",{staticClass:"invalid-feedback d-block",domProps:{innerHTML:t._s(t.error)}}):t._e()])}),[],!1,null,"58f92376",null).exports].forEach((function(t){s.default.component(t.name,t)}));var L=a(2970);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function I(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(r=s.key,o=void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==U(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===U(o)?o:String(o)),s)}var r,o}s.default.use(L.XG7);var B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.record(e)}var e,a,s;return e=t,a=[{key:"all",value:function(){return this.errors}},{key:"has",value:function(t){var e=this.errors.hasOwnProperty(t);return e||(e=Object.keys(this.errors).filter((function(e){return e.startsWith("".concat(t,"."))||e.startsWith("".concat(t,"["))})).length>0),e}},{key:"first",value:function(t){return this.get(t)[0]}},{key:"get",value:function(t){return this.errors[t]||[]}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"record",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errors=t}},{key:"clear",value:function(t){if(t){var e=Object.assign({},this.errors);Object.keys(e).filter((function(e){return e===t||e.startsWith("".concat(t,"."))||e.startsWith("".concat(t,"["))})).forEach((function(t){return delete e[t]})),this.errors=e}else this.errors={}}}],a&&I(e.prototype,a),s&&I(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();Object.defineProperty(s.default.prototype,"$Errors",{value:B});const Z=B;function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function V(t){return t instanceof File||t instanceof FileList}function q(t,e){for(var a in e)t[a]=z(e[a])}function z(t){if(null===t)return null;if(V(t))return t;if(Array.isArray(t)){var e=[];for(var a in t)t.hasOwnProperty(a)&&(e[a]=z(t[a]));return e}if("object"===H(t)){var s={};for(var r in t)t.hasOwnProperty(r)&&(s[r]=z(t[r]));return s}return t}var G=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"];function Y(t){if(-1!==G.indexOf(t))throw new Error("Field name ".concat(t," isn't allowed to be used in a Form or Errors instance."))}function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new FormData,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t||"undefined"===t||0===t.length)return e.append(a,t);for(var s in t)t.hasOwnProperty(s)&&X(e,W(a,s),t[s]);return e}function W(t,e){return t?t+"["+e+"]":e}function X(t,e,a){return a instanceof Date?t.append(e,a.toISOString()):a instanceof File?t.append(e,a,a.name):"boolean"==typeof a?t.append(e,a?"1":"0"):null===a?t.append(e,""):"object"!==J(a)?t.append(e,a):void K(a,t,e)}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function tt(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,et(s.key),s)}}function et(t){var e=function(t,e){if("object"!==Q(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==Q(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Q(e)?e:String(e)}var at=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.processing=!1,this.successful=!1,this.withData(e).withOptions(a).withErrors({})}var e,a,s;return e=t,a=[{key:"withData",value:function(t){var e;for(var a in e=t,"[object Array]"===Object.prototype.toString.call(e)&&(t=t.reduce((function(t,e){return t[e]="",t}),{})),this.setInitialValues(t),this.errors=new Z,this.processing=!1,this.successful=!1,t)Y(a),this[a]=t[a];return this}},{key:"withErrors",value:function(t){return this.errors=new Z(t),this}},{key:"withOptions",value:function(t){if(this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail),this.__http=r.Z,!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}},{key:"data",value:function(){var t={};for(var e in this.initial)t[e]=this[e];return t}},{key:"only",value:function(t){var e=this;return t.reduce((function(t,a){return t[a]=e[a],t}),{})}},{key:"reset",value:function(){q(this,this.initial),this.errors.clear()}},{key:"setInitialValues",value:function(t){this.initial={},q(this.initial,t)}},{key:"populate",value:function(t){var e=this;return Object.keys(t).forEach((function(a){var s,r,o;Y(a),e.hasOwnProperty(a)&&q(e,(s={},r=a,o=t[a],(r=et(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s))})),this}},{key:"clear",value:function(){for(var t in this.initial)this[t]="";this.errors.clear()}},{key:"post",value:function(t){return this.submit("post",t)}},{key:"put",value:function(t){return this.submit("put",t)}},{key:"patch",value:function(t){return this.submit("patch",t)}},{key:"delete",value:function(t){return this.submit("delete",t)}},{key:"submit",value:function(t,e){var a=this;return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((function(s,r){a.__http[t](e,a.hasFiles()?K(a.data()):a.data()).then((function(t){a.processing=!1,a.onSuccess(t.data),s(t.data)})).catch((function(t){a.processing=!1,a.onFail(t),r(t)}))}))}},{key:"hasFiles",value:function(){for(var t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}},{key:"hasFilesDeep",value:function(t){if(null===t)return!1;if("object"===Q(t))for(var e in t)if(t.hasOwnProperty(e)&&V(t[e]))return!0;if(Array.isArray(t))for(var a in t)if(t.hasOwnProperty(a))return this.hasFilesDeep(t[a]);return V(t)}},{key:"onSuccess",value:function(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}},{key:"onFail",value:function(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}},{key:"hasError",value:function(t){return this.errors.has(t)}},{key:"getError",value:function(t){return this.errors.first(t)}},{key:"getErrors",value:function(t){return this.errors.get(t)}},{key:"__validateRequestType",value:function(t){var e=["get","delete","head","post","put","patch"];if(-1===e.indexOf(t))throw new Error("`".concat(t,"` is not a valid request type, ")+"must be one of: `".concat(e.join("`, `"),"`."))}}],s=[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new t).withData(e)}}],a&&tt(e.prototype,a),s&&tt(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();const st=at;window.Form=st;a(7778);var rt=a(9938),ot=a.n(rt);s.default.component("v-select",ot());var nt=a(4554),it=a(6606),lt=a.n(it),ct=a(4155);window.Pusher=lt();var dt=new nt.Z({broadcaster:"pusher",key:"",wsHost:ct.env.MIX_APP_DOMAIN_URL,wsPort:ct.env.MIX_PUSHER_APP_PORT,app_id:ct.env.MIX_PUSHER_APP_ID,secret:ct.env.MIX_PUSHER_APP_SECRET,forceTLS:!1,enabledTransports:["ws"],authTransport:"ajax",encrypted:!1,disableStats:!0});dt.connector.pusher.connection.bind("connected",(function(){console.log("✅ Soketi Connected!")})),dt.connector.pusher.connection.bind("disconnected",(function(){console.log("👋 Soketi Disconnected!")})),dt.connector.pusher.connection.bind("failed",(function(){console.log("❌ Soketi Connection Failed!")})),dt.connect(),Object.defineProperty(s.default.prototype,"$laravelEcho",{value:dt});a(873);var mt=a(7166),ut=a.n(mt);s.default.use(ut()),s.default.component("apexchart",ut());var pt=a(4801),ft=a(1857),vt=a(6972),_t=a(8162),bt=a(4850),ht=a(3855);s.default.filter("date_differenceYears",(function(t){if(t)return(0,ft.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_differenceHours",(function(t){if(t)return(0,vt.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_difference",(function(t){if(t)return(0,_t.Z)(new Date,(0,ht.Z)(t))})),s.default.filter("date_DATE_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"dd/MM/yyyy")})),s.default.filter("date_DATE_MONTH_LONG",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM dd")})),s.default.filter("date_LONG_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM, yyyy")})),s.default.filter("date_DAY_MONTH_YEAR",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"MMMM dd, yyyy")})),s.default.filter("DATE_MONTH_YEAR_HOUR_MINUTES",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"dd/M/yyyy h:mm aaa")})),s.default.filter("TIME_HOUR_MINUTES",(function(t){if(t)return(0,bt.Z)((0,ht.Z)(t),"h:mm aaa")})),s.default.filter("toMoneyFormat",(function(t){return null===t?0:t<0?"("+(0,pt.p)(Math.abs(t)).toFormat("0,0.00")+")":(0,pt.p)(t).toFormat("0,0.00")})),s.default.filter("readableFileSize",(function(t){for(var e=0;t>=1024;)t/=1024,++e;return t.toFixed(1)+" "+["B","kB","MB","GB","TB","PB","EB","ZB","YB"][e]})),s.default.config.productionTip=!1,s.default.component("LoginForm",a(7568).Z),s.default.component("RegisterForm",a(5373).Z),s.default.component("Deduction",a(5266).Z),s.default.component("Departments",a(4182).Z),s.default.component("Branches",a(1088).Z),s.default.component("employee-types",a(165).Z),s.default.component("job-groups",a(8853).Z),s.default.component("Allowance",a(7834).Z),s.default.component("Banks",a(1698).Z),s.default.component("Kpis",a(2165).Z),s.default.component("Contributions",a(153).Z),s.default.component("Benefits",a(1613).Z),s.default.component("Pensions",a(7058).Z),s.default.component("Vendors",a(5924).Z),s.default.component("Tax",a(9664).Z),s.default.component("Incomes",a(7687).Z),s.default.component("Relief",a(8798).Z),s.default.component("Dashboard",a(1048).Z),s.default.component("SystemUsers",a(191).Z),s.default.component("Payroll",a(6650).Z),s.default.component("PayrollDetails",a(251).Z),s.default.component("HousingLevyConfig",a(7530).Z),s.default.component("LoanPage",a(454).Z),s.default.component("Organization",a(4693).Z),s.default.component("Chart",a(5302).Z),s.default.component("FormP10",a(9137).Z),s.default.component("Paye",a(7118).Z),s.default.component("HousingLevy",a(9920).Z),s.default.component("Deductions",a(322).Z),s.default.component("ContributionsReport",a(7105).Z),s.default.component("LoansReport",a(6619).Z),s.default.component("PayrollAllowances",a(4276).Z),s.default.component("PayrollPensions",a(9649).Z),s.default.component("Nssf",a(9913).Z),s.default.component("Nhif",a(438).Z),s.default.component("Shif",a(2003).Z),s.default.component("PayrollMaster",a(7215).Z),s.default.component("PayrollCreate",a(8881).Z),s.default.component("PayrollInput",a(7610).Z),s.default.component("EmployeePayrollProfile",a(3764).Z),s.default.component("GlobalPayrollListing",a(6661).Z),s.default.component("PayrollEmployee",a(9088).Z),s.default.component("UserProfile",a(5579).Z);new s.default({el:"#app"})},9301:(t,e,a)=>{"use strict";a.d(e,{Z:()=>m});var s=a(9669),r=a.n(s),o=a(538),n=a(7778),i=a(129),l=a.n(i),c={retries:2,headers:{Accept:"application/json",common:{"X-Requested-With":"XMLHttpRequest"}},paramsSerializer:function(t){return l().stringify(t,{arrayFormat:"brackets"})}},d=r().create(c);d.interceptors.response.use((function(t){return t}),(function(t){if(t.response){var e=t.response.status;return 401===e&&n.Z.error("You need to sign in to perform this action","Unauthenticated"),403===e&&n.Z.warning("You are not authorized to perform this action","Unauthorized"),Promise.reject(t)}return t.request,Promise.reject(t)})),Object.defineProperty(o.default.prototype,"$httpClient",{value:d});const m=d},4801:(t,e,a)=>{"use strict";a.d(e,{p:()=>o});var s=a(711),r=a(538);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.pow(10,2);return(0,s.Z)({amount:Math.round(t*e),currency:"KES"})}s.Z.globalLocale="en-Ke",s.Z.defaultCurrency="KES",Object.defineProperty(r.default.prototype,"$money",{value:s.Z})},7778:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(3518),r=a.n(s),o=a(538),n="topRight",i="replace",l=9e3,c={error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error";return r().error({title:e,message:t,position:n,transitionIn:"fadeIn",icon:"icon-x",displayMode:i,layout:2,timeout:l})},success:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";return r().success({title:e,message:t,position:n,transitionIn:"fadeIn",icon:"uil uil-check",displayMode:i,layout:2,timeout:l})},question:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Deleting the selected item",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Caution";return new Promise((function(a){r().question({title:e,message:t,timeout:2e4,progressBar:!1,close:!1,overlay:!0,displayMode:i,id:"question",position:"center",transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,buttons:[['<button class="btn btn-danger"><b>Confirm</b></button>',function(t,e,s,r,o){t.hide({transitionOut:"fadeOut"},e,"button"),a()},!1],['<button class="btn btn-light">Cancel</button>',function(t,e,a,s){t.hide({transitionOut:"fadeOut"},e,"button")}]],onClosing:function(t,e,a){}})}))},info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Info";return r().info({title:e,message:t,displayMode:i,position:n,transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,timeout:l})},warning:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning";return r().warning({title:e,message:t,displayMode:i,id:"question",position:n,transitionIn:"fadeIn",transitionOut:"fadeOut",layout:2,timeout:l})}};Object.defineProperty(o.default.prototype,"$toast",{value:c});const d=c},873:(t,e,a)=>{"use strict";var s=a(538),r=a(629),o=a(8929),n=a.n(o);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m,u={},p={modules:{}};function f(t,e){if(1===e.length)return t;var a=e.shift();return t.modules[a]=c({modules:{},namespaced:!0},t.modules[a]),f(t.modules[a],e)}(m=a(6448)).keys().forEach((function(t){var e=m(t);if(u[t]!==e){u[t]=e;var a=t.replace(/^\.\//,"").replace(/\.\w+$/,"").split(/\//).map(n());f(p,a).modules[a.pop()]=c({namespaced:!0},e)}}));const v=p.modules;s.default.use(r.ZP);const _=new r.ZP.Store({modules:v,strict:!1});!function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.modules,r=void 0===s?v:s,o=a.modulePrefix,n=void 0===o?"":o,i=a.flags,l=void 0===i?{}:i;for(var c in r){var d=r[c];d.actions&&d.actions[e]&&(d.namespaced?_.dispatch("".concat(n).concat(c,"/").concat(e)):l.dispatchGlobal=!0),d.modules&&t(e,{modules:d.modules,modulePrefix:n+c+"/",flags:l})}!n&&l.dispatchGlobal&&_.dispatch(e)}("init")},9854:(t,e,a)=>{"use strict";a.r(e),a.d(e,{actions:()=>u,getters:()=>d,mutations:()=>m,state:()=>c});var s=a(9301);const r=function(t){},o=function(t){};a(873);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return e};var t,e={},a=Object.prototype,s=a.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function m(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{m({},"")}catch(t){m=function(t,e,a){return t[e]=a}}function u(t,e,a,s){var o=e&&e.prototype instanceof y?e:y,n=Object.create(o.prototype),i=new O(s||[]);return r(n,"_invoke",{value:$(t,a,i)}),n}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",v="suspendedYield",_="executing",b="completed",h={};function y(){}function g(){}function C(){}var w={};m(w,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(j([])));k&&k!==a&&s.call(k,l)&&(w=k);var P=C.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){m(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function a(r,o,i,l){var c=p(t[r],t,o);if("throw"!==c.type){var d=c.arg,m=d.value;return m&&"object"==n(m)&&s.call(m,"__await")?e.resolve(m.__await).then((function(t){a("next",t,i,l)}),(function(t){a("throw",t,i,l)})):e.resolve(m).then((function(t){d.value=t,i(d)}),(function(t){return a("throw",t,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(t,s){function r(){return new e((function(e,r){a(t,s,e,r)}))}return o=o?o.then(r,r):r()}})}function $(e,a,s){var r=f;return function(o,n){if(r===_)throw new Error("Generator is already running");if(r===b){if("throw"===o)throw n;return{value:t,done:!0}}for(s.method=o,s.arg=n;;){var i=s.delegate;if(i){var l=D(i,s);if(l){if(l===h)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(r===f)throw r=b,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);r=_;var c=p(e,a,s);if("normal"===c.type){if(r=s.done?b:v,c.arg===h)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(r=b,s.method="throw",s.arg=c.arg)}}}function D(e,a){var s=a.method,r=e.iterator[s];if(r===t)return a.delegate=null,"throw"===s&&e.iterator.return&&(a.method="return",a.arg=t,D(e,a),"throw"===a.method)||"return"!==s&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+s+"' method")),h;var o=p(r,e.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var n=o.arg;return n?n.done?(a[e.resultName]=n.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,h):n:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function a(){for(;++r<e.length;)if(s.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return g.prototype=C,r(P,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:g,configurable:!0}),g.displayName=m(C,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,m(t,d,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(F.prototype),m(F.prototype,c,(function(){return this})),e.AsyncIterator=F,e.async=function(t,a,s,r,o){void 0===o&&(o=Promise);var n=new F(u(t,a,s,r),o);return e.isGeneratorFunction(a)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},E(P),m(P,d,"Generator"),m(P,l,(function(){return this})),m(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var s in e)a.push(s);return a.reverse(),function t(){for(;a.length;){var s=a.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var a in this)"t"===a.charAt(0)&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(s,r){return i.type="throw",i.arg=e,a.next=s,r&&(a.method="next",a.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var l=s.call(n,"catchLoc"),c=s.call(n,"finallyLoc");if(l&&c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=t,n.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),A(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var s=a.completion;if("throw"===s.type){var r=s.arg;A(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,s){return this.delegate={iterator:j(e),resultName:a,nextLoc:s},"next"===this.method&&(this.arg=t),h}},e}function l(t,e,a,s,r,o,n){try{var i=t[o](n),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(s,r)}var c={currentUser:p("auth.currentUser"),permissions:p("auth.permissions"),roles:[]},d={loggedIn:function(t){return!!t.currentUser},user:function(t){return t.currentUser},roles:function(t){return t.roles},permissions:function(t){return t.permissions},token:function(t){return t.token},refresh_token:function(t){return t.refresh_token}},m={SET_CURRENT_USER:function(t,e){f("auth.currentUser",e),t.currentUser=e},SAVE_TOKEN:function(t,e){},SAVE_PERMISSIONS:function(t,e){f("auth.permissions",e)},LOGOUT:function(t){v("accounts.CHARTS_OF_ACCOUNT"),v("auth.currentUser"),v("auth.permissions"),v("auth.roles"),t.token=null,t.refresh_token=null,t.currentUser=null,t.permissions=null},FETCH_PERMISSIONS_FAILURE:function(t){t.permissions=[]},FETCH_ROLES_SUCCESS:function(t,e){var a=e.roles;t.roles=a,f("auth.roles",a)},FETCH_ROLES_FAILURE:function(t){t.roles=[]}},u={init:function(t){t.state,t.dispatch},logIn:function(t){t.commit;var e=t.dispatch,a=(t.getters,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return new Promise((function(t,r){s.Z.post((void 0).VITE_APP_URL+"/login",a).then((function(a){var s=a.data;e("saveToken",s),t()})).catch((function(t){r(t)}))}))},saveUser:function(t,e){var a=t.commit;a("SET_CURRENT_USER",e),e.permissions.length&&a("SAVE_PERMISSIONS",e.permissions.map((function(t){return t.name})))},fetchAuthenticatedUser:function(t){var e=t.commit;return new Promise((function(t,a){s.Z.get((void 0).VITE_APP_URL+"/api/v1/session").then((function(t){var a=t.data;if(e("SET_CURRENT_USER",a.data),a.data.permissions.length>0){var s=a.data.permissions.map((function(t){return t.name}));e("SAVE_PERMISSIONS",s)}else e("SAVE_PERMISSIONS",[])})).catch((function(t){a(t)}))}))},logOut:function(t){var e=t.commit;e("SET_CURRENT_USER",null),e("LOGOUT",c)},resetPassword:function(t){t.commit;var e=t.dispatch,a=t.getters,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).email;return a.loggedIn?e("validate"):s.Z.post("/api/reset",{email:r}).then((function(t){return t.data}))},getUserPermissions:function(t){return(e=i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.commit,r(c.currentUser.id).then((function(t){t.data.length>0&&a("FETCH_PERMISSIONS_SUCCESS",{permissions:t.data.map((function(t){return t}))})})).catch((function(){console.log("Failed fetching permissions"),a("FETCH_PERMISSIONS_FAILURE")}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,r){var o=e.apply(t,a);function n(t){l(o,s,r,n,i,"next",t)}function i(t){l(o,s,r,n,i,"throw",t)}n(void 0)}))})();var e},getUserRoles:function(t){var e=t.commit;o(c.currentUser.id).then((function(t){e("FETCH_ROLES_SUCCESS",{roles:t.data})})).catch((function(){e("FETCH_ROLES_FAILURE")}))}};function p(t){if(t)return JSON.parse(window.localStorage.getItem(t))}function f(t,e){window.localStorage.setItem(t,JSON.stringify(e))}function v(t){window.localStorage.removeItem(t)}},1112:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".text-right.input-price .v-money[data-v-58f92376]{text-align:right}",""]);const o=r},6667:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".filter-bar{padding:10px}",""]);const o=r},2049:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"[v-cloak][data-v-52787ff2]{display:none}table[data-v-52787ff2]{border:0 solid #d2d6dc;border-collapse:collapse;border-spacing:2px}.vuetable thead[data-v-52787ff2]{background-color:#fafafa}.vuetable thead tr[data-v-52787ff2]{border-bottom:2px solid #ddd}.vuetable thead tr th[data-v-52787ff2]{--text-opacity:1;--bg-opacity:1;background-color:rgba(244,245,247,var(--bg-opacity));border-color:#d2d6dc;border-style:solid;border-width:1px 0;color:#374151;color:rgba(55,65,81,var(--text-opacity));padding:.5rem 1rem}.vuetable tbody tr[data-v-52787ff2]{border-bottom-color:#e4e6ef;border-bottom-width:1px}.vuetable tbody tr td[data-v-52787ff2]{//--border-opacity:1;//border:0 dashed rgba(229,231,235,var(--border-opacity));//border-right:1px transparent;//border-bottom-width:1px;padding:.4rem;vertical-align:middle}td[data-v-52787ff2]:first-child,th[data-v-52787ff2]:first-child{padding-left:1rem}tr[data-v-52787ff2]:nth-child(2n){[data-v-52787ff2]:hover{box-shadow:2px aqua}}.vuetable th.sortable[data-v-52787ff2]:hover{color:#2185d0;cursor:pointer}.vuetable-body-wrapper[data-v-52787ff2]{overflow-y:auto;position:relative}.vuetable-head-wrapper[data-v-52787ff2]{overflow-x:hidden}.vuetable-actions[data-v-52787ff2]{padding:12px 0;text-align:center;width:15%}.vuetable-pagination[data-v-52787ff2]{background:#f9fafb!important}.vuetable-pagination-info[data-v-52787ff2]{margin-bottom:auto;margin-top:auto}.vuetable-empty-result[data-v-52787ff2]{text-align:center}.vuetable-clip-text[data-v-52787ff2]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap}.vuetable-semantic-no-top[data-v-52787ff2]{border-top:none!important;margin-top:0!important}.vuetable-fixed-layout[data-v-52787ff2]{table-layout:fixed}.vuetable-gutter-col[data-v-52787ff2]{border-left:none!important;border-right:none!important;padding:0!important}.fixed-top[data-v-52787ff2]{position:sticky;top:2px;z-index:100}",""]);const o=r},7475:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"table#vuetable[data-v-3ba4c6e5]{border:0 solid #d2d6dc}table#vuetable thead[data-v-3ba4c6e5]{*[data-v-3ba4c6e5],[data-v-3ba4c6e5]:after,[data-v-3ba4c6e5]:before{border:0 solid #d2d6dc;box-sizing:border-box}}table#vuetable tbody[data-v-3ba4c6e5]{*[data-v-3ba4c6e5],[data-v-3ba4c6e5]:after,[data-v-3ba4c6e5]:before{border:0 solid #d2d6dc;box-sizing:border-box}}",""]);const o=r},7164:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,"#calendar[data-v-2c431d16]{margin:40px auto;max-width:900px}",""]);const o=r},8232:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".section[data-v-000fe96b]{background:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1);flex:1;min-width:45%;padding:20px}.card-icon[data-v-000fe96b]{background:#f6f6fe;flex-grow:0;flex-shrink:0;font-size:32px;height:64px;line-height:0;width:64px}.info-card h6[data-v-000fe96b]{color:#012970;font-size:28px;font-weight:700;margin:0;padding:0}.section-header[data-v-000fe96b]{border-bottom:2px solid #eee;margin-bottom:15px;padding-bottom:10px}.section-header h3[data-v-000fe96b]{color:#333;font-size:1.4em;margin:0}.card-header[data-v-000fe96b]:first-child{border-radius:var(--tblr-card-border-radius) var(--tblr-card-border-radius) 0 0;border-radius:3px 3px 0 0}.card-header[data-v-000fe96b]{align-items:center;background:transparent;color:inherit;display:flex}.justify-content-between[data-v-000fe96b]{justify-content:space-between!important}.d-flex[data-v-000fe96b]{display:flex!important}.card-header[data-v-000fe96b]{padding-left:0!important;padding-right:0!important}.section-header[data-v-9ff9941e][data-v-000fe96b]{border-bottom:none;margin-bottom:15px;padding-bottom:0}",""]);const o=r},6746:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".spinner[data-v-2410ac1a]{animation:spin-2410ac1a 1s linear infinite;border:5px solid rgba(0,0,0,.1);border-left-color:#041b3f;border-radius:50%;display:inline-block;height:70px;width:70px}@keyframes spin-2410ac1a{to{transform:rotate(1turn)}}",""]);const o=r},3962:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".employee-details[data-v-65c1ff49]{border-bottom:2px solid #eee;margin-bottom:20px;padding-bottom:10px}.employee-details h2[data-v-65c1ff49]{color:#555;font-size:1.5em;margin:0 0 10px}.employee-details p[data-v-65c1ff49]{color:#666;font-size:1em;margin:5px 0}.employment-history[data-v-65c1ff49]{margin-top:20px}.employment-history h2[data-v-65c1ff49]{border-bottom:2px solid #eee;color:#333;font-size:1.4em;margin-bottom:15px;padding-bottom:10px}.history-table[data-v-65c1ff49]{border-collapse:collapse;width:100%}.history-table td[data-v-65c1ff49],.history-table th[data-v-65c1ff49]{border:1px solid #ddd;padding:12px;text-align:left}.history-table th[data-v-65c1ff49]{background-color:#f9fafb;font-weight:700}.history-table td[data-v-65c1ff49]{background-color:#fff}.avatar[data-v-65c1ff49]{cursor:pointer;position:relative}.dropdown-mnu[data-v-65c1ff49]{background:hsla(0,0%,100%,.8);bottom:0;display:none;font-size:10px;left:0;right:0;top:0;transition:.3s ease-in;width:100%}.avatar:hover>.dropdown-mnu[data-v-65c1ff49]{align-items:center;display:flex;flex-direction:column;gap:10px;justify-content:center}.dropdown-mnu .item[data-v-65c1ff49]{color:#111010;font-weight:bolder}",""]);const o=r},1759:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(1519),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".styled-table[data-v-1d47fb70]{border-collapse:collapse;font-size:14px;margin:0;min-width:100%}.styled-table thead tr[data-v-1d47fb70]{background-color:#f4f5f7;color:#fff;text-align:left}.styled-table td[data-v-1d47fb70],.styled-table th[data-v-1d47fb70]{padding:6px 10px}.styled-table tbody tr[data-v-1d47fb70]{//border-bottom:1px solid #ddd}.styled-table tbody tr td[data-v-1d47fb70]{border:1px solid #f3f3f3}.styled-table tbody tr[data-v-1d47fb70]:nth-of-type(2n){//background-color:#f3f3f3}.styled-table tbody tr.active-row[data-v-1d47fb70]{color:#009879;font-weight:700}",""]);const o=r},9043:()=>{},7568:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={data:function(){return{hasLoginErr:!1,form:new window.Form({email:"",password:"",remember_me:""})}},methods:{tryToLogIn:function(){var t=this;this.form.post("/login").then((function(t){t.is_admin,window.location.assign("/dashboard")})).catch((function(e){t.hasLoginErr=!0}))}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.tryToLogIn.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",autocomplete:"off"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e(),t._v(" "),t.hasLoginErr?e("span",{staticClass:"text-danger my-1"},[t._v("\n          Email or Password is incorrect\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("\n        Password\n      ")]),t._v(" "),e("div",{staticClass:"input-group input-group-flat"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-footer"},[e("button",{staticClass:"btn btn-primary w-100 py-3 rounded-2 mb-3",attrs:{type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing...":"Sign in")+"\n      ")])])])])}),[],!1,null,null,null).exports},5373:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const o={data:function(){return{hasLoginErr:!1,form:new window.Form({username:"",staff_number:"",name:"",gender:"",BoD:"",identification_number:"",residence:"",email:"",password:"",cpassword:"",remember_me:""})}},watch:{"form.name":function(t){var e=this.form.name;this.form.name=e;var a=s(e.split(" ")),r=a[0],o=a[1];this.form.username="".concat(r.substr(0,1),".").concat(null!=o?o:"").toLocaleLowerCase()}},methods:{register:function(){var t=this;this.form.password===this.form.cpassword&&""!==this.username?this.form.post("/register").then((function(e){t.$toast.success("Registered successfully, but you wont be able to login unit HR approves"),setTimeout((function(){window.location.assign("/login")}),2e3)})).catch((function(e){t.hasLoginErr=!0})):this.$toast.error("Password do not match, try again")}}};const n=(0,a(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",[t._m(0),t._v(" "),e("form",{staticClass:"row",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"staff_number"}},[t._v("Payroll number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.staff_number,expression:"form.staff_number"}],staticClass:"form-control",attrs:{id:"staff_number",type:"text",autocomplete:"off"},domProps:{value:t.form.staff_number},on:{input:function(e){e.target.composing||t.$set(t.form,"staff_number",e.target.value)}}}),t._v(" "),t.form.hasError("staff_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("staff_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Fullname")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",autocomplete:"off"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"gender"}},[t._v("Gender")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gender,expression:"form.gender"}],staticClass:"form-control",attrs:{id:"gender",type:"text",autocomplete:"off"},domProps:{value:t.form.gender},on:{input:function(e){e.target.composing||t.$set(t.form,"gender",e.target.value)}}}),t._v(" "),t.form.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text",autocomplete:"off"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"BoD"}},[t._v("Date of Birth")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.BoD,"max-date":new Date},on:{"on-change":function(e,a){t.form.BoD=a}}}),t._v(" "),t.form.hasError("BoD")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("BoD"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"identification_number"}},[t._v("ID no")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_number,expression:"form.identification_number"}],staticClass:"form-control",attrs:{id:"identification_number",type:"text",autocomplete:"off"},domProps:{value:t.form.identification_number},on:{input:function(e){e.target.composing||t.$set(t.form,"identification_number",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",autocomplete:"off"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"residence"}},[t._v("Residence")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.residence,expression:"form.residence"}],staticClass:"form-control",attrs:{id:"residence",type:"text",autocomplete:"off"},domProps:{value:t.form.residence},on:{input:function(e){e.target.composing||t.$set(t.form,"residence",e.target.value)}}}),t._v(" "),t.form.hasError("residence")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("residence"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",autocomplete:"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 mt-4"},[e("label",{staticClass:"form-label",attrs:{for:"cpassword"}},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cpassword,expression:"form.cpassword"}],staticClass:"form-control",attrs:{id:"cpassword",type:"password",autocomplete:"off"},domProps:{value:t.form.cpassword},on:{input:function(e){e.target.composing||t.$set(t.form,"cpassword",e.target.value)}}}),t._v(" "),t.form.hasError("cpassword")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("cpassword"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-footer"},[e("div",[e("button",{staticClass:"btn btn-primary py-2 rounded-2 mb-3",attrs:{type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing...":"Sign in")+"\n      ")])])])]),t._v(" "),t._m(1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center"},[t("h2",[this._v("Create new account")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mt-2 text-muted"},[t._v("Don't have account yet? "),e("a",{attrs:{href:"/register"}},[t._v(" Sign up")])])}],!1,null,null,null).exports},9664:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(3279);const r={data:function(){return{fields:[{name:"year",title:"Year",titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"3%"},{name:"min",title:"Min",titleClass:"ps-3",dataClass:"ps-3",width:"20%"},{name:"max",title:"Max",titleClass:"ps-3",dataClass:"ps-3",width:"20%"},{name:"rate",title:"Rate",titleClass:"ps-3",dataClass:"ps-3",width:"10%"},{name:"__slot:actions",title:"",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{year:""}},selectedTemplate:{},form:new window.Form({id:"",year:"",max:"",min:"",rate:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},createTax:function(){var t=this;this.form.post("/tax").then((function(){t.$toast.success("The tax has been created"),t.vuetable.refresh(),t.findAllProducts(),t.findSpecimen(),t.findmeasurements()})).catch()},deleteTemplate:function(t){var e=this;this.$toast.question("Are you sure?").then((function(){e.$httpClient.delete("/tax/"+t.id).then((function(){e.$toast.info("Tax deleted"),e.vuetable.refresh()})).catch((function(t){e.$toast.error("Something went wrong")}))}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateTax:function(){var t=this;this.form.patch("/tax/"+this.form.id).then((function(){t.$bvModal.hide("update-modal"),t.$toast.success("The changes has been saved"),t.vuetable.refresh()})).catch()},applyFilter:a.n(s)()((function(){this.vuetable.reload()}),500)}};const o=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Tax"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[t._v("\n                    Add Tax\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/tax",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-edit me-2"}),t._v(" Edit\n                    ")])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal","hide-header-close":"","no-close-on-backdrop":"","no-enforce-focus":"","content-class":"rounded-4",title:"Create Tax",size:"md","footer-class":"d-flex justify-content-end bg-light-alpha border-top",scrollable:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Dismiss\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"createForm"}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createTax.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("min")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min,expression:"form.min"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.min},on:{input:function(e){e.target.composing||t.$set(t.form,"min",e.target.value)}}}),t._v(" "),t.form.hasError("min")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("min"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max,expression:"form.max"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.max},on:{input:function(e){e.target.composing||t.$set(t.form,"max",e.target.value)}}}),t._v(" "),t.form.hasError("max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()])])])])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal","hide-header-close":"","no-close-on-backdrop":"","no-enforce-focus":"","modal-class":"modal-blur",title:"Edit Tax",size:"md","footer-class":"d-flex justify-content-end bg-light-alpha border-top",scrollable:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n          Dismiss\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"createForm"}},[t._v("\n          Submit\n        ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateTax.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("min")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min,expression:"form.min"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.min},on:{input:function(e){e.target.composing||t.$set(t.form,"min",e.target.value)}}}),t._v(" "),t.form.hasError("min")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("min"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max,expression:"form.max"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.max},on:{input:function(e){e.target.composing||t.$set(t.form,"max",e.target.value)}}}),t._v(" "),t.form.hasError("max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()])])])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7834:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createAllowance:function(){var t=this;this.form.post("/allowances").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Employee Type has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/allowances/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Allowance",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Allowance\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/allowances",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Allowance","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createAllowance.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Allowance")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Allowance","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Allowance Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1698:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const s={data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"country",title:"Country",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"created_at",title:"Created on",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",width:"5%",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,bank_name:"",country:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("editModal")},createBank:function(){var t=this;this.form.post("/banks").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Bank Added successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBank:function(){var t=this;this.form.patch("/banks/"+this.form.id).then((function(){t.$bvModal.hide("editModal"),t.$toast.success("Bank Updated successfully."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};var r=a(1900);(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Branch"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showBranchCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Branch\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/bank-branches",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Add Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editModal","no-close-on-backdrop":"",title:"Edit Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const o={props:["banks"],name:"Banks",data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"country",title:"Country",titleClass:"ps-3",dataClass:"ps-3"},{name:"created_at",title:"Created on",titleClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR,dataClass:"ps-3"},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],branch_fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"branch_name",title:"Branch Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"bank.bank_name",title:"Bank Name",titleClass:"ps-3",dataClass:"ps-3"},{name:"city",title:"City",titleClass:"ps-3",dataClass:"ps-3"},{name:"created_at",title:"Created on",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{bank_name:""}},moreBranchParams:{filter:{branch_name:""}},form:new window.Form({id:null,bank_name:"",country:"",activated:!0}),branch_form:new window.Form({id:null,branch_name:"",city:"",bank_id:null,activated:null})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showBranchCreateForm:function(){this.$bvModal.show("createBranchModal")},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("editModal")},showBranchEditForm:function(t){this.branch_form.populate(t),this.$bvModal.show("editBranchModal")},createBank:function(){var t=this;this.form.post("/banks").then((function(){t.$bvModal.hide("createModal"),t.$toast.success("Bank Added successfully."),t.$refs.bank_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},createBranch:function(){var t=this;this.branch_form.post("/bank-branches").then((function(){t.$bvModal.hide("createBranchModal"),t.$toast.success("Branch Added successfully."),t.$refs.branch_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.branch_form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBank:function(){var t=this;this.form.patch("/banks/"+this.form.id).then((function(){t.$bvModal.hide("editModal"),t.$toast.success("Bank Updated successfully."),t.$refs.bank_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},updateBranch:function(){var t=this;this.branch_form.patch("/bank-branches/"+this.branch_form.id).then((function(){t.$bvModal.hide("editBranchModal"),t.$toast.success("Bank Branch Updated successfully."),t.$refs.branch_table.$refs.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.branch_form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},applyBranchFilter:function(){this.$refs.branch_table.$refs.vuetable.reload()},applyFilter:function(){this.$refs.bank_table.$refs.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const n=(0,r.Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-orange",lazy:""}},[e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-money-bill-stack me-1"}),t._v("Branches\n            ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreBranchParams.filter.branch_name,expression:"moreBranchParams.filter.branch_name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Branch"},domProps:{value:t.moreBranchParams.filter.branch_name},on:{input:[function(e){e.target.composing||t.$set(t.moreBranchParams.filter,"branch_name",e.target.value)},t.applyBranchFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showBranchCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Branch\n                        ")])])]),t._v(" "),e("VueTable",{ref:"branch_table",attrs:{"api-url":"/datatable/bank-branches",fields:t.branch_fields,"append-params":t.moreBranchParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showBranchEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                                ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createBranchModal","no-close-on-backdrop":"",title:"Add Branch","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"branch_name"}},[t._v("Branch Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.branch_name,expression:"branch_form.branch_name"}],staticClass:"form-control",attrs:{id:"branch_name",type:"text"},domProps:{value:t.branch_form.branch_name},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"branch_name",e.target.value)}}}),t._v(" "),t.branch_form.hasError("branch_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("branch_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"bank_id"}},[t._v("Bank")]),t._v(" "),e("v-select",{attrs:{options:t.banks,label:"bank_name",reduce:function(t){return t.id}},model:{value:t.branch_form.bank_id,callback:function(e){t.$set(t.branch_form,"bank_id",e)},expression:"branch_form.bank_id"}}),t._v(" "),t.branch_form.hasError("bank_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("bank_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"city"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.city,expression:"branch_form.city"}],staticClass:"form-control",attrs:{id:"city",type:"text"},domProps:{value:t.branch_form.city},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"city",e.target.value)}}}),t._v(" "),t.branch_form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("city"))}}):t._e()]),t._v(" "),t.branch_form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editBranchModal","no-close-on-backdrop":"",title:"Edit Branch","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.branch_form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.branch_form.processing},on:{click:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"editBranch"},on:{submit:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"branch_name"}},[t._v("Branch Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.branch_name,expression:"branch_form.branch_name"}],staticClass:"form-control",attrs:{id:"branch_name",type:"text"},domProps:{value:t.branch_form.branch_name},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"branch_name",e.target.value)}}}),t._v(" "),t.branch_form.hasError("branch_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("branch_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"bank_id"}},[t._v("Bank")]),t._v(" "),e("v-select",{attrs:{options:t.banks,label:"bank_name",reduce:function(t){return t.id}},model:{value:t.branch_form.bank_id,callback:function(e){t.$set(t.branch_form,"bank_id",e)},expression:"branch_form.bank_id"}}),t._v(" "),t.branch_form.hasError("bank_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("bank_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"city"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.city,expression:"branch_form.city"}],staticClass:"form-control",attrs:{id:"city",type:"text"},domProps:{value:t.branch_form.city},on:{input:function(e){e.target.composing||t.$set(t.branch_form,"city",e.target.value)}}}),t._v(" "),t.branch_form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("city"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.branch_form.activated,expression:"branch_form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.branch_form.activated)?t._i(t.branch_form.activated,null)>-1:t.branch_form.activated},on:{change:function(e){var a=t.branch_form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.branch_form,"activated",a.concat([null])):o>-1&&t.$set(t.branch_form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.branch_form,"activated",r)}}}),t._v(" "),t.branch_form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.branch_form.getError("activated"))}}):t._e()]),t._v(" "),t.branch_form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1),t._v(" "),e("b-tab",{attrs:{title:"Banks","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-university me-1"}),t._v(" Banks\n            ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.bank_name,expression:"moreParams.filter.bank_name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Banks"},domProps:{value:t.moreParams.filter.bank_name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"bank_name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Bank\n                        ")])])]),t._v(" "),e("VueTable",{ref:"bank_table",attrs:{"api-url":"/datatable/banks",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                                ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Add Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"editModal","no-close-on-backdrop":"",title:"Edit Bank","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                        Close\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[t._v("\n                        Submit\n                    ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateBank.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"bank_name"}},[t._v("Bank Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bank_name,expression:"form.bank_name"}],staticClass:"form-control",attrs:{id:"bank_name",type:"text"},domProps:{value:t.form.bank_name},on:{input:function(e){e.target.composing||t.$set(t.form,"bank_name",e.target.value)}}}),t._v(" "),t.form.hasError("bank_name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("bank_name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"country"}},[t._v("Country")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{id:"country",type:"text"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),t.form.hasError("country")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("country"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)],1)],1)}),[],!1,null,null,null).exports},1613:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"Benefits",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createBenefit:function(){var t=this;this.form.post("/benefits").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Benefit has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/benefits/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Benefits",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Benefit\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/benefits",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Benefit","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createBenefit.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBenefit.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Benefit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Benefit","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Benefit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1088:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createBranch:function(){var t=this;this.form.post("/branches").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The location has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateBranch:function(){var t=this;this.form.patch("/branches/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Location"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Location\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/branches",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Location Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Location","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateBranch.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Location Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},153:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createContribution:function(){var t=this;this.form.post("/contributions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Contribution has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateAllowance:function(){var t=this;this.form.patch("/contributions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Contribution",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Contribution\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/contributions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createContribution.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createContribution.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Contribution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Contribution","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Contribution")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},5266:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","vendors","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"vendor.name",title:"Supplier",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",vendor_id:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createDeduction:function(){var t=this;this.form.post("/deductions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The deduction has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},delRequest:function(t){console.log(t)},updateDeduction:function(){var t=this;this.form.patch("/deductions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Deductions"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Deduction\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/deductions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.delRequest(a.rowData)}}},[e("i",{staticClass:"uil uil-trush fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDeduction.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Vendor")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.vendors,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.gender_id,callback:function(e){t.$set(t.form,"gender_id",e)},expression:"form.gender_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Vendor")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.vendors,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},4182:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createDepartment:function(){var t=this;this.form.post("/departments").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The department has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateDepartment:function(){var t=this;this.form.patch("/departments/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Departments"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Department\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/departments",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Activate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"name"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},165:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createEmployeeType:function(){var t=this;this.form.post("/employee_type").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Employee Type has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateEmployeeType:function(){var t=this;this.form.patch("/employee_type/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Employee Type",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Type\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/employee-types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Discharge Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createEmployeeType.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDischargeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Type")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Employee Type","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateEmployeeType.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateEmployeeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee Type Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7530:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"HousingLevy",data:function(){return{fields:[{name:"rate",title:"Rate",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"year",title:"year",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{year:""}},form:new window.Form({id:null,rate:"",year:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createHousingLevy:function(){var t=this;this.form.post("/housing_levy").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Benefit has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateHousingLevy:function(){var t=this;this.form.patch("/housing_levy/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Benefits",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Housing levy\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/housing_levies",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Housing Levy","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createHousingLevy.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createHousingLevy.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Housing Levy","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateHousingLevy.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateHousingLevy.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Rate")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rate,expression:"form.rate"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.rate},on:{input:function(e){e.target.composing||t.$set(t.form,"rate",e.target.value)}}}),t._v(" "),t.form.hasError("rate")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("rate"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7687:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createIncome:function(){var t=this;this.form.post("/incomes").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Income has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateIncome:function(){var t=this;this.form.patch("/incomes/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Income"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Income\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/incomes",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Income / Earning","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createIncome.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createIncome.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Income")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Income / Earning","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateIncome.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateIncome.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Income")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},8853:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createJobGroup:function(){var t=this;this.form.post("/job-groups").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Job Group has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateJobGroup:function(){var t=this;this.form.patch("/job-groups/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Job Group",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Group\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/job-groups",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Job Group","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createJobGroup.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDischargeType.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Group")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Job Group","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateJobGroup.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateJobGroup.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Group")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},2165:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{jobgroups:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}}},name:"kpi",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"department.name",title:"Department",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",job_group_id:null,department_id:null,activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createKpi:function(){var t=this;this.form.post("/kpis").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The KPI has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateKpi:function(){var t=this;this.form.patch("/kpis/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search kpis",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" add\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/kpis",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Kpis","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createKpi.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createKpi.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Kpi")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Kpi","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updateKpi.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateKpi.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Kpi")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},454:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","vendors","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"is_active",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",is_active:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createLoan:function(){var t=this;this.form.post("/new-loan").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The deduction has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},delRequest:function(t){console.log(t)},updateLoan:function(){var t=this;this.form.patch("/loan-types/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Loans"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Loan\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/loan-types",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual\n                                Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.delRequest(a.rowData)}}},[e("i",{staticClass:"uil uil-trush fs-3 me-2"}),t._v(" Delete\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Loan","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createLoan.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createLoan.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Loan Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Deduction","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateLoan.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateLoan.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Loan Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_active,expression:"form.is_active"}],staticClass:"form-check-input",attrs:{id:"activate",type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_active)?t._i(t.form.is_active,null)>-1:t.form.is_active},on:{change:function(e){var a=t.form.is_active,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_active",a.concat([null])):o>-1&&t.$set(t.form,"is_active",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_active",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"activate"}},[t._v("Activated")])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7058:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={name:"DischangeTypes",data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"Activate",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled checked>":"<input class='form-check-input' type='checkbox' id='flexCheckChecked' disabled>"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createPension:function(){var t=this;this.form.post("/pensions").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("The Pension has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updatePension:function(){var t=this;this.form.patch("/pensions/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{placeholder:"Search Pension",type:"text"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("New Pension\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/pensions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Pension","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.createPension.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createPension.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Pension")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Activated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Pension","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(e){return e.preventDefault(),t.updatePension.apply(null,arguments)}}},[t._v("\n                Update\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateAllowance.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Pension Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Actvated")])]),t._v(" "),t.form.hasError("activated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("activated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},8798:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:["branches","stores","accounts"],data:function(){return{fields:[{name:"name",title:"Name",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"activated",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3",callback:function(t){return t?"ACTIVE":"DEACTIVATED"}},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",branch_id:"",store_id:"",cost_account_id:"",revenue_account_id:"",reporting_manager_id:null,auto_post_request:!0,is_laboratory:!1,is_pharmacy:!1,results_footer:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},createRelief:function(){var t=this;this.form.post("/reliefs").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Relief has been created"),t.vuetable.reload()})).catch()},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},updateRelief:function(){var t=this;this.form.patch("/reliefs/"+this.form.id).then((function(){t.vuetable.reload(),t.$bvModal.hide("update-modal"),t.$toast.success("The changes have been saved")})).catch()},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Relief"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add  Relief\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/reliefs",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[t._v(t._s(a.rowData.name)+" ")]),t._v(" "),e("div",{staticClass:"font-size-12 text-purple-300"},[t._v("\n                            "+t._s(a.rowData.stores?a.rowData.stores.name:"")+"\n                            "),a.rowData.auto_post_request?e("span",{staticClass:"badge badge-soft-success shadow-sm"},[t._v("Auto Post")]):e("span",{staticClass:"badge badge-soft-secondary rounded px-1 p-1 shadow-sm border"},[t._v("Manual Post")])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Create Relief","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createRelief.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createRelief.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Relief")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Relief","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateRelief.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateRelief.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Relief")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},191:(t,e,a)=>{"use strict";a.d(e,{Z:()=>v});var s=a(3105),r=a.n(s),o=a(6187),n=a.n(o);function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const c={components:{VJstree:n()},data:function(){return{fields:[{name:"name",title:"Name",titleClass:"ps-3",dataClass:"ps-3",width:"90%"},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center",width:"10%"}],form:new window.Form({id:null,name:""}),moreParams:{filter:"name",sort:"-created_at"},permissionForm:new window.Form({id:"",selectedPermission:[]}),showPermissionForm:!1,permissions:[],rolePermissions:[],selectedRole:null}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-group-modal")},createGroup:function(){var t=this;this.form.post("/roles").then((function(e){t.vuetable.refresh(),t.$toast.success("The group has been created")})).catch((function(){}))},showEditForm:function(t){this.form.populate(t),this.$bvModal.show("edit-group-modal")},updateGroup:function(){var t=this;this.form.processing=!0,this.form.patch("/roles/"+this.form.id).then((function(){t.form.processing=!1,t.$bvModal.hide("edit-group-modal"),t.vuetable.reload(),t.$toast.success("The Changes have been saved")})).catch((function(t){}))},applyFilter:function(){this.vuetable.reload()},accessControlManagement:function(t){var e=this;this.selectedRole=t,this.permissionForm.id=t.id,this.rolePermissions=t.permissions,this.permissionForm.selectedPermission=this.rolePermissions.map((function(t){return t.id})),this.retrieveSystemPermissions(),setTimeout((function(){e.showPermissionForm=!0}),1e3)},retrieveSystemPermissions:function(){var t=this,e=this;this.$httpClient.get("/permissions",{params:{page:{size:1e3}}}).then((function(a){var s=a.data.data,o=new Set;s.forEach((function(t){var e=t.code;o.add(e)}));var n=i(o).map((function(t,e){return{id:"muhi",text:t,children:[],opened:!1,selected:!1,isLeaf:!0}}));n.forEach((function(t){r()(s,{code:t.text}).forEach((function(a){var s={id:a.id,text:a.display_name,selected:!1};if(e.rolePermissions.length>0){var r=e.rolePermissions.find((function(t){return t.id===a.id}));s.selected=!!r,t.opened=!!r}t.children.push(s)}))})),t.permissions=n})).catch()},onPermissionSelected:function(t,e,a){var s=this;this.permissionForm.selectedPermission=[],this.$refs.tree.handleRecursionNodeChilds(this.$refs.tree,(function(t){t.model&&t.model.selected&&t.model.id&&"muhi"!==t.model.id&&s.permissionForm.selectedPermission.push(t.model.id)}))},updateRolePermission:function(){var t=this;this.permissionForm.post("/roles/".concat(this.selectedRole.id,"/permissions")).then((function(){t.$toast.success("The change has been saved"),t.rolePermissions=[],t.permissionForm.reset(),t.showPermissionForm=!1})).catch()},closePermissionForm:function(){this.showPermissionForm=!1,this.rolePermissions=[],this.permissionForm.reset()}}};var d=a(1900);const m=(0,d.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[t.showPermissionForm?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"card shadow-sm"},[e("div",{staticClass:"card-header"},[t._v("\n            "+t._s(t.selectedRole.name)+" Permission Management\n        ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-jstree",{ref:"tree",attrs:{data:t.permissions,"show-checkbox":"",multiple:"","allow-batch":"","whole-row":""},on:{"item-click":t.onPermissionSelected}})],1),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.permissionForm.processing},on:{click:t.updateRolePermission}},[t._v("\n            Submit\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-light",attrs:{disabled:t.permissionForm.processing},on:{click:t.closePermissionForm}},[t._v("\n            Close\n          ")])]),t._v(" "),t.permissionForm.processing?e("div",{staticClass:"progress card-progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})]):t._e()])])]):e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Role\n        ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/roles",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.accessControlManagement(a.rowData)}}},[e("i",{staticClass:"uil uil-shield fs-3 me-2"}),t._v(" Permission\n            ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-group-modal",title:"Create Group","footer-class":"d-flex justify-content-between","modal-class":"modal-blur","body-class":"px-4","hide-header-close":"","no-close-on-esc":"",lazy:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{form:"createForm",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createGroup.apply(null,arguments)}}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createGroup.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])])]),t._v(" "),e("b-modal",{attrs:{id:"edit-group-modal",title:"Edit Group","footer-class":"d-flex justify-content-between","modal-class":"modal-blur","body-class":"px-4","hide-header-close":"","no-close-on-esc":"",lazy:""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{form:"editForm",disabled:t.form.processing}},[t._v("\n        Submit\n      ")])]}}])},[e("form",{attrs:{id:"editForm"},on:{submit:function(e){return e.preventDefault(),t.updateGroup.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const f={components:{VJstree:n(),Role:m},props:{departments:{type:Array,required:!0},roles:{type:Array,default:function(){return[]}},authuser:{type:Object,default:function(){}},employees:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"__sequence",title:"#",titleClass:"ps-3",dataClass:"ps-3",width:"3%"},{name:"name",title:"Full Name",titleClass:"ps-3",dataClass:"ps-3",width:"30%"},{name:"username",title:"Username",titleClass:"ps-3",dataClass:"ps-3",width:"15%"},{name:"email",title:"Email",titleClass:"ps-3",dataClass:"ps-3",width:"15%"},{name:"employee.department.name",title:"Department",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"20%"},{name:"roles",title:"Group",titleClass:"ps-3",dataClass:"ps-3 text-truncate",width:"20%",callback:function(t){if(t.length)return t[0].name}},{name:"activated",title:"Status",titleClass:"ps-3",dataClass:"ps-3",width:"5%",callback:function(t){return t?'<span class="badge bg-teal badge-pill">Active</span>':'<span class="badge bg-danger badge-pill">Deactivated</span>'}},{name:"__slot:actions",title:"",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},viewAccessControlManagement:!1,form:new window.Form({id:null,username:"",name:"",email:"",password:"",department_id:"",role_id:"",employee_id:"",is_hr_manager:!1,activated:!0}),permissionForm:new window.Form({id:"",selectedPermission:[]}),user:"",showPermissionForm:!1,permissions:[],userPermissions:[]}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{"form.employee_id":function(t){var e=this.employees.find((function(e){return e.id===t}));this.form.email=e.email;var a=e.name;this.form.name=a;var s=u(a.split(" ")),r=s[0],o=s[1];this.form.username="".concat(r.substr(0,1),".").concat(null!=o?o:"").toLocaleLowerCase()}},methods:{showCreateForm:function(){this.$bvModal.show("createModal")},showEditForm:function(t){this.user=t,this.form.populate(t),this.form.id=t.id,t.roles.length&&(this.form.role_id=t.roles[0].id),this.$bvModal.show("updateModal")},createUser:function(){var t=this;this.form.post("/users").then((function(){t.$toast.success("The user has been created"),t.$bvModal.hide("createModal"),t.vuetable.refresh()})).catch()},updateUserAccount:function(){var t=this;this.form.patch("/users/".concat(this.form.id)).then((function(){t.$toast.success("The user account has been updated"),t.$bvModal.hide("updateModal"),t.vuetable.refresh()})).catch()},accessControlManagement:function(t){this.user=t,this.permissionForm.id=t.id,this.userPermissions=t.permissions,this.permissionForm.selectedPermission=this.userPermissions.map((function(t){return t.id})),this.showPermissionForm=!0,this.retrieveSystemPermissions()},applyFilter:function(){this.vuetable.reload()},retrieveSystemPermissions:function(){var t=this,e=this;this.$httpClient.get("/permissions",{params:{page:{size:1e3}}}).then((function(a){var s=a.data.data,o=new Set;s.forEach((function(t){var e=t.code;o.add(e)}));var n=u(o).map((function(t,e){return{id:"muhi",text:t,children:[],opened:!1,selected:!1,isLeaf:!0}}));n.forEach((function(t){r()(s,{code:t.text}).forEach((function(a){var s={id:a.id,text:a.display_name,selected:!1};if(e.userPermissions.length>0){var r=e.userPermissions.find((function(t){return t.id===a.id}));s.selected=!!r,t.opened=!!r}t.children.push(s)}))})),t.permissions=n})).catch()},onPermissionSelected:function(t,e,a){var s=this;this.permissionForm.selectedPermission=[],this.$refs.tree.handleRecursionNodeChilds(this.$refs.tree,(function(t){t.model&&t.model.selected&&t.model.id&&"muhi"!==t.model.id&&s.permissionForm.selectedPermission.push(t.model.id)}))},updateUserPermission:function(){var t=this;this.permissionForm.post("/users/".concat(this.user.id,"/permissions")).then((function(){t.$toast.success("The change has been saved"),t.userPermissions=[],t.permissionForm.reset(),t.showPermissionForm=!1})).catch()},closePermissionForm:function(){this.showPermissionForm=!1,this.userPermissions=[],this.permissionForm.reset()}}};const v=(0,d.Z)(f,(function(){var t=this,e=t._self._c;return e("div",[e("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-orange",lazy:""}},[e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-users-alt me-1"}),t._v(" Users\n      ")]},proxy:!0}])},[t._v(" "),t.showPermissionForm?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"card shadow-sm"},[e("div",{staticClass:"card-header"},[t._v("\n                "+t._s(t.user.name)+" Permission Management\n            ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-jstree",{ref:"tree",attrs:{data:t.permissions,"show-checkbox":"",multiple:"","allow-batch":"","whole-row":""},on:{"item-click":t.onPermissionSelected}})],1),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.permissionForm.processing},on:{click:t.updateUserPermission}},[t._v("\n                Submit\n              ")]),t._v(" "),e("button",{staticClass:"btn btn-light",attrs:{disabled:t.permissionForm.processing},on:{click:t.closePermissionForm}},[t._v("\n                Close\n              ")])]),t._v(" "),t.permissionForm.processing?e("div",{staticClass:"progress card-progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})]):t._e()])])]):e("div",{staticClass:"card rounded-3 mt-3"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[e("span",{staticClass:"input-icon-addon"},[e("i",{staticClass:"uil uil-search"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Users"},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add User\n            ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/users",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),a.rowData.id!==t.authuser.id?e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.accessControlManagement(a.rowData)}}},[e("i",{staticClass:"uil uil-shield fs-3 me-2"}),t._v(" Permission\n                ")]):t._e()])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"createModal","no-close-on-backdrop":"",title:"Create Account","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n            Close\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.createUser.apply(null,arguments)}}},[t._v("\n            Submit\n          ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createUser.apply(null,arguments)}}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"department_id"}},[t._v("Employee Name")]),t._v(" "),e("v-select",{attrs:{options:t.employees,label:"name",reduce:function(t){return t.id}},model:{value:t.form.employee_id,callback:function(e){t.$set(t.form,"employee_id",e)},expression:"form.employee_id"}}),t._v(" "),t.form.hasError("employee_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_id"))}}):t._e(),t._v(" "),e("small",{staticClass:"form-hint"},[t._v("Employees without user login accounts")])],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),e("small",{staticClass:"form-hint"},[t._v("Every user should have a unique username")]),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"role_id"}},[t._v("Group")]),t._v(" "),e("v-select",{attrs:{id:"role_id",options:t.roles,label:"name",reduce:function(t){return t.id}},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("When selected, the user will inherit the group's permissions")]),t._v(" "),t.form.hasError("role_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("role_id"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"updateModal",title:"Edit Account","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","body-class":"px-4","no-close-on-backdrop":"","hide-header-close":"","no-close-on-esc":""},on:{hidden:function(e){return t.form.reset()}},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n            Close\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateUserAccount.apply(null,arguments)}}},[t._v("\n            Submit\n          ")])]}}])},[e("form",{attrs:{id:"EditForm"},on:{submit:function(e){return e.preventDefault(),t.updateUserAccount.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),t.form.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("username"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"text"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("Only fill when you want to change it, otherwise leave it blank")]),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"role_id"}},[t._v("Group")]),t._v(" "),e("v-select",{attrs:{id:"role_id",disabled:t.form.id===t.authuser.id,options:t.roles,label:"name",reduce:function(t){return t.id}},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}}),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("When selected, the user will inherit the group's permissions")]),t._v(" "),t.form.hasError("role_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("role_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("is HR manager")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_hr_manager,expression:"form.is_hr_manager"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_hr_manager)?t._i(t.form.is_hr_manager,null)>-1:t.form.is_hr_manager},on:{change:function(e){var a=t.form.is_hr_manager,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_hr_manager",a.concat([null])):o>-1&&t.$set(t.form,"is_hr_manager",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_hr_manager",r)}}})])]),t._v(" "),e("span",{staticClass:"text-muted small"},[t._v("Should be checked if the user is the HR manager")])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("Activated")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}})])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1),t._v(" "),e("b-tab",{attrs:{title:"Users","title-link-class":"px-3 py-2","title-item-class":"fs-3"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-shield me-1"}),t._v(" Role\n      ")]},proxy:!0}])},[t._v(" "),e("Role")],1)],1)],1)}),[],!1,null,null,null).exports},5924:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={data:function(){return{fields:[{name:"name",title:"NAME",dataClass:"ps-3"},{name:"created_at",title:"Registered",titleClass:"text-uppercase",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"__slot:actions",width:"5%",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{name:""}},form:new window.Form({id:null,name:"",telephone:"",email:"",address:"",activated:!0})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("vendor-modal")},registerVendor:function(){var t=this;this.form.post("/vendors").then((function(){t.vuetable.reload(),t.$toast.success("Changes Saved")})).catch((function(t){}))},updateVendor:function(){var t=this;this.form.patch("/vendors/"+this.form.id).then((function(){t.$bvModal.hide("edit-modal"),t.vuetable.refresh(),t.$toast.success("The changes have been saved")})).catch((function(t){}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("edit-modal")},applyFilter:function(){this.vuetable.reload()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.name,expression:"moreParams.filter.name"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search "},domProps:{value:t.moreParams.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"name",e.target.value)},t.applyFilter]}})]),t._v(" "),e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showCreateForm}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Supplier\n                ")])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/vendors",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditForm(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")])])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"vendor-modal",title:"Create Supplier Account","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.registerVendor.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"vendorForm"},on:{submit:function(e){return e.preventDefault(),t.registerVendor.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Supplier Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"edit-modal",title:"Edit Supplier","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateVendor.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"vendorForm"},on:{submit:function(e){return e.preventDefault(),t.updateVendor.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Supplier Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"row"},[e("span",{staticClass:"col"},[t._v("Activated")]),t._v(" "),e("span",{staticClass:"col-auto"},[e("label",{staticClass:"form-check form-check-single form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.activated,expression:"form.activated"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.activated)?t._i(t.form.activated,null)>-1:t.form.activated},on:{change:function(e){var a=t.form.activated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"activated",a.concat([null])):o>-1&&t.$set(t.form,"activated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"activated",r)}}})])])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},1048:(t,e,a)=>{"use strict";a.d(e,{Z:()=>y});var s=a(3279),r=a.n(s),o=a(4186),n=a(1132),i=a(9897);const l={components:{FullCalendar:o.Z},mounted:function(){this.initializeCalendar()},data:function(){return{isCalendarInitialized:!1,calendarOptions:{plugins:[n.Z,i.ZP],initialView:"dayGridMonth",events:[]}}},methods:{initializeCalendar:function(){var t=this;setTimeout((function(){t.isCalendarInitialized||(t.isCalendarInitialized=!0,t.loadEvents())}),200)},loadEvents:function(){this.calendarOptions.events=[]},handleDateClick:function(t){console.log(t)}}};var c=a(3379),d=a.n(c),m=a(7164),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;var p=a(1900);const f=(0,p.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[t.isCalendarInitialized?e("div",[e("FullCalendar",{attrs:{options:t.calendarOptions}})],1):t._e()])}),[],!1,null,"2c431d16",null).exports;var v=a(5927);const _={components:{Calender:f,ApexCharts:a.n(v)()},props:{noofemployees:{type:Number,required:!0,default:function(){return 0}},noofactiveemployees:{type:Number,required:!0,default:function(){return 0}},turnover:{type:Object,required:!0,default:function(){return 0}},payroll:{type:Object,required:!0,default:function(){return 0}},user:{type:Object,required:!0,default:function(){return{}}},noofdepartments:{type:Number,required:!0,default:function(){return 0}}},data:function(){return{series:[{name:"Approved Requests",data:[]},{name:"Rejected Requests",data:[]}],payroll_count:0,chartOptions:{chart:{height:350,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},zoom:{enabled:!1},toolbar:{show:!1}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Leave requests",align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],title:{text:"Month"}},yaxis:{title:{text:"No of leave requests"},min:0,max:30},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}},scheduleFilter:{date:(new Date).toISOString().slice(0,10)},employees:[],employeeFields:[{name:"payroll_no",title:"Payroll No",width:"15%"},{name:"__slot:name",title:"NAME",titleClass:"ps-2",dataClass:"ps-2 text-truncate",width:"40%"},{name:"department.name",title:"Department",titleClass:"ps-2 ",dataClass:"ps-2 text-start"},{name:"address",title:"ADDRESS",titleClass:"ps-0",dataClass:"ps-0"},{name:"created_at",title:"REG. DATE",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center"}],employeeParams:{filter:{search:""}},workPerformanceFields:[{name:"__slot:employee.name",title:"Performance Review",titleClass:"text-start",dataClass:"pe-3 text-start"}],workPerformanceParams:{filter:{dtfilter:"",dueDataIsTom:!1}},interviewFields:[{name:"__slot:interview_title",title:"Interview",titleClass:"font-weight-bold",dataClass:"ps-3"}],interviewParams:{filter:{dtfilter:"",hasPassed:!1}},jobApplicationFields:[{name:"applicant.name",title:"Candidate",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"vacancy.name",title:"Vacancy",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"application_date",title:"Date of Application",titleClass:"font-weight-bold",dataClass:"ps-3"}],jobApplicationParams:{filter:{status:"Applied"}},unsolvedCasesFields:[{name:"__slot:employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"}],unsolvedCasesParams:{filter:{search:"",caseresolved:!1,dtfilter:""}},onleavefield:[{name:"__slot:employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee_leave_type.leave_type.name",title:"Leave Type",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:return_date",title:"Return Date",titleClass:"font-weight-bold",dataClass:"ps-3"}],leaveFields:[{name:"__slot:employee_leave_type.employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:start_date",title:"Leave",titleClass:"font-weight-bold",dataClass:"ps-3 align-items-start"}],leaveParams:{filter:{search:"",approved:!1,rejected:!1}},filterParams:{filter:{search:"",start_date:(new Date).toISOString().slice(0,10)}},calenderShow:!1,form:new window.Form({id:null,employee_id:"",leave_type_id:"",start_date:"",end_date:"",approved:!0})}},computed:{vuetable:function(){return this.$refs.table2.$refs.vuetable}},watch:{"scheduleFilter.date":function(t){return this.unsolvedCasesParams.filter.dtfilter=t,this.$refs.table2.$refs.vuetable.reload()}},created:function(){this.getLeaveRequestAnalysis()},mounted:function(){this.payrollCount()},methods:{showCalender:function(){this.calenderShow=!0,this.$bvModal.show("calender-modal")},getLeaveRequestAnalysis:function(){var t=this;this.$httpClient.get("/leave-request-analsis").then((function(e){var a=e.data;t.series=a})).catch((function(t){console.error(t)}))},updateGreeting:function(){var t,e=this.user.name,a=new Date,s=a.getHours();t=s<12?"Good Morning":s<18?"Good Afternoon":"Good Evening";var r=a.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return"<h2>".concat(t,", ").concat(e,"</h2><br> <div>It's ").concat(r,"</div>")},backgroundImageUrl:function(t){return null!=t.profile_image?"/storage/".concat(t.profile_image.file_path):"/storage/profile/default.jpg"},searchEmployees:r()((function(){return this.$refs.tableEmployee.$refs.vuetable.reload()}),700),formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},checkLeaveEnd:function(t){var e=new Date(t);e.setHours(0);var a=new Date;a.setDate(a.getDate()+1);var s=new Date(a.getFullYear(),a.getMonth(),a.getDate());return e.getTime()===s.getTime()},hasLeaveEnd:function(t){var e=new Date(t);e.setHours(0);var a=new Date;a.setDate(a.getDate());var s=new Date(a.getFullYear(),a.getMonth(),a.getDate());return console.log(s),e.getTime()===s.getTime()},payrollCount:function(){var t=this;this.$httpClient.get("/payroll/count").then((function(e){var a=e.data;t.payroll_count=a.count})).catch((function(t){console.error(t)}))}}};var b=a(8232),h={insert:"head",singleton:!1};d()(b.Z,h);b.Z.locals;const y=(0,p.Z)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-bdy"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-8"},[e("div",{domProps:{innerHTML:t._s(t.updateGreeting())}})]),t._v(" "),e("div",{staticClass:"col-md-4 d-flex justify-content-end align-items-end"},[e("div",[e("button",{staticClass:"btn btn-outline-secondary rounded",on:{click:t.showCalender}},[e("span",{staticClass:"me-2"},[e("svg",{staticClass:"bi bi-calendar-event",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"}}),t._v(" "),e("path",{attrs:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"}})])]),t._v(" Calender\n            ")])])])]),t._v(" "),e("div",{staticClass:"row row-cards mb-4"},[e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("\n                Total Employees\n              ")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticClass:"bi bi-people",staticStyle:{size:"32px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.noofemployees))])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("\n                Active Employees\n              ")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticClass:"bi bi-people",staticStyle:{size:"32px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.noofactiveemployees))])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("\n                Payrolls\n              ")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticStyle:{size:"12px"},attrs:{id:"coins",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24"}},[e("path",{attrs:{fill:"currentColor",d:"M21.22,12A3,3,0,0,0,22,10a3,3,0,0,0-3-3H13.82A3,3,0,0,0,11,3H5A3,3,0,0,0,2,6a3,3,0,0,0,.78,2,3,3,0,0,0,0,4,3,3,0,0,0,0,4A3,3,0,0,0,2,18a3,3,0,0,0,3,3H19a3,3,0,0,0,2.22-5,3,3,0,0,0,0-4ZM11,19H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,9h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,5h6a1,1,0,0,1,0,2Zm8.69,11.71A.93.93,0,0,1,19,19H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,18.71Zm0-4A.93.93,0,0,1,19,15H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,14.71Zm0-4A.93.93,0,0,1,19,11H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,10.71Z"}})])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v("ksh "+t._s(t.payroll.netDeff))]),t._v(" "),e("span",{staticClass:"text-success small pt-1 fw-bold"},[t._v(t._s(t.payroll.netIncPe)+"%")]),t._v(" "),e("span",{staticClass:"text-muted small pt-2 ps-1"},[t._v("Than last month")])])])])])]),t._v(" "),e("div",{staticClass:"col-xxl-3 col-md-6"},[e("div",{staticClass:"card info-card sales-card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("\n                Payroll Count\n              ")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("div",{staticClass:"card-icon rounded-circle d-flex align-items-center justify-content-center"},[e("svg",{staticStyle:{size:"12px"},attrs:{id:"coins",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24"}},[e("path",{attrs:{fill:"currentColor",d:"M21.22,12A3,3,0,0,0,22,10a3,3,0,0,0-3-3H13.82A3,3,0,0,0,11,3H5A3,3,0,0,0,2,6a3,3,0,0,0,.78,2,3,3,0,0,0,0,4,3,3,0,0,0,0,4A3,3,0,0,0,2,18a3,3,0,0,0,3,3H19a3,3,0,0,0,2.22-5,3,3,0,0,0,0-4ZM11,19H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,9h6a1,1,0,0,1,0,2Zm0-4H5A1,1,0,0,1,5,5h6a1,1,0,0,1,0,2Zm8.69,11.71A.93.93,0,0,1,19,19H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,18.71Zm0-4A.93.93,0,0,1,19,15H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,14.71Zm0-4A.93.93,0,0,1,19,11H13.82a2.87,2.87,0,0,0,0-2H19a1,1,0,0,1,1,1A1,1,0,0,1,19.69,10.71Z"}})])])]),t._v(" "),e("div",{staticClass:"ps-3"},[e("h6",[t._v(t._s(t.payroll_count))])])])])])])]),t._v(" "),e("div",{staticClass:"row row-deck row-cards"},[e("div",{staticClass:"col-md-6 col-lg-4 mb-3"},[e("div",{staticClass:"card section"},[e("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),e("span",{staticClass:"d-flex gap-2 align-items-center"},[e("label",{attrs:{for:""}},[t._v("Date: ")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.scheduleFilter.date},on:{"on-change":function(e,a){t.scheduleFilter.date=a}}})],1)]),t._v(" "),e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2 mx-1"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Meetings\n                ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/interview",fields:t.interviewFields,"append-params":t.interviewParams},scopedSlots:t._u([{key:"interview_title",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url('/storage/profile/default.jpg')"}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.application.applicant.name))]),t._v(" "),e("span",{staticClass:"small"},[t._v(t._s(a.rowData.date_and_time))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.application.applicant.email}},[t._v(t._s(a.rowData.application.applicant.email))])]),t._v(" "),e("div",{staticClass:"text-secondary"},[e("a",{staticClass:"text-reset",attrs:{href:"#"}},[t._v(t._s(a.rowData.application.vacancy.name))])])])])]}}])})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Cases\n                ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/disciplinary-cases",fields:t.unsolvedCasesFields,"append-params":t.unsolvedCasesParams},scopedSlots:t._u([{key:"employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n                          "+t._s(a.rowData.employee.name)+" "),t.hasLeaveEnd(a.rowData.resolution_date)?e("small",{staticClass:"text-warning",attrs:{title:"Case to be resolved today"}},[t._v(" | Today")]):t._e(),t._v(" "),t.checkLeaveEnd(a.rowData.resolution_date)?e("small",{staticClass:"text-warning"},[t._v("| Tomorrow")]):t._e()]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.email}},[t._v(t._s(a.rowData.employee.email))])])])])]}},{key:"resolution_date",fn:function(a){return[e("div",{staticClass:"text-reset"},[t._v("\n                      "+t._s(t.formatDate(a.rowData.resolution_date))+"\n                    ")])]}}])})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-closed-circle me-2"}),t._v("Reviews\n                ")]},proxy:!0}])},[t._v(" "),e("VueTable",{ref:"table2",attrs:{"per-page":5,"api-url":"/datatable/performance",fields:t.workPerformanceFields,"append-params":t.workPerformanceParams},scopedSlots:t._u([{key:"employee.name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",{attrs:{title:"employee name and group"}},[t._v(t._s(a.rowData.employee.name)+" | "+t._s(a.rowData.job_group.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"due date"}},[t._v(t._s(t.formatDate(a.rowData.due_date)))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.email}},[t._v(t._s(a.rowData.employee.email))])])])]),t._v(" "),a.rowData.employee.supervisor?e("div",{staticClass:"text-muted"},[t._v("\n                      Supervisor\n                    ")]):t._e(),t._v(" "),a.rowData.employee.supervisor?e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData.employee.supervisor),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n                          "+t._s(a.rowData.employee.supervisor.name)+"\n                        ")]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.employee.supervisor.email}},[t._v(t._s(a.rowData.employee.supervisor.email))])])])]):t._e()]}},{key:"employee_leave_type.leave_type",fn:function(a){return[e("div",{staticClass:"d-flex"},[e("div",[t._v("sddfd")]),t._v(" "),e("div",[t._v(t._s(a.employee_leave_type.leave_type.name))])])]}}])})],1)],1)],1)]),t._v(" "),e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"card section"},[t._m(1),t._v(" "),e("div",{staticClass:"pb-2"},[e("div",{staticClass:"col-lg-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.employeeParams.filter.search,expression:"employeeParams.filter.search"}],staticClass:"form-control",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.employeeParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.employeeParams.filter,"search",e.target.value)},t.searchEmployees]}})])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("VueTable",{ref:"tableEmployee",attrs:{"per-page":7,"api-url":"/datatable/payroll-employees",fields:t.employeeFields,"append-params":t.employeeParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("div",{staticClass:"d-flex py-1 align-items-center"},[e("span",{staticClass:"avatar me-2",style:{backgroundImage:"url(".concat(t.backgroundImageUrl(a.rowData),")")}}),t._v(" "),e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"font-weight-medium d-flex justify-content-between"},[e("span",[t._v(t._s(a.rowData.name))]),t._v(" "),e("span",{staticClass:"small",attrs:{title:"Job title"}},[t._v(t._s(a.rowData.job_title))])]),t._v(" "),e("div",{staticClass:"text-muted small"},[e("a",{staticClass:"text-muted",attrs:{href:"mailto:"+a.rowData.email}},[t._v(t._s(a.rowData.email))])])])])]}}])})],1)])])])])])]),t._v(" "),e("b-modal",{attrs:{id:"calender-modal",size:"xl",title:"Calender","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""}},[e("Calender",{attrs:{"is-calendar-initialized":t.calenderShow}})],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"section-header"},[t("h4",{staticClass:"card-title"},[this._v("\n                  Schedule\n                ")])])},function(){var t=this._self._c;return t("div",{staticClass:"section-header"},[t("h4",{staticClass:"card-title"},[this._v("\n                Employee\n              ")])])}],!1,null,"000fe96b",null).exports},4693:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{orginfo:{type:Object,required:!1,default:function(){}},canadd:{type:Number,required:!1,default:function(){return!1}}},data:function(){return{editForm:!1,newRecord:!1,uploadChart:!1,form:new window.Form({id:null,name:"",kra_pin:"",phone:"",city:"",address:"",fax:"",email:"",postal_code:""}),chart:new window.Form({chart:""})}},mounted:function(){this.checkOrgInfo()},watch:{"chart.chart":function(){var t=this;this.chart.post("/org-info/chart").then((function(){t.$toast.success("Organization details have been saved successfully"),setTimeout((function(){window.location.assign("/org-info/chart")}),2e3)})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},editForm:function(t){}},methods:{checkOrgInfo:function(){0===Object.keys(this.orginfo).length?(this.editForm=!0,this.newRecord=!0):(this.form.populate(this.orginfo),this.form.address=this.orginfo.address_1,this.newRecord=!1)},saveOrganizationInfo:function(){var t=this;this.newRecord?this.form.post("/org-info").then((function(){t.$toast.success("Organization details have been saved successfully"),setTimeout((function(){window.location.assign("/org-info")}),2e3)})).catch():this.form.patch("/org-info/"+this.form.id).then((function(){t.$toast.success("changes  saved successfully"),setTimeout((function(){window.location.assign("/org-info")}),2e3)})).catch()},goBack:function(){window.location.assign("/home")}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto p-4"},[t._m(0),t._v(" "),e("div",{staticClass:"card card-stacked"},[t.canadd?e("span",{staticClass:"d-flex p-2 gap-2",staticStyle:{"margin-left":"auto"}},[t.canadd?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm,expression:"editForm"}],staticClass:"form-check",attrs:{type:"checkbox",name:"",id:"edit"},domProps:{checked:Array.isArray(t.editForm)?t._i(t.editForm,null)>-1:t.editForm},on:{change:function(e){var a=t.editForm,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.editForm=a.concat([null])):o>-1&&(t.editForm=a.slice(0,o).concat(a.slice(o+1)))}else t.editForm=r}}}):t._e(),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"edit"}},[t._v("Edit")])]):t._e(),t._v(" "),t.canadd?e("span",{staticClass:"d-flex p-2 gap-2",staticStyle:{"margin-left":"auto"}},[t.canadd?e("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadChart,expression:"uploadChart"}],staticClass:"form-check",attrs:{type:"checkbox",name:"",id:"chart"},domProps:{checked:Array.isArray(t.uploadChart)?t._i(t.uploadChart,null)>-1:t.uploadChart},on:{change:function(e){var a=t.uploadChart,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.uploadChart=a.concat([null])):o>-1&&(t.uploadChart=a.slice(0,o).concat(a.slice(o+1)))}else t.uploadChart=r}}}):t._e(),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"chart"}},[t._v("Upload chart")])]):t._e(),t._v(" "),e("form",{staticClass:"card-body py-4",on:{submit:function(e){return e.preventDefault(),t.saveOrganizationInfo.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Organization Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{required:"",id:"name",disabled:!this.editForm,type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("KRA PIN")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),t._v(" "),t.form.hasError("phone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("phone"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Fax")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fax,expression:"form.fax"}],staticClass:"form-control",attrs:{disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.fax},on:{input:function(e){e.target.composing||t.$set(t.form,"fax",e.target.value)}}}),t._v(" "),t.form.hasError("fax")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("fax"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}}),t._v(" "),t.form.hasError("address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Postal codes")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postal_code,expression:"form.postal_code"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.postal_code},on:{input:function(e){e.target.composing||t.$set(t.form,"postal_code",e.target.value)}}}),t._v(" "),t.form.hasError("postal_code")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("postal_code"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{required:"",disabled:!this.editForm,id:"name",type:"text"},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),t._v(" "),t.form.hasError("city")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("city"))}}):t._e()]),t._v(" "),t.uploadChart?e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Chart")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{disabled:!this.uploadChart,type:"file"},on:{change:t.uploadChart,input:function(e){t.chart.chart=e.target.files[0]}}}),t._v(" "),t.form.hasError("chart")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("chart"))}}):t._e()]):t._e(),t._v(" "),t.editForm?e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-primary me-3",attrs:{type:"submit"}},[t._v("\n                Submit\n              ")]),t._v(" "),e("button",{staticClass:"btn",attrs:{disabled:t.form.processing||t.form.successful},on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("\n                Cancel\n              ")])]):t._e()])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-4"},[e("h1",{staticClass:"fs-1"},[t._v("\n          Organization\n        ")]),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("Complete the form below to save Organization information")])])}],!1,null,null,null).exports},5302:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={props:{org:{type:Object,required:!1,default:function(){}}},data:function(){return{loaded:!1}},mounted:function(){var t=this;setTimeout((function(){return t.loaded=!0}),1e3)}};var r=a(3379),o=a.n(r),n=a(6746),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","justify-content":"center",height:"400px","align-items":"center"}},[t.loaded?e("iframe",{attrs:{src:"/storage/".concat(t.org.chart),width:"90%",height:"900px"}}):e("div",{staticClass:"spinner"})])}),[],!1,null,"2410ac1a",null).exports},8881:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{employeetypes:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},departments:{type:Array,default:function(){return[]}},employees:{type:Array,default:function(){return[]}}},data:function(){return{PAYEOptions:[{name:"Not Applicable",value:0},{name:"Graduated Tax",value:1},{name:"30% of Gross Salary",value:2},{name:"5% with-holding",value:3}],genderList:["MALE","FEMALE"],is_in_contract:!1,form:new window.Form({id:null,name:"",dob:"",gender:"",identification_number:"",physical_address:"",job_title:"",is_disabled:"",disability:"",telephone:"",staff_number:"",employee_type_id:null,contract_exp:null,next_of_kin:"",supervisor:"",email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:0,job_group_id:null,pays_tax:!1,pays_nssf:!1,pays_shif:!1,pays_housing_levy:!1,department_id:null,activated:!0})}},computed:{filterEmployee:function(){var t=this;return this.form.department_id?this.employees.filter((function(e){return e.department_id===t.form.department_id})):this.employees}},watch:{"form.employee_type_id":function(t){"Permanent"!==this.employeetypes.find((function(e){return e.id===t})).name?(this.is_in_contract=!0,this.form.is_contract=!0):(this.is_in_contract=!1,this.form.is_contract=!1)}},methods:{registerEmployee:function(){var t=this;this.form.post("/payroll/create").then((function(){t.$toast.success("Employee Registered successfully"),setTimeout((function(){window.location.assign("/payroll/master")}),2e3)})).catch()},goBack:function(){window.location.assign("/payroll/master")}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto p-4"},[t._m(0),t._v(" "),e("div",{staticClass:"card card-stacked"},[e("form",{staticClass:"card-body py-4",on:{submit:function(e){return e.preventDefault(),t.registerEmployee.apply(null,arguments)}}},[e("div",{staticClass:"row g-4"},[e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Payroll Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.staff_number,expression:"form.staff_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.staff_number},on:{input:function(e){e.target.composing||t.$set(t.form,"staff_number",e.target.value)}}}),t._v(" "),t.form.hasError("staff_number")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("staff_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Full name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Gender")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.genderList,reduce:function(t){return t},clearable:!1},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}}),t._v(" "),t.form.hasError("gender")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date of Birth")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.dob,"max-date":new Date},on:{"on-change":function(e,a){t.form.dob=a}}}),t._v(" "),t.form.hasError("dob")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("dob"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Identification number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_number,expression:"form.identification_number"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.identification_number},on:{input:function(e){e.target.composing||t.$set(t.form,"identification_number",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Mobile number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}}),t._v(" "),t.form.hasError("identification_number")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_number"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.form.hasError("email")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("email"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Physical address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.physical_address,expression:"form.physical_address"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.physical_address},on:{input:function(e){e.target.composing||t.$set(t.form,"physical_address",e.target.value)}}}),t._v(" "),t.form.hasError("physical_address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("physical_address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Job Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_title,expression:"form.job_title"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.job_title},on:{input:function(e){e.target.composing||t.$set(t.form,"job_title",e.target.value)}}}),t._v(" "),t.form.hasError("job_title")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_title"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.departments,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Report to")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.filterEmployee,reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))]),t._v(" "),e("br"),t._v(" "),e("small",{staticClass:"text-warning"},[t._v(t._s(a.department.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}}]),model:{value:t.form.supervisor,callback:function(e){t.$set(t.form,"supervisor",e)},expression:"form.supervisor"}}),t._v(" "),t.form.hasError("supervisor")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("supervisor"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Employee Type")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.employee_type_id,callback:function(e){t.$set(t.form,"employee_type_id",e)},expression:"form.employee_type_id"}}),t._v(" "),t.form.hasError("employee_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_type_id"))}}):t._e()],1),t._v(" "),t.is_in_contract?e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Employment Expiry Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.contract_exp,"min-date":new Date},on:{"on-change":function(e,a){t.form.contract_exp=a}}}),t._v(" "),t.form.hasError("contract_exp")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("contract_exp"))}}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"col-lg-6 form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[t._v("Job Group")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.job_group_id,callback:function(e){t.$set(t.form,"job_group_id",e)},expression:"form.job_group_id"}}),t._v(" "),t.form.hasError("job_group_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("job_group_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-lg-8 mx-auto mt-4"},[e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_tax,expression:"form.pays_tax"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_tax)?t._i(t.form.pays_tax,null)>-1:t.form.pays_tax},on:{change:function(e){var a=t.form.pays_tax,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_tax",a.concat([null])):o>-1&&t.$set(t.form,"pays_tax",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_tax",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays tax")])])])]),t._v(" "),t.form.pays_tax?e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[t._v("Tax Setup")]),t._v(" "),e("v-select",{attrs:{id:"paye_type",options:t.PAYEOptions,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:t.form.payee_type,callback:function(e){t.$set(t.form,"payee_type",e)},expression:"form.payee_type"}}),t._v(" "),t.form.errors.has("payee_type")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.get("payee_type"))}}):t._e()],1):t._e(),t._v(" "),t.form.pays_tax?e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("Kra Pin")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_shif,expression:"form.pays_shif"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_shif)?t._i(t.form.pays_shif,null)>-1:t.form.pays_shif},on:{change:function(e){var a=t.form.pays_shif,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_shif",a.concat([null])):o>-1&&t.$set(t.form,"pays_shif",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_shif",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays SHIF")])])])]),t._v(" "),t.form.pays_shif?e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("SHIF NUMBER")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.shif_no,expression:"form.shif_no"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.shif_no},on:{input:function(e){e.target.composing||t.$set(t.form,"shif_no",e.target.value)}}}),t._v(" "),t.form.hasError("shif_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("shif_no"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nssf,expression:"form.pays_nssf"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nssf)?t._i(t.form.pays_nssf,null)>-1:t.form.pays_nssf},on:{change:function(e){var a=t.form.pays_nssf,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nssf",a.concat([null])):o>-1&&t.$set(t.form,"pays_nssf",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nssf",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays NSSF")])])])]),t._v(" "),t.form.pays_nssf?e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"kra_pin"}},[t._v("NSSF NUMBER")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nssf_no,expression:"form.nssf_no"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.nssf_no},on:{input:function(e){e.target.composing||t.$set(t.form,"nssf_no",e.target.value)}}}),t._v(" "),t.form.hasError("nssf_no")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nssf_no"))}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"form-group mb-3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_housing_levy,expression:"form.pays_housing_levy"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_housing_levy)?t._i(t.form.pays_housing_levy,null)>-1:t.form.pays_housing_levy},on:{change:function(e){var a=t.form.pays_housing_levy,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_housing_levy",a.concat([null])):o>-1&&t.$set(t.form,"pays_housing_levy",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_housing_levy",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("Pays House Levy")])])])])]),t._v(" "),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-primary me-3",attrs:{type:"submit"}},[t._v("\n                                Submit\n                            ")]),t._v(" "),e("button",{staticClass:"btn",attrs:{disabled:t.form.processing||t.form.successful},on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("\n                                Cancel\n                            ")])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-4"},[e("h1",{staticClass:"fs-1"},[t._v("\n                    Employee Payroll Registration\n                ")]),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("Complete the form below to register a new employee to payroll")])])}],!1,null,null,null).exports},3764:(t,e,a)=>{"use strict";a.d(e,{Z:()=>S});var s=a(538),r=a(4801);const o=(0,s.defineComponent)({name:"Contributions",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},contributions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"contribution.name",title:"Contribution",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"start_date",title:"Start Date",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"end_date",title:"End Date",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeContributions:[],form:new window.Form({id:null,employee_payroll_id:this.employee.id,contribution_id:"",start_date:"",end_date:"",amount:null,to_be_accumulated:!1,continuous:!1}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"})}},watch:{"form.continuous":function(t){t&&(this.form.end_date=null)}},mounted:function(){this.retrieveEmployeeConributions()},methods:{retrieveEmployeeConributions:function(){var t=this;this.$httpClient.get("/payroll/contributions/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeContributions=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee contributions")}))},openContributionModal:function(){this.$bvModal.show("contribution-modal")},addContribution:function(){var t=this;this.form.post("/payroll/contributions").then((function(){t.$toast.success("Contribution has been added"),t.$bvModal.hide("contribution-modal"),t.cleanUp()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editContribution:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-contribution-modal")},updateContribution:function(){var t=this;this.form.patch("/payroll/contributions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-contribution-modal"),t.vuetable.reload()})).catch()},deleteContribution:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/contributions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeConributions()}}});var n=a(1900);const i=(0,n.Z)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"contribution-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Contribution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.contributions,label:"name"},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.continuous?t._e():e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated")])]),t._v(" "),t.form.hasError("to_be_accumulated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("to_be_accumulated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-contribution-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Contribution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.contributions,label:"name"},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.start_date,"max-date":!1},on:{"on-change":function(e,a){t.form.start_date=a}}}),t._v(" "),t.form.hasError("start_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("start_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.continuous,expression:"form.continuous"}],staticClass:"form-check-input",attrs:{id:"continuous",type:"checkbox"},domProps:{checked:Array.isArray(t.form.continuous)?t._i(t.form.continuous,null)>-1:t.form.continuous},on:{change:function(e){var a=t.form.continuous,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"continuous",a.concat([null])):o>-1&&t.$set(t.form,"continuous",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"continuous",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"continuous"}},[t._v("Continuous")])]),t._v(" "),t.form.hasError("continuous")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("continuous"))}}):t._e()]),t._v(" "),t.form.continuous?t._e():e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("End Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.end_date,"max-date":!1},on:{"on-change":function(e,a){t.form.end_date=a}}}),t._v(" "),t.form.hasError("end_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("end_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated ?")])]),t._v(" "),e("div",{staticClass:"small"},[t._v("be sure, before checking/ unchecking it")]),t._v(" "),t.form.hasError("to_be_accumulated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("to_be_accumulated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openContributionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Contribution\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeContributions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Contributions\n        ")])])}],!1,null,"5be26457",null).exports;const l=(0,s.defineComponent)({name:"Allowances",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},allowances:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"allowance.name",title:"Allowance",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:null,employee_payroll_id:this.employee.id,allowance_id:null,amount:null}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"}),selectedBill:"",employeeAllowances:[]}},computed:{vuetable:function(){return this.$refs.tablee.$refs.vuetable}},watch:{},mounted:function(){this.retrieveEmployeeAllowances()},methods:{retrieveEmployeeAllowances:function(){var t=this;this.$httpClient.get("/payroll/allowances/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeAllowances=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee allowances")}))},openAllowanceModal:function(){this.$bvModal.show("allowance-modal")},addAllowance:function(){var t=this;this.form.post("/payroll/allowances").then((function(){t.$toast.success("Allowance has been added"),t.$bvModal.hide("allowance-modal"),t.retrieveEmployeeAllowances(),t.vuetable.reload()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editAllowance:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-allowance-modal")},updateIncome:function(){var t=this;this.form.patch("/payroll/allowances/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-allowance-modal"),t.vuetable.reload()})).catch()},deleteAllowance:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/allowances/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeAllowances()}}});const c=(0,n.Z)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"allowance-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Allowance Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addAllowance}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.allowances,label:"name"},model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-allowance-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Allowance Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.allowances,label:"name"},model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.errors.has("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("allowance_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openAllowanceModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Allowance\n          ")])])])]),t._v(" "),e("VueTable",{ref:"tablee",attrs:{"api-mode":!1,data:t.employeeAllowances,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editAllowance(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteAllowance(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Allowances\n        ")])])}],!1,null,"1e06ae94",null).exports;const d=(0,s.defineComponent)({name:"Incomes",props:{incomes:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){}}},data:function(){return{fields:[{name:"employee.name",title:"Name",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"income.name",title:"Income / Earning",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:"",income_id:null,employee_payroll_id:this.employee.id,amount:null}),reverseForm:new window.Form({comments:"",detail_id:"",source:"1"}),employeeIncomes:[]}},computed:{vuetable:function(){return this.$refs.tablee.$refs.vuetable}},watch:{},mounted:function(){this.retrieveEmployeeIncomes()},methods:{retrieveEmployeeIncomes:function(){var t=this;this.$httpClient.get("/payroll/incomes/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeIncomes=a})).catch((function(){t.$toast.error("There was a problem retrieving the employee incomes")}))},openIncomeModal:function(){this.$bvModal.show("income-modal")},addIncome:function(){var t=this;this.form.post("/payroll/incomes").then((function(){t.$toast.success("The income has been added"),t.$bvModal.hide("income-modal"),t.retrieveEmployeeIncomes(),t.vuetable.reload()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editIncome:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-income-modal")},updateIncome:function(){var t=this;this.form.patch("/payroll/incomes/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.retrieveEmployeeIncomes(),t.$bvModal.hide("edit-income-modal"),t.vuetable.reload()})).catch()},delIncome:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/incomes/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.retrieveEmployeeIncomes(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))}}});const m=(0,n.Z)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"income-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur",size:"lg","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Income / Earning Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Income / Earning")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.incomes,label:"name"},model:{value:t.form.income_id,callback:function(e){t.$set(t.form,"income_id",e)},expression:"form.income_id"}}),t._v(" "),t.form.errors.has("income_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("income_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-income-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur",size:"lg","no-enforce-focus":"",title:"Edit Income / Earning Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Income / Earning")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.incomes,label:"name"},model:{value:t.form.income_id,callback:function(e){t.$set(t.form,"income_id",e)},expression:"form.income_id"}}),t._v(" "),t.form.errors.has("income_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("income_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openIncomeModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Income\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeIncomes,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"date",fn:function(a){return[e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date))+"\n          ")]),t._v(" "),e("div",{staticClass:"text-indigo small ps-3"},[t._v("\n            "+t._s(t._f("tIME_HOUR_MINUTES")(a.rowData.date))+"\n          ")])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editIncome(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.delIncome(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Incomes\n        ")])])}],!1,null,"6a0d1621",null).exports;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const _=(0,s.defineComponent)({name:"Loans",props:{employee:{type:Object,default:function(){}},permissions:{type:Array,default:function(){return[]}},loantypes:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"type.name",title:"Loan",titleClass:" text-start pe-3",dataClass:" text-start pe-3"},{name:"amount",title:"Loan Issued",titleClass:"ps-3",dataClass:"ps-3",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"loan_balance",title:"Balance",titleClass:"text-center",dataClass:"text-center",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"due_date",title:"Due Date",titleClass:"text-center",dataClass:"text-center"},{name:"__slot:status",title:"STATUS",dataClass:"ps-1",titleClass:"ps-1",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeLoans:[],form:new window.Form({id:null,employee_payroll_id:this.employee.id,loan_type_id:null,balance:"",amount:"",installment:"",freeze:!1,due_date:""})}},mounted:function(){this.retrieveEmployeeLoans()},methods:{retrieveEmployeeLoans:function(){var t=this;console.log(this.employee),this.$httpClient.get("/employee/loans/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeLoans=a})).catch((function(){t.$toast.error("There was a problem retrieving employee loans")}))},generateStatement:function(t){var e=this;this.id=t.id,this.$httpClient.get("/reports/loan/".concat(t.id,"/generate"),{responseType:"blob",params:f({},this.form.data())}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)}))},deleteLoan:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/employee/loans/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openLoanModal:function(){this.$bvModal.show("loan-modal")},recordLoan:function(){var t=this;this.form.post("/employee/loans").then((function(){t.$toast.success("Employee loan has been recorded"),t.cleanUp(),t.$bvModal.hide("loan-modal")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editLoan:function(t){this.form.populate(t),this.form.balance=.01*t.balance,this.form.amount=.01*t.amount,this.form.installment=.01*t.installment,this.$bvModal.show("edit-loan-modal")},updateLoan:function(){var t=this;this.form.patch("/employee/loans/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-loan-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeeLoans()}}});const b=(0,n.Z)(_,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"loan-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Record Loan Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.recordLoan}},[t._v("\n                Submit\n            ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Loan Description")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.loantypes,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.loan_type_id,callback:function(e){t.$set(t.form,"loan_type_id",e)},expression:"form.loan_type_id"}}),t._v(" "),t.form.hasError("loan_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("loan_type_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Loan Offered")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Repay Installment")]),t._v(" "),e("medic-money",{attrs:{value:t.form.installment},on:{input:function(e){t.form.installment=e}}}),t._v(" "),t.form.hasError("installment")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("installment"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Due Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.due_date,"max-date":!1},on:{"on-change":function(e,a){t.form.due_date=a}}}),t._v(" "),t.form.hasError("due_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("due_date"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-loan-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Loan Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateLoan}},[t._v("\n                Submit\n            ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Loan Description")]),t._v(" "),e("v-select",{attrs:{id:"department_id",name:"department_id",options:t.loantypes,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.loan_type_id,callback:function(e){t.$set(t.form,"loan_type_id",e)},expression:"form.loan_type_id"}}),t._v(" "),t.form.hasError("loan_type_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("loan_type_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Loan Offered")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Repay Installment")]),t._v(" "),e("medic-money",{attrs:{value:t.form.installment},on:{input:function(e){t.form.installment=e}}}),t._v(" "),t.form.hasError("installment")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("installment"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Due Date")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.due_date,"max-date":!1},on:{"on-change":function(e,a){t.form.due_date=a}}}),t._v(" "),t.form.hasError("due_date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("due_date"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.freeze,expression:"form.freeze"}],staticClass:"form-check-input",attrs:{id:"is_insurance",type:"checkbox"},domProps:{checked:Array.isArray(t.form.freeze)?t._i(t.form.freeze,null)>-1:t.form.freeze},on:{change:function(e){var a=t.form.freeze,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"freeze",a.concat([null])):o>-1&&t.$set(t.form,"freeze",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"freeze",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"is_insurance"}},[t._v("Freeze")])]),t._v(" "),t.form.hasError("freeze")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("freeze"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openLoanModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Record Loan\n                    ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeLoans,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.generateStatement(a.rowData)}}},[e("i",{staticClass:"uil uil-file-download me-2"}),t._v(" Statement\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editLoan(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteLoan(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n                        ")])])])]}},{key:"status",fn:function(a){return[1==a.rowData.status?e("span",{staticClass:"text-success"},[t._v("repaid")]):e("span",{staticClass:"text-warning"},[t._v("on going")])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n                    Loans\n                ")])])}],!1,null,"3ace8f94",null).exports;const h=(0,s.defineComponent)({name:"Pensions",props:{employee:{type:Object,default:function(){}},permissions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"pension.name",title:"Pension",titleClass:" text-end pe-3",dataClass:" text-end pe-3",width:"8%"},{name:"employer_max",title:"Employer Amount",titleClass:"ps-3",dataClass:"ps-3",width:"45%",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"employee_max",title:"Employee Amount",dataClass:"ps-3",titleClass:"ps-3",width:"15%",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeePensions:[],billToReverse:"",form:new window.Form({id:"",employee_payroll_id:this.employee.id,pension_id:null,employer_rate:0,to_be_accumulated:!1,employer_max:0,employee_rate:0,employee_max:0})}},mounted:function(){this.retrieveEmployeePensions()},methods:{retrieveEmployeePensions:function(){var t=this;this.$httpClient.get("/payroll/pensions/"+this.employee.hashid).then((function(e){var a=e.data;t.employeePensions=a})).catch((function(){t.$toast.error("There was a problem retrieving employee pensions")}))},deletePension:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/pensions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openPensionModal:function(){this.$bvModal.show("pension-modal")},addPension:function(){var t=this;this.form.post("/payroll/pensions").then((function(){t.$toast.success("Pension has been added"),t.cleanUp(),t.$bvModal.hide("pension-modal")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editPension:function(t){this.form.populate(t),this.form.employer_max=.01*t.employer_max,this.form.employee_max=.01*t.employee_max,this.$bvModal.show("edit-pension-modal")},updatePension:function(){var t=this;this.form.patch("/payroll/pensions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-pension-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeePensions()}}});const y=(0,n.Z)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"pension-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Pension Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addPension}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Pension")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,options:t.pensions,reduce:function(t){return t.id},label:"name"},model:{value:t.form.pension_id,callback:function(e){t.$set(t.form,"pension_id",e)},expression:"form.pension_id"}}),t._v(" "),t.form.errors.has("item_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("item_id"))}}):t._e(),t._v(" "),t.form.hasError("ledger_id")?e("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("ledger_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employer Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employer_max,expression:"form.employer_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employer_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employer_max",e.target.value)}}}),t._v(" "),t.form.hasError("employer_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employer_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employee Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employee_max,expression:"form.employee_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employee_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employee_max",e.target.value)}}}),t._v(" "),t.form.hasError("employee_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated ?")])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-pension-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Pension Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updatePension}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Pension")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,options:t.pensions,reduce:function(t){return t.id},label:"name"},model:{value:t.form.pension_id,callback:function(e){t.$set(t.form,"pension_id",e)},expression:"form.pension_id"}}),t._v(" "),t.form.errors.has("item_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("item_id"))}}):t._e(),t._v(" "),t.form.hasError("ledger_id")?e("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("ledger_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employer Max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employer_max,expression:"form.employer_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employer_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employer_max",e.target.value)}}}),t._v(" "),t.form.hasError("employer_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employer_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Employee Max")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employee_max,expression:"form.employee_max"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.employee_max},on:{input:function(e){e.target.composing||t.$set(t.form,"employee_max",e.target.value)}}}),t._v(" "),t.form.hasError("employee_max")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_max"))}}):t._e()]),t._v(" "),e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated ?")])]),t._v(" "),e("div",{staticClass:"small"},[t._v("be sure, before checking/ unchecking it")]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openPensionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Pension\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeePensions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editPension(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deletePension(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Pensions\n        ")])])}],!1,null,"07c40854",null).exports;const g=(0,s.defineComponent)({name:"Relief",props:{reliefs:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){}}},data:function(){return{fields:[{name:"relief.name",title:"Name",titleClass:"ps-3",dataClass:"ps-3",width:"45%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],form:new window.Form({id:null,employee_payroll_id:this.employee.id,relief_id:null,amount:null}),enableForm:!1,employeeReliefs:[]}},mounted:function(){this.retrieveEmployeeReliefs()},methods:{retrieveEmployeeReliefs:function(){var t=this;this.$httpClient.get("/payroll/reliefs/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeReliefs=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee reliefs")}))},deleteRelief:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/reliefs/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},openReliefModal:function(){this.$bvModal.show("relief-modal")},addRelief:function(){var t=this;this.form.post("/payroll/reliefs").then((function(){t.$toast.success("Relief has been added"),t.$bvModal.hide("reliefshow-modal"),t.cleanUp()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editRelief:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-relief-modal")},updateRelief:function(){var t=this;this.form.patch("/payroll/reliefs/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-relief-modal"),t.vuetable.reload()})).catch()},cleanUp:function(){this.form.reset(),this.retrieveEmployeeReliefs()}}});const C=(0,n.Z)(g,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"relief-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Employee Relief Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addRelief}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Relief")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.reliefs,label:"name"},model:{value:t.form.relief_id,callback:function(e){t.$set(t.form,"relief_id",e)},expression:"form.relief_id"}}),t._v(" "),t.form.errors.has("relief_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("relief_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-relief-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Employee Relief Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateRelief}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Relief")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.reliefs,label:"name"},model:{value:t.form.relief_id,callback:function(e){t.$set(t.form,"relief_id",e)},expression:"form.relief_id"}}),t._v(" "),t.form.errors.has("relief_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("relief_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openReliefModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add relief\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeReliefs,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editRelief(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteRelief(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Relief\n        ")])])}],!1,null,"41776ea4",null).exports;const w=(0,s.defineComponent)({name:"Dedutions",props:{deductions:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employee:{type:Object,default:function(){return[]}}},data:function(){return{fields:[{name:"deduction.name",title:"Name",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeDeductions:[],form:new window.Form({id:null,employee_payroll_id:this.employee.id,deduction_id:null,is_insurance:!1,to_be_accumulated:!1,amount:null})}},watch:{},mounted:function(){this.retrieveEmployeeDeductions()},methods:{retrieveEmployeeDeductions:function(){var t=this;this.$httpClient.get("/payroll/deductions/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeDeductions=a})).catch((function(){t.$toast.error("There was a problem retrieving the employee deductions")}))},openDeductionModal:function(){this.$bvModal.show("deduction-modal")},addDedution:function(){var t=this;this.form.post("/payroll/deductions").then((function(){t.$toast.success("The deduction has been added"),t.$bvModal.hide("deduction-modal"),t.cleanUp(),t.vuetable.reload()})).catch((function(e){var a;t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.errors)}))},editDeduction:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-deduction-modal")},updateIncome:function(){var t=this;this.form.patch("/payroll/deductions/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-deduction-modal"),t.vuetable.reload()})).catch()},deleteDeduction:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/deductions/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeDeductions()}}});const x=(0,n.Z)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"deduction-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Dedution Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addDedution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Deduction")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.deductions,label:"name"},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.errors.has("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("deduction_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_insurance,expression:"form.is_insurance"}],staticClass:"form-check-input",attrs:{id:"is_insurance",type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_insurance)?t._i(t.form.is_insurance,null)>-1:t.form.is_insurance},on:{change:function(e){var a=t.form.is_insurance,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_insurance",a.concat([null])):o>-1&&t.$set(t.form,"is_insurance",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_insurance",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"is_insurance"}},[t._v("Is Insurance")])]),t._v(" "),t.form.hasError("is_insurance")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("is_insurance"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated")])]),t._v(" "),t.form.hasError("to_be_accumulated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("to_be_accumulated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-deduction-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Deduction Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateIncome}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Deduction")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.deductions,label:"name"},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.errors.has("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("deduction_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_insurance,expression:"form.is_insurance"}],staticClass:"form-check-input",attrs:{id:"free_bed",type:"checkbox"},domProps:{checked:Array.isArray(t.form.is_insurance)?t._i(t.form.is_insurance,null)>-1:t.form.is_insurance},on:{change:function(e){var a=t.form.is_insurance,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"is_insurance",a.concat([null])):o>-1&&t.$set(t.form,"is_insurance",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"is_insurance",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"free_bed"}},[t._v("Is Insurance")])]),t._v(" "),t.form.hasError("is_insurance")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("is_insurance"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_be_accumulated,expression:"form.to_be_accumulated"}],staticClass:"form-check-input",attrs:{id:"to_be_accumulated",type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_be_accumulated)?t._i(t.form.to_be_accumulated,null)>-1:t.form.to_be_accumulated},on:{change:function(e){var a=t.form.to_be_accumulated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_be_accumulated",a.concat([null])):o>-1&&t.$set(t.form,"to_be_accumulated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_be_accumulated",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"to_be_accumulated"}},[t._v("To be accumulated ?")])]),t._v(" "),e("div",{staticClass:"small"},[t._v("be sure, before checking/ unchecking it")]),t._v(" "),t.form.hasError("to_be_accumulated")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("to_be_accumulated"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openDeductionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Deduction\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeDeductions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"date",fn:function(a){return[e("div",{staticClass:"flex-fill"},[e("div",{staticClass:"ps-3"},[t._v("\n            "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date))+"\n          ")]),t._v(" "),e("div",{staticClass:"text-indigo small ps-3"},[t._v("\n            "+t._s(t._f("tIME_HOUR_MINUTES")(a.rowData.date))+"\n          ")])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n            ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n            ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Deductions\n        ")])])}],!1,null,"ea92eafa",null).exports;const k=(0,s.defineComponent)({name:"Benefits",props:{employee:{type:Object,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},benefits:{type:Array,default:function(){return[]}}},data:function(){return{fields:[{name:"benefit.name",title:"Benefits",titleClass:" text-start pe-3",dataClass:" text-start pe-3",width:"8%"},{name:"amount",title:"Amount",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")},titleClass:"text-end pe-3",dataClass:"text-end pe-3",width:"10%"},{name:"__slot:actions",dataClass:"txt-center",width:"5%"}],employeeContributions:[],form:new window.Form({id:null,employee_payroll_id:this.employee.id,benefit_id:"",amount:null}),enableForm:!0,reverseForm:new window.Form({comments:"",detail_id:"",source:"1"})}},watch:{"form.continuous":function(t){t&&(this.form.end_date=null)}},mounted:function(){this.retrieveEmployeeBenefits()},methods:{retrieveEmployeeBenefits:function(){var t=this;this.$httpClient.get("/payroll/benefits/"+this.employee.hashid).then((function(e){var a=e.data;t.employeeContributions=a})).catch((function(){t.$toast.error("There was a problem retrieving the Employee benefits")}))},openContributionModal:function(){this.$bvModal.show("benefit-modal")},addBenefit:function(){var t=this;this.form.post("/payroll/benefits").then((function(){t.$toast.success("Benefit has been added"),t.$bvModal.hide("benefit-modal"),t.cleanUp(),t.$emit("bill-added")})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},editContribution:function(t){this.form.populate(t),this.form.amount=.01*t.amount,this.$bvModal.show("edit-benefit-modal")},updateContribution:function(){var t=this;this.form.patch("/payroll/benefits/"+this.form.id).then((function(){t.$toast.success("The changes have been saved"),t.cleanUp(),t.$bvModal.hide("edit-benefit-modal"),t.vuetable.reload()})).catch()},deleteContribution:function(t){var e=this;this.form.id=t.id,this.$toast.question("Are you sure?","You want to delete").then((function(){e.$httpClient.delete("/payroll/benefits/"+e.form.id).then((function(t){e.$toast.success("deleted"),e.cleanUp(),e.vuetable.reload()})).catch((function(t){e.$toast.error(t.response.data)}))}))},cleanUp:function(){this.form.reset(),this.retrieveEmployeeBenefits()}}});const P={components:{Loans:b,Benefits:(0,n.Z)(k,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"benefit-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Benefit Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.addBenefit}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Benefit")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.benefits,label:"name"},model:{value:t.form.benefit_id,callback:function(e){t.$set(t.form,"benefit_id",e)},expression:"form.benefit_id"}}),t._v(" "),t.form.errors.has("benefit_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("benefit_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("b-modal",{attrs:{id:"edit-benefit-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-close-on-backdrop":"","no-close-on-esc":"","no-enforce-focus":"",title:"Edit Benefit Form"},on:{hidden:t.cleanUp},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn",attrs:{disabled:t.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.processing,type:"submit"},on:{click:t.updateContribution}},[t._v("\n        Submit\n      ")])]}}])},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"item_id"}},[t._v("Benefit")]),t._v(" "),e("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:t.benefits,label:"name"},model:{value:t.form.benefit_id,callback:function(e){t.$set(t.form,"benefit_id",e)},expression:"form.benefit_id"}}),t._v(" "),t.form.errors.has("benefit_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.errors.first("benefit_id"))}}):t._e()],1),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("div",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()]),t._v(" "),e("div",{staticClass:"card rounded-3 mb-5"},[e("div",{staticClass:"card-header"},[t._m(0),t._v(" "),e("div",{staticClass:"card-actions"},[e("div",{staticClass:"btn-list"},[e("button",{staticClass:"btn btn-primary me-4",on:{click:function(e){return e.preventDefault(),t.openContributionModal.apply(null,arguments)}}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v(" Add Benefit\n          ")])])])]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-mode":!1,data:t.employeeContributions,fields:t.fields,"load-on-start":!1,"show-pagination":!1,"show-per-page":!1},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-center py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.editContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n          ")]),t._v(" "),e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.deleteContribution(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n          ")])])])]}}])})],1)],1)}),[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("h2",{staticClass:"card-title mb-0 fw-bold"},[t._v("\n          Benefits\n        ")])])}],!1,null,"37902edd",null).exports,Contributions:i,Allowances:c,Income:m,Pension:y,Relief:C,Dedutions:x},props:{employee:{type:Object,required:!0,default:function(){}},employeetypes:{type:Array,default:function(){return[]}},bankbranches:{type:Array,default:function(){return[]}},actiontypes:{type:Array,default:function(){return[]}},severitylevels:{type:Array,default:function(){return[]}},jobgroups:{type:Array,default:function(){return[]}},allowances:{type:Array,default:function(){return[]}},reliefs:{type:Array,default:function(){return[]}},deductions:{type:Array,default:function(){return[]}},pensions:{type:Array,default:function(){return[]}},contributions:{type:Array,default:function(){return[]}},benefits:{type:Array,default:function(){return[]}},departments:{type:Array,default:function(){return[]}},incomes:{type:Array,default:function(){return[]}},employees:{type:Array,default:function(){return[]}},loantypes:{type:Array,default:function(){return[]}}},data:function(){return{PAYEOptions:[{name:"Not Applicable",value:0},{name:"Graduated Tax",value:1},{name:"30% of Gross Salary",value:2},{name:"5% with-holding",value:3}],disabilities:["Mobility Impairments","Chronic Health Conditions","Visual Impairments","Hearing Impairments","Intellectual Disabilities","Autism Spectrum Disorders","Mental Illnesses","Dyslexia","Dyscalculia","Dysgraphia","Multiple Sclerosis","Cerebral Palsy","Traumatic Brain Injury","Chronic Fatigue Syndrome","Fibromyalgia","Speech Impairments","Language Impairments","Memory Disorders","Attention Deficit Disorders"],employmentStatus:[{name:"active",value:0},{name:"suspended",value:1},{name:"terminated",value:2}],maritalStatus:[{name:"Single",value:0},{name:"Married",value:1},{name:"Devoced",value:2},{name:"Others",value:3}],is_disabled:[{name:"No",value:0},{name:"Yes",value:1}],employmentHistory:[],form:new window.Form({id:null,name:"",dob:"",gender:"",id_no:"",physical_address:"",telephone:"",marital_status:"",job_title:"",payroll_no:"",employee_type_id:null,contract_exp:null,job_group_id:null,email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:"",pays_tax:!1,pays_nssf:!1,pays_shif:!1,pays_housing_levy:!1,employment_status:!1,department_id:null,nationality:""}),employeeForm:new window.Form({id:null,name:"",dob:"",gender:"",id_no:"",physical_address:"",job_title:"",is_disabled:"",disability:"",telephone:"",payroll_no:"",employee_type_id:null,contract_exp:null,next_of_kin:"",supervisor:"",email:"",kra_pin:"",shif_no:"",nssf_no:"",payee_type:0,job_group_id:null,pays_tax:!1,pays_nssf:!1,pays_shif:!1,pays_housing_levy:!1,department_id:null,employment_status:!1,activated:!0,employee_bank_details:{id:null,bank_branch_id:null,account_number:null}}),genderList:["MALE","FEMALE"],promotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",promotion_date:null,promotion_reason:""}),demotionForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",demotion_date:null,demotion_reason:""}),is_in_contract:!1,transferForm:new window.Form({employee_id:null,new_job_group_id:null,new_department_id:null,new_job_title:"",transfer_date:null,transfer_reason:""}),p9Form:new window.Form({employee_payroll_id:null,year:""}),employmentphoto:new window.Form({employee_id:this.employee.id,image:null}),caseForm:new window.Form({employee_id:null,incident_date:null,description:"",severity_level:null,resolution_date:null,resolution_details:"",status:!1,action_type_id:null,action_details:""}),payslip:new window.Form({employee_payroll_id:null,startDate:"",endDate:""}),generatingPayslips:!1,showPatientEditForm:!1}},computed:{backgroundImageUrl:function(){return null!=this.employee.profile_image?"/storage/".concat(this.employee.profile_image.file_path):""},filterEmployee:function(){return this.employees}},watch:{"employeeForm.employee_type_id":function(t){"Permanent"!==this.employeetypes.find((function(e){return e.id===t})).name?(this.is_in_contract=!0,this.employeeForm.is_contract=!0):(this.is_in_contract=!1,this.employeeForm.is_contract=!1)}},created:function(){this.employeeForm.populate(this.employee),this.employeeForm.employee_bank_details||(this.employeeForm.employee_bank_details={id:null,bank_branch_id:null,account_number:null})},methods:{togglePatientEditForm:function(){this.showPatientEditForm=!this.showPatientEditForm},showP9Form:function(){this.p9Form.employee_payroll_id=this.employee.id,this.p9Form.year=(new Date).getFullYear(),this.$bvModal.show("P10-form-modal")},showPayslipModal:function(){this.$bvModal.show("paylips-modal")},generatePayslips:function(t){var e=this;this.generatingPayslips=!0,this.$httpClient.get("/payroll/generate-payslips/"+this.employee.hashid,{params:{employee_payroll_id:this.employee.id,startDate:this.payslip.startDate,endDate:this.payslip.endDate},responseType:"blob"}).then((function(t){var a=t.data,s=new Blob([a],{type:"application/pdf"}),r=document.createElement("a"),o=window.URL.createObjectURL(s);r.href=o,r.download="".concat(e.employee.name," payslips-from").concat(e.payslip.startDate,"-to").concat(e.payslip.endDate,".pdf"),r.click(),window.URL.revokeObjectURL(o),e.generatingPayslips=!1,e.$bvModal.hide("paylips-modal")})).catch((function(t){if(e.generatingPayslips=!1,t.response&&t.response.data&&t.response.data.error){var a=t.response.data.error;e.payslip.errors.record(a)}else console.error("An unexpected error occurred."),400===t.response.status&&e.$toast.error("No payment for the period selected"),e.payslip.errors.record("An unexpected error occurred. Please try again later.");e.payslip.processing=!1}))},showEmployeeImage:function(){this.$bvModal.show("profile-image-modal")},formatDate:function(t){var e=new Date(t);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-")},formP9:function(){var t=this;this.$httpClient.get("/reports/download-form-9",{responseType:"blob",params:{employee_payroll_id:this.p9Form.employee_payroll_id,year:this.p9Form.year}}).then((function(e){var a=e.data;t.p9Form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.p9Form.errors.record("An unexpected error occurred. Please try again later.");t.p9Form.processing=!1}))},updateEmployee:function(){var t=this;this.employeeForm.patch("/payroll/master/"+this.employee.hashid).then((function(){t.$toast.success("Employee details have been updated"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},showPromotionForm:function(){this.promotionForm.employee_id=this.employee.id,this.promotionForm.new_job_group_id=this.employee.job_group_id,this.promotionForm.new_department_id=this.employee.department_id,this.promotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("promotion-modal")},showDemotionForm:function(){this.demotionForm.employee_id=this.employee.id,this.demotionForm.new_job_group_id=this.employee.job_group_id,this.demotionForm.new_department_id=this.employee.department_id,this.demotionForm.new_job_title=this.employee.job_title,this.$bvModal.show("demotion-modal")},showTransferForm:function(){this.transferForm.employee_id=this.employee.id,this.transferForm.new_job_group_id=this.employee.job_group_id,this.transferForm.new_department_id=this.employee.department_id,this.transferForm.new_job_title=this.employee.job_title,this.$bvModal.show("transfer-modal")},showCaseForm:function(){this.caseForm.employee_id=this.employee.id,this.$bvModal.show("record-case-modal")},transfer:function(){var t=this;this.$bvModal.hide("transfer-modal"),this.$toast.question("Are you sure?","You want to transfer "+this.employee.name).then((function(){t.transferForm.post("/employee/transfer").then((function(){t.$toast.success("Employee Transfered"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},showHistory:function(){this.$bvModal.show("employment-history-modal")},demotion:function(){var t=this;this.$bvModal.hide("demotion-modal"),this.$toast.question("Are you sure?","You want to demote "+this.employee.name).then((function(){t.demotionForm.post("/employee/demote").then((function(){t.$toast.success("Employee demoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},promote:function(){var t=this;this.$bvModal.hide("promotion-modal"),this.$toast.question("Are you sure?","You want to promote "+this.employee.name).then((function(){t.promotionForm.post("/employee/promote").then((function(){t.$toast.success("Employee promoted"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Something went wrong"),t.form.errors.record(e.response.data.errors)}))}))},recordCase:function(){var t=this;this.$toast.question("Confirm Action","Are you sure you want to submit a disciplinary case against ".concat(this.employee.name,"?")).then((function(){t.caseForm.post("/employee/disciplinary").then((function(){t.$toast.success("The disciplinary case has been successfully submitted."),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){t.form.processing=!1,t.$toast.error("Oops! Something went wrong while submitting the disciplinary case."),t.form.errors.record(e.response.data.errors)}))}))},retrieveEmploymentHistory:function(){var t=this;this.$httpClient.get("/employee/employment-history/"+this.employee.id).then((function(e){var a=e.data;t.employmentHistory=a})).catch((function(){t.$toast.error("There was a problem retrieving the employment history")}))},uploadPhoto:function(){var t=this;this.employmentphoto.post("/employee/employee-photo").then((function(){t.$toast.success("Photo uploaded"),t.$bvModal.hide("profile-image-modal"),setTimeout((function(){window.location.reload()}),3e3)})).catch()},updateImage:function(t){this.employmentphoto.image=t.target.files[0]}}};var E=a(3379),F=a.n(E),$=a(3962),D={insert:"head",singleton:!1};F()($.Z,D);$.Z.locals;const S=(0,n.Z)(P,(function(){var t,e,a,s,r,o=this,n=o._self._c;return n("div",[n("div",{staticClass:"row mb-4 gx-4"},[n("div",{staticClass:"col-xl-5"},[o.showPatientEditForm?n("div",{staticClass:"card card-stacked"},[n("div",{staticClass:"card-header"},[n("div",[n("h3",{staticClass:"card-title"},[o._v("\n              "+o._s(o.employee.name)+"\n            ")]),o._v(" "),n("p",{staticClass:"card-subtitle small text-indigo"},[o._v("\n              Registered "+o._s(o._f("dATE_MONTH_YEAR_HOUR_MINUTES")(o.employee.employed_at))+"\n            ")]),o._v(" "),1===o.employee.employment_status?n("div",{staticClass:"text-warning"},[o._v("\n              Suspended\n            ")]):o._e(),o._v(" "),2===o.employee.employment_status?n("div",{staticClass:"text-danger"},[o._v("\n              Terminated\n            ")]):o._e(),o._v(" "),n("p")])]),o._v(" "),n("div",{staticClass:"card-body px-4"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xl-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Employee No")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.payroll_no,expression:"employeeForm.payroll_no"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:o.employeeForm.payroll_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"payroll_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("payroll_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("payroll_no"))}}):o._e()])])]),o._v(" "),n("div",{staticClass:"col-xl-8"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Full Name")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:o.employeeForm.name},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"name",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("name")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("name"))}}):o._e()])])]),o._v(" "),n("div",{staticClass:"col-xl-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Gender")]),o._v(" "),n("v-select",{attrs:{id:"gender",name:"gender",options:o.genderList,label:"name",reduce:function(t){return t},clearable:!1},model:{value:o.employeeForm.gender,callback:function(t){o.$set(o.employeeForm,"gender",t)},expression:"employeeForm.gender"}}),o._v(" "),o.employeeForm.hasError("gender")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("gender"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-8"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[o._v("Identification Number ")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.id_no,expression:"employeeForm.id_no"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:o.employeeForm.id_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"id_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("id_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("id_no"))}}):o._e()])])])]),o._v(" "),n("div",{staticClass:"row gx-4"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Email ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.email},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"email",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("email")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("email"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Department")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"department_id",options:o.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.department_id,callback:function(t){o.$set(o.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),o._v(" "),o.employeeForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("department_id"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Supervisor")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"supervisor",options:o.filterEmployee,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.supervisor,callback:function(t){o.$set(o.employeeForm,"supervisor",t)},expression:"employeeForm.supervisor"}}),o._v(" "),o.employeeForm.hasError("supervisor")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("supervisor"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.job_title},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"job_title",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_title"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employee Type")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.employee_type_id,callback:function(t){o.$set(o.employeeForm,"employee_type_id",t)},expression:"employeeForm.employee_type_id"}}),o._v(" "),o.employeeForm.hasError("employee_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("employee_type_id"))}}):o._e()],1),o._v(" "),o.is_in_contract?n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employment Expiry Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.employeeForm.contract_exp,"min-date":new Date},on:{"on-change":function(t,e){o.employeeForm.contract_exp=e}}}),o._v(" "),o.employeeForm.hasError("contract_exp")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("contract_exp"))}}):o._e()],1):o._e(),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Job Group")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.job_group_id,callback:function(t){o.$set(o.employeeForm,"job_group_id",t)},expression:"employeeForm.job_group_id"}}),o._v(" "),o.employeeForm.hasError("job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Bank Branch")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.bankbranches,reduce:function(t){return t.id},clearable:!1},scopedSlots:o._u([{key:"option",fn:function(t){return[n("li",{staticClass:"media mb-1"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",[o._v(o._s(t.bank.bank_name)+" - "+o._s(t.branch_name))])])])])]}},{key:"selected-option",fn:function(t){return[n("li",{staticClass:"media mb-1"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",[o._v(o._s(t.bank.bank_name)+" - "+o._s(t.branch_name))])])])])]}}],null,!1,4235263309),model:{value:o.employeeForm.employee_bank_details.bank_branch_id,callback:function(t){o.$set(o.employeeForm.employee_bank_details,"bank_branch_id",t)},expression:"employeeForm.employee_bank_details.bank_branch_id"}}),o._v(" "),o.employeeForm.hasError("bank_branch_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("bank_branch_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Account No")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.employee_bank_details.account_number,expression:"employeeForm.employee_bank_details.account_number"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.employeeForm.employee_bank_details.account_number},on:{input:function(t){t.target.composing||o.$set(o.employeeForm.employee_bank_details,"account_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("account_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("account_number"))}}):o._e()]),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_tax,expression:"employeeForm.pays_tax"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_tax)?o._i(o.employeeForm.pays_tax,null)>-1:o.employeeForm.pays_tax},on:{change:function(t){var e=o.employeeForm.pays_tax,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_tax",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_tax",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_tax",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays tax")])])]),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Tax Setup")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.PAYEOptions,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.payee_type,callback:function(t){o.$set(o.employeeForm,"payee_type",t)},expression:"employeeForm.payee_type"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)]):o._e(),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Kra PIN ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.kra_pin,expression:"employeeForm.kra_pin"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.kra_pin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"kra_pin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("kra_pin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("kra_pin"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_shif,expression:"employeeForm.pays_shif"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_shif)?o._i(o.employeeForm.pays_shif,null)>-1:o.employeeForm.pays_shif},on:{change:function(t){var e=o.employeeForm.pays_shif,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_shif",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_shif",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_shif",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays SHIF")])])]),o._v(" "),o.employeeForm.pays_shif?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("SHIF Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.shif_no,expression:"employeeForm.shif_no"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.shif_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"shif_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("shif_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("shif_no"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_nssf,expression:"employeeForm.pays_nssf"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_nssf)?o._i(o.employeeForm.pays_nssf,null)>-1:o.employeeForm.pays_nssf},on:{change:function(t){var e=o.employeeForm.pays_nssf,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_nssf",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_nssf",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_nssf",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Nssf")])])]),o._v(" "),o.employeeForm.pays_nssf?n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"telephone"}},[o._v("Nssf Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nssf_no,expression:"employeeForm.nssf_no"}],staticClass:"form-control",attrs:{id:"telephone",max:"10",type:"tel"},domProps:{value:o.employeeForm.nssf_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nssf_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nssf_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nssf_no"))}}):o._e()]):o._e(),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_housing_levy,expression:"employeeForm.pays_housing_levy"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_housing_levy)?o._i(o.employeeForm.pays_housing_levy,null)>-1:o.employeeForm.pays_housing_levy},on:{change:function(t){var e=o.employeeForm.pays_housing_levy,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_housing_levy",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_housing_levy",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_housing_levy",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Housing Levy")])])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Employment status")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.employmentStatus,label:"name",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.employment_status,callback:function(t){o.$set(o.employeeForm,"employment_status",t)},expression:"employeeForm.employment_status"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)])])]),o._v(" "),n("div",{staticClass:"d-flex justify-content-between space-x px-4 mb-4"},[n("button",{staticClass:"btn w-25 py-3",attrs:{disabled:o.employeeForm.processing},on:{click:o.togglePatientEditForm}},[o._v("\n            Close\n          ")]),o._v(" "),n("button",{staticClass:"btn btn-primary w-25 py-3",attrs:{disabled:o.employeeForm.processing},on:{click:o.updateEmployee}},[o._v("\n            Save Changes\n          ")])])]):n("div",{staticClass:"card card-stacked"},[n("div",{staticClass:"card-header"},[n("div",[n("div",{staticClass:"card-body d-flex align-items-center gap-2"},[o.employee.profile_image?n("span",{staticClass:"avatar avatar-xl rounded",style:{backgroundImage:"url(".concat(null!==(t=o.backgroundImageUrl)&&void 0!==t?t:"",")")}},[n("div",{staticClass:"dropdown-mnu position-absolute"},[n("a",{staticClass:"item",attrs:{href:null!==(e=o.backgroundImageUrl)&&void 0!==e?e:"",target:"_blank"}},[o._v("\n                    View image\n                  ")]),o._v(" "),n("a",{staticClass:"item",attrs:{href:"#"},on:{click:o.showEmployeeImage}},[o._v("\n                    change image\n                  ")])])]):n("span",{staticClass:"avatar avatar-xl rounded",staticStyle:{"background-image":"url(./static/avatars/005f.jpg)"}},[o._v(o._s(o.employee.name.slice(0,2))+"\n                "),n("div",{staticClass:"dropdown-mnu position-absolute"},[n("a",{staticClass:"item",attrs:{href:null!==(a=o.backgroundImageUrl)&&void 0!==a?a:"",target:"_blank"}},[o._v("\n                    View image\n                  ")]),o._v(" "),n("a",{staticClass:"item",attrs:{href:"#"},on:{click:o.showEmployeeImage}},[o._v("\n                    change image\n                  ")])])]),o._v(" "),n("span",[n("h3",{staticClass:"m-0 mb-1"},[n("a",{attrs:{href:"#"}},[o._v(o._s(o.employee.name))])]),o._v(" "),n("div",{staticClass:"text-secondary"},[o._v(o._s(o.employee.job_title))])])]),o._v(" "),n("p",{staticClass:"card-subtitle small text-indigo"},[o._v("\n              Registered "+o._s(o._f("dATE_MONTH_YEAR_HOUR_MINUTES")(o.employee.created_at))+"\n            ")]),o._v(" "),1===o.employee.employment_status?n("div",{staticClass:"text-warning"},[o._v("\n              Suspended\n            ")]):o._e(),o._v(" "),2===o.employee.employment_status?n("div",{staticClass:"text-danger"},[o._v("\n              Terminated\n            ")]):o._e(),o._v(" "),n("p")]),o._v(" "),n("div",{staticClass:"card-actions"},[n("div",{staticClass:"btn-group"},[o._m(0),o._v(" "),n("div",{staticClass:"dropdown"},[o._m(1),o._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-end"},[n("h6",{staticClass:"dropdown-header"},[o._v("\n                    Menu\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.togglePatientEditForm.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-edit me-2"}),o._v(" Edit Details\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showP9Form.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-file-download-alt"}),o._v(" P9 Form\n                  ")]),o._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),o.showPayslipModal.apply(null,arguments)}}},[n("i",{staticClass:"uil uil-file-download-alt"}),o._v(" Payslips\n                  ")])])])])])]),o._v(" "),n("div",{staticClass:"card-body px-4"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xl-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Payroll No")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.payroll_no,expression:"employeeForm.payroll_no"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:o.employeeForm.payroll_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"payroll_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("payroll_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("payroll_no"))}}):o._e()])])]),o._v(" "),n("div",{staticClass:"col-xl-8"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[o._v("Full Name")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.name,expression:"employeeForm.name"}],staticClass:"form-control",attrs:{id:"name",disabled:"",type:"text"},domProps:{value:o.employeeForm.name},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"name",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("name")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("name"))}}):o._e()])])]),o._v(" "),n("div",{staticClass:"col-xl-4"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Gender")]),o._v(" "),n("v-select",{attrs:{id:"gender",name:"gender",options:o.genderList,label:"name",reduce:function(t){return t},clearable:!1},model:{value:o.employeeForm.gender,callback:function(t){o.$set(o.employeeForm,"gender",t)},expression:"employeeForm.gender"}}),o._v(" "),o.employeeForm.hasError("gender")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("gender"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-8"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[o._v("ID No")]),o._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.id_no,expression:"employeeForm.id_no"}],staticClass:"form-control",attrs:{id:"identification_value",disabled:"",type:"text"},domProps:{value:o.employeeForm.id_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"id_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("id_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("id_no"))}}):o._e()])])])]),o._v(" "),n("div",{staticClass:"row gx-4"},[n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Email ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.email,expression:"employeeForm.email"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.email},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"email",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("email")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("email"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Department")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"department_id",disabled:"",options:o.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.department_id,callback:function(t){o.$set(o.employeeForm,"department_id",t)},expression:"employeeForm.department_id"}}),o._v(" "),o.employeeForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("department_id"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Supervisor")]),o._v(" "),n("v-select",{attrs:{id:"gender_id",name:"supervisor",disabled:"",options:o.filterEmployee,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.supervisor,callback:function(t){o.$set(o.employeeForm,"supervisor",t)},expression:"employeeForm.supervisor"}}),o._v(" "),o.employeeForm.hasError("supervisor")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("supervisor"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Job Title ")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.job_title,expression:"employeeForm.job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.job_title},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"job_title",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_title"))}}):o._e()])]),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Employee Type")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.employeetypes,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.employee_type_id,callback:function(t){o.$set(o.employeeForm,"employee_type_id",t)},expression:"employeeForm.employee_type_id"}}),o._v(" "),o.employeeForm.hasError("employee_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("employee_type_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Job Group")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",disabled:"",options:o.jobgroups,reduce:function(t){return t.id},clearable:!1},model:{value:o.employeeForm.job_group_id,callback:function(t){o.$set(o.employeeForm,"job_group_id",t)},expression:"employeeForm.job_group_id"}}),o._v(" "),o.employeeForm.hasError("job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Bank Branch")]),o._v(" "),n("v-select",{attrs:{id:"scheme_id",label:"name",options:o.bankbranches,disabled:"",reduce:function(t){return t.id},clearable:!1},scopedSlots:o._u([{key:"option",fn:function(t){return[n("li",{staticClass:"media mb-1"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",[o._v(o._s(t.bank.bank_name)+" - "+o._s(t.branch_name))])])])])]}},{key:"selected-option",fn:function(t){return[n("li",{staticClass:"media mb-1"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",[o._v(o._s(t.bank.bank_name)+" - "+o._s(t.branch_name))])])])])]}}]),model:{value:o.employeeForm.employee_bank_details.bank_branch_id,callback:function(t){o.$set(o.employeeForm.employee_bank_details,"bank_branch_id",t)},expression:"employeeForm.employee_bank_details.bank_branch_id"}}),o._v(" "),o.employeeForm.hasError("bank_branch_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("bank_branch_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"col-lg-6 form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"plan_type"}},[o._v("Account No")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:null===(s=o.employeeForm)||void 0===s?void 0:s.employee_bank_details.account_number,expression:"employeeForm?.employee_bank_details.account_number"}],staticClass:"form-control",attrs:{id:"physical_address",disabled:"",type:"text"},domProps:{value:null===(r=o.employeeForm)||void 0===r?void 0:r.employee_bank_details.account_number},on:{input:function(t){var e;t.target.composing||o.$set(null===(e=o.employeeForm)||void 0===e?void 0:e.employee_bank_details,"account_number",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("account_number")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("account_number"))}}):o._e()]),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Kra PIN")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.kra_pin,expression:"employeeForm.kra_pin"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.kra_pin},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"kra_pin",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("kra_pin")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("kra_pin"))}}):o._e()])]):o._e(),o._v(" "),o.employeeForm.pays_tax?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"form-label",attrs:{for:"paye_type"}},[o._v("Tax Setup")]),o._v(" "),n("v-select",{attrs:{id:"paye_type",options:o.PAYEOptions,label:"name",disabled:"true",clearable:!1,reduce:function(t){return t.value}},model:{value:o.employeeForm.payee_type,callback:function(t){o.$set(o.employeeForm,"payee_type",t)},expression:"employeeForm.payee_type"}}),o._v(" "),o.employeeForm.errors.has("payee_type")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.errors.get("payee_type"))}}):o._e()],1)]):o._e(),o._v(" "),o.employeeForm.pays_shif?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("SHIF Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.shif_no,expression:"employeeForm.shif_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.shif_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"shif_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("shif_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("shif_no"))}}):o._e()])]):o._e(),o._v(" "),o.employeeForm.pays_nssf?n("div",{staticClass:"col-xl-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Nssf Number")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.nssf_no,expression:"employeeForm.nssf_no"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text",disabled:""},domProps:{value:o.employeeForm.nssf_no},on:{input:function(t){t.target.composing||o.$set(o.employeeForm,"nssf_no",t.target.value)}}}),o._v(" "),o.employeeForm.hasError("nssf_no")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.employeeForm.getError("nssf_no"))}}):o._e()])]):o._e(),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.employeeForm.pays_housing_levy,expression:"employeeForm.pays_housing_levy"}],staticClass:"form-check-input",attrs:{disabled:"",type:"checkbox"},domProps:{checked:Array.isArray(o.employeeForm.pays_housing_levy)?o._i(o.employeeForm.pays_housing_levy,null)>-1:o.employeeForm.pays_housing_levy},on:{change:function(t){var e=o.employeeForm.pays_housing_levy,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.employeeForm,"pays_housing_levy",e.concat([null])):r>-1&&o.$set(o.employeeForm,"pays_housing_levy",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.employeeForm,"pays_housing_levy",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Pays Housing Levy")])])])])])])]),o._v(" "),n("div",{staticClass:"col-xl-7"},[n("b-tabs",{attrs:{"nav-class":"mb-2","active-nav-item-class":"bg-white text-indigo"}},[n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Income\n          ")]},proxy:!0}])},[o._v(" "),n("income",{attrs:{employee:o.employee,incomes:o.incomes}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Benefits\n          ")]},proxy:!0}])},[o._v(" "),n("benefits",{attrs:{benefits:o.benefits,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Allowances\n          ")]},proxy:!0}])},[o._v(" "),n("allowances",{attrs:{allowances:o.allowances,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Dedutions\n          ")]},proxy:!0}])},[o._v(" "),n("dedutions",{attrs:{deductions:o.deductions,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Pension\n          ")]},proxy:!0}])},[o._v(" "),n("pension",{attrs:{pensions:o.pensions,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-history me-1"}),o._v(" Relief\n          ")]},proxy:!0}])},[o._v(" "),n("relief",{attrs:{reliefs:o.reliefs,employee:o.employee}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-file-upload-alt me-1"}),o._v(" Contributions\n          ")]},proxy:!0}])},[o._v(" "),n("contributions",{attrs:{employee:o.employee,contributions:o.contributions}})],1),o._v(" "),n("b-tab",{attrs:{"title-link-class":"p-3","title-item-class":"fs-3"},scopedSlots:o._u([{key:"title",fn:function(){return[n("i",{staticClass:"uil uil-file-contract-dollar me-1"}),o._v("Loans\n          ")]},proxy:!0}])},[o._v(" "),n("loans",{attrs:{employee:o.employee,loantypes:o.loantypes}})],1)],1)],1)]),o._v(" "),n("b-modal",{attrs:{id:"promotion-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Promotion Form"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.promote}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.promotionForm.new_job_title,expression:"promotionForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.promotionForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.promotionForm,"new_job_title",t.target.value)}}}),o._v(" "),o.promotionForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.promotionForm.new_job_group_id,callback:function(t){o.$set(o.promotionForm,"new_job_group_id",t)},expression:"promotionForm.new_job_group_id"}}),o._v(" "),o.promotionForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.promotionForm.new_department_id,callback:function(t){o.$set(o.promotionForm,"new_department_id",t)},expression:"promotionForm.new_department_id"}}),o._v(" "),o.promotionForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Promotion Reason")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.promotionForm.promotion_reason,expression:"promotionForm.promotion_reason"}],staticClass:"form-control",domProps:{value:o.promotionForm.promotion_reason},on:{input:function(t){t.target.composing||o.$set(o.promotionForm,"promotion_reason",t.target.value)}}}),o._v(" "),o.form.hasError("promotion_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("promotion_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Promotion Date")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.promotionForm.promotion_date,"max-date":!1},on:{"on-change":function(t,e){o.promotionForm.promotion_date=e}}}),o._v(" "),o.promotionForm.hasError("promotion_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.promotionForm.getError("promotion_date"))}}):o._e()],1)]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"demotion-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Demotion Form"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.demotion}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.demotionForm.new_job_title,expression:"demotionForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.demotionForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.demotionForm,"new_job_title",t.target.value)}}}),o._v(" "),o.demotionForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.demotionForm.new_job_group_id,callback:function(t){o.$set(o.demotionForm,"new_job_group_id",t)},expression:"demotionForm.new_job_group_id"}}),o._v(" "),o.demotionForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.demotionForm.new_department_id,callback:function(t){o.$set(o.demotionForm,"new_department_id",t)},expression:"demotionForm.new_department_id"}}),o._v(" "),o.demotionForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Demotion Reason")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.demotionForm.demotion_reason,expression:"demotionForm.demotion_reason"}],staticClass:"form-control",domProps:{value:o.demotionForm.demotion_reason},on:{input:function(t){t.target.composing||o.$set(o.demotionForm,"demotion_reason",t.target.value)}}}),o._v(" "),o.form.hasError("demotion_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("demotion_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Demotion Date")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.demotionForm.demotion_date,"max-date":!1},on:{"on-change":function(t,e){o.demotionForm.demotion_date=e}}}),o._v(" "),o.demotionForm.hasError("demotion_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.demotionForm.getError("demotion_date"))}}):o._e()],1)]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"transfer-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Job Transfer Form"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.transfer}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Title")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.transferForm.new_job_title,expression:"transferForm.new_job_title"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:o.transferForm.new_job_title},on:{input:function(t){t.target.composing||o.$set(o.transferForm,"new_job_title",t.target.value)}}}),o._v(" "),o.transferForm.hasError("new_job_title")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("new_job_title"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Job Group")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.jobgroups,label:"name"},model:{value:o.transferForm.new_job_group_id,callback:function(t){o.$set(o.transferForm,"new_job_group_id",t)},expression:"transferForm.new_job_group_id"}}),o._v(" "),o.transferForm.hasError("new_job_group_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("new_job_group_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("New Department")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.departments,label:"name"},model:{value:o.transferForm.new_department_id,callback:function(t){o.$set(o.transferForm,"new_department_id",t)},expression:"transferForm.new_department_id"}}),o._v(" "),o.transferForm.hasError("department_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("department_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Reason for transfer")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.transferForm.transfer_reason,expression:"transferForm.transfer_reason"}],staticClass:"form-control",domProps:{value:o.transferForm.transfer_reason},on:{input:function(t){t.target.composing||o.$set(o.transferForm,"transfer_reason",t.target.value)}}}),o._v(" "),o.form.hasError("transfer_reason")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("transfer_reason"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label"},[o._v("Date of transfer")]),o._v(" "),n("div",[n("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:o.transferForm.transfer_date,"max-date":!1},on:{"on-change":function(t,e){o.transferForm.transfer_date=e}}}),o._v(" "),o.transferForm.hasError("transfer_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.transferForm.getError("transfer_date"))}}):o._e()],1)]),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"record-case-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Record Disciplinary Case"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.form.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.form.processing,type:"submit"},on:{click:o.recordCase}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Case Description")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.description,expression:"caseForm.description"}],staticClass:"form-control",domProps:{value:o.caseForm.description},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"description",t.target.value)}}}),o._v(" "),o.caseForm.hasError("description")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("description"))}}):o._e()]),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Severity Level")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.severitylevels,label:"name"},model:{value:o.caseForm.severity_level,callback:function(t){o.$set(o.caseForm,"severity_level",t)},expression:"caseForm.severity_level"}}),o._v(" "),o.caseForm.hasError("severity_level")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("severity_level"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Incident Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.caseForm.incident_date,"max-date":new Date},on:{"on-change":function(t,e){o.caseForm.incident_date=e}}}),o._v(" "),o.caseForm.hasError("incident_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("incident_date"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Resolution Date")]),o._v(" "),n("date-picker",{attrs:{name:"date_of_birth",value:o.caseForm.resolution_date,"min-date":new Date},on:{"on-change":function(t,e){o.caseForm.resolution_date=e}}}),o._v(" "),o.caseForm.hasError("resolution_date")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("resolution_date"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Resolution Details")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.resolution_details,expression:"caseForm.resolution_details"}],staticClass:"form-control",domProps:{value:o.caseForm.resolution_details},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"resolution_details",t.target.value)}}}),o._v(" "),o.form.hasError("resolution_details")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.form.getError("resolution_details"))}}):o._e()]),o._v(" "),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-check form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.status,expression:"caseForm.status"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.caseForm.status)?o._i(o.caseForm.status,null)>-1:o.caseForm.status},on:{change:function(t){var e=o.caseForm.status,a=t.target,s=!!a.checked;if(Array.isArray(e)){var r=o._i(e,null);a.checked?r<0&&o.$set(o.caseForm,"status",e.concat([null])):r>-1&&o.$set(o.caseForm,"status",e.slice(0,r).concat(e.slice(r+1)))}else o.$set(o.caseForm,"status",s)}}}),o._v(" "),n("span",{staticClass:"form-check-label"},[o._v("Case closed ?")])])]),o._v(" "),o.caseForm.status?n("div",{staticClass:"card"},[n("div",{staticClass:"card-title p-2"},[o._v("\n        Take Action\n      ")]),o._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Action")]),o._v(" "),n("v-select",{attrs:{id:"item_id",clearable:!1,reduce:function(t){return t.id},options:o.actiontypes,label:"name"},model:{value:o.caseForm.action_type_id,callback:function(t){o.$set(o.caseForm,"action_type_id",t)},expression:"caseForm.action_type_id"}}),o._v(" "),o.caseForm.hasError("action_type_id")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("action_type_id"))}}):o._e()],1),o._v(" "),n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Action Details")]),o._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:o.caseForm.action_details,expression:"caseForm.action_details"}],staticClass:"form-control",domProps:{value:o.caseForm.action_details},on:{input:function(t){t.target.composing||o.$set(o.caseForm,"action_details",t.target.value)}}}),o._v(" "),o.caseForm.hasError("action_details")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.caseForm.getError("action_details"))}}):o._e()])])]):o._e(),o._v(" "),o.form.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"P10-form-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Generate P9 Form"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.formP9.processing,type:"submit"},on:{click:o.formP9}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Year")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:o.p9Form.year,expression:"p9Form.year"}],staticClass:"form-control",attrs:{id:"",type:"number",name:""},domProps:{value:o.p9Form.year},on:{input:function(t){t.target.composing||o.$set(o.p9Form,"year",t.target.value)}}}),o._v(" "),o.p9Form.hasError("year")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.p9Form.getError("year"))}}):o._e()]),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"employment-history-modal","body-class":"px-4",size:"lg","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:o.employee.name+" Employment History"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.formP9.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.formP9.processing,type:"submit"},on:{click:o.formP9}},[o._v("\n        Submit\n      ")])]}}])},[n("div",[n("div",{staticClass:"containe"},[n("section",{staticClass:"employment-history"},[n("table",{staticClass:"history-table"},[n("thead",[n("tr",[n("th",[o._v("Job Title")]),o._v(" "),n("th",[o._v("Department")]),o._v(" "),n("th",[o._v("Start Date")]),o._v(" "),n("th",[o._v("End Date")]),o._v(" "),n("th",[o._v("Comments")])])]),o._v(" "),n("tbody",o._l(o.employmentHistory,(function(t){return n("tr",{key:t.id},[n("td",[o._v(o._s(t.job_title))]),o._v(" "),n("td",[o._v(o._s(t.department.name))]),o._v(" "),n("td",[o._v(o._s(o.formatDate(t.start_date)))]),o._v(" "),n("td",[o._v(o._s(o.formatDate(t.end_date)))]),o._v(" "),n("td",[o._v(o._s(t.notes))])])})),0)])])])]),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()]),o._v(" "),n("b-modal",{attrs:{id:"profile-image-modal","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Upload profile image"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.employmentphoto.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.employmentphoto.processing,type:"submit"},on:{click:o.uploadPhoto}},[o._v("\n        Submit\n      ")])]}}])},[n("form",{attrs:{enctype:"multipart/form-data",method:"post"}},[n("input",{attrs:{id:"",type:"file",name:""},on:{input:o.updateImage}}),o._v(" "),o.formP9.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()])]),o._v(" "),n("b-modal",{attrs:{id:"paylips-modal",size:"md","body-class":"px-4","content-class":"bg-white rounded-3","footer-class":"d-flex justify-content-between bg-muted-lt border-top","hide-header-close":"","modal-class":"modal-blur","no-enforce-focus":"",title:"Generate Paylips"},scopedSlots:o._u([{key:"modal-footer",fn:function(t){var e=t.cancel;return[n("button",{staticClass:"btn",attrs:{disabled:o.payslip.processing,type:"button"},on:{click:function(t){return t.preventDefault(),e.apply(null,arguments)}}},[o._v("\n        Close\n      ")]),o._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:o.payslip.processing,type:"submit"},on:{click:o.generatePayslips}},[o._v("\n        Submit\n      ")])]}}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("Start Date")]),o._v(" "),n("date-picker",{attrs:{name:"start_date",value:o.payslip.startDate},on:{"on-change":function(t,e){o.payslip.startDate=e}}}),o._v(" "),o.p9Form.hasError("startDate")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.p9Form.getError("startDate"))}}):o._e()],1)]),o._v(" "),n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[o._v("End Date")]),o._v(" "),n("date-picker",{attrs:{name:"end_date",value:o.payslip.endDate,"max-date":new Date},on:{"on-change":function(t,e){o.payslip.endDate=e}}}),o._v(" "),o.payslip.hasError("endDate")?n("span",{staticClass:"text-danger",domProps:{textContent:o._s(o.payslip.getError("endDate"))}}):o._e()],1)])]),o._v(" "),o.generatingPayslips?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e(),o._v(" "),o.payslip.processing?n("div",{staticClass:"progress mb-2"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):o._e()])],1)}),[function(){var t=this._self._c;return t("a",{staticClass:"btn rounded-3 me-3",attrs:{href:"/payroll/master",title:"Return to Employees dashboard"}},[t("i",{staticClass:"uil uil-arrow-left me-2"}),this._v(" Employees\n              ")])},function(){var t=this._self._c;return t("button",{staticClass:"btn align-text-center",attrs:{"data-bs-toggle":"dropdown"}},[t("i",{staticClass:"uil uil-ellipsis-h"})])}],!1,null,"65c1ff49",null).exports},6650:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(4801);const r={data:function(){return{fields:[{name:"__slot:pay_date",title:"Month",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"totalNetPay",title:"Net Pay",titleClass:"font-weight-bold text-end",dataClass:"text-end",callback:function(t){return t<0?"("+(0,s.p)(Math.floor(Math.abs(.01*t))).toFormat("0,0.00")+")":(0,s.p)(.01*t).toFormat("0,00")+".00"}},{name:"processed_by.name",title:"Processed by",titleClass:"font-weight-bold text-right",dataClass:"text-right"},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:""}},selectedPayroll:null,deletingPayroll:!1,printingPayslips:!1,approvingPayroll:!1,printingSummary:!1,form:new window.Form({id:null,month:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showLoading:function(t){var e=this;this.$httpClient.post("/payroll/email-payslips",{year:t.year,month:t.month}).then((function(){e.vuetable.reload(),e.$toast.success("payslips sent")})).catch((function(){e.$toast.error("There was a problem sending payslips")}))},emailP9Form:function(t){var e=this;this.$httpClient.post("/payroll/email-p9form/",{year:t.year,month:t.month}).then((function(){e.vuetable.reload(),e.$toast.success("payslips sent")})).catch((function(){e.$toast.error("There was a problem sending payslips")}))},showPayrollDetails:function(t){window.location.href="/payroll/lists/".concat(t.pay_date)},formatDate:function(t){var e=new Date(t);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-")},processPayroll:function(){var t=this;this.form.post("/payroll").then((function(){t.$bvModal.hide("create-modal"),t.$toast.success("Payroll has been processed"),t.vuetable.reload()})).catch((function(e){var a=e.response;400===a.status&&t.$toast.error(a.data),console.log(e)}))},showPrintingPayslips:function(t){this.selectedPayroll=t,this.$bvModal.show("printing-payslips-modal")},showPrintingSummary:function(t){this.selectedPayroll=t,this.$bvModal.show("printing-summary-modal")},showDelelePayrollModal:function(t){this.selectedPayroll=t,this.$bvModal.show("delete-payroll-modal")},showApprovePayrollModal:function(t){this.selectedPayroll=t,this.$bvModal.show("approve-close-modal")},deletePayroll:function(){var t=this;this.deletingPayroll=!0,this.$httpClient.delete("/payroll/delete",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month}}).then((function(){t.deletingPayroll=!1,t.$bvModal.hide("delete-payroll-modal"),t.vuetable.reload(),t.$toast.success("deleted")})).catch((function(){t.deletingPayroll=!1,t.$toast.error("There was a problem deleting the payroll")}))},approvePayroll:function(){var t=this;this.approvingPayroll=!0,this.$httpClient.post("/payroll/close-payroll",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month}}).then((function(){t.approvingPayroll=!1,t.$bvModal.hide("approve-close-modal"),t.vuetable.reload(),t.$toast.success("approved and Closed")})).catch((function(){t.approvingPayroll=!1,t.$toast.error("There was a problem approving the payroll")}))},closePayroll:function(t){var e=this;this.$toast.question("Are you sure?","You want to approve this payroll, make sure is correct").then((function(){e.$httpClient.post("/payroll/close-payroll",{params:{year:e.selectedPayroll.year,month:e.selectedPayroll.month}}).then((function(){e.vuetable.reload(),e.$toast.success("approved and Closed")})).catch((function(){e.$toast.error("There was a problem approving the payroll")}))}))},downloadPayslip:function(t){var e=this;this.form.processing=!0,this.$httpClient.get("/download-payslip",{responseType:"blob",params:{data:t}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)})),console.log(t)},printPayslips:function(t){var e=this;this.printingPayslips=!0,this.$httpClient.get("/payroll/print-payslips",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month},responseType:"blob"}).then((function(t){var a=t.data,s=new Blob([a],{type:"application/pdf"}),r=document.createElement("a"),o=window.URL.createObjectURL(s);r.href=o,r.download="payslips-".concat(e.selectedPayroll.year,"-").concat(e.selectedPayroll.month,".pdf"),r.click(),window.URL.revokeObjectURL(o),e.printingPayslips=!1,e.$bvModal.hide("printing-payslips-modal")})).catch((function(t){e.printingPayslips=!1,e.form.errors.record(t.response.data.errors)}))},printSummary:function(t){var e=this;this.printingSummary=!0,this.$httpClient.get("/payroll/print-payroll-summary",{params:{year:this.selectedPayroll.year,month:this.selectedPayroll.month},responseType:"blob"}).then((function(t){var a=t.data,s=new Blob([a],{type:"application/pdf"}),r=document.createElement("a"),o=window.URL.createObjectURL(s);r.href=o,r.download="payrolls-summary-".concat(e.selectedPayroll.year,"-").concat(e.selectedPayroll.month,".pdf"),r.click(),window.URL.revokeObjectURL(o),e.printingSummary=!1,e.$bvModal.hide("printing-payslips-modal")})).catch((function(t){e.printingSummary=!1,e.form.errors.record(t.response.data.errors)}))},applyFilter:function(){this.vuetable.reload()},showPayrollComparision:function(t){var e=t.year,a=t.month;window.location.href="/payroll/compare?year=".concat(e,"&month=").concat(a)},cleanUp:function(){this.form.reset()}}};const o=(0,a(1900).Z)(r,(function(){var t,e=this,a=e._self._c;return a("div",[a("div",{staticClass:"card card-stacked"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"input-icon me-2"},[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.moreParams.filter.search},on:{input:[function(t){t.target.composing||e.$set(e.moreParams.filter,"search",t.target.value)},e.applyFilter]}})]),e._v(" "),e._m(1)]),e._v(" "),a("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll",fields:e.fields,"append-params":e.moreParams},scopedSlots:e._u([{key:"pay_date",fn:function(t){return[a("div",{staticClass:"media"},[a("div",{staticClass:"media-body align-self-center"},[a("span",{staticClass:"text-sm"},[e._v(e._s(e.formatDate(t.rowData.pay_date))+"\n            ")])])])]}},{key:"name",fn:function(t){return[a("div",{staticClass:"media"},[a("div",{staticClass:"media-body align-self-center"},[a("span",{staticClass:"text-sm"},[e._v(e._s(t.rowData.employee.name)+" ")])])])]}},{key:"actions",fn:function(t){return[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[a("i",{staticClass:"uil uil-ellipsis-h"})]),e._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end"},[a("div",[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPayrollDetails(t.rowData)}}},[a("i",{staticClass:"uil uil-external-link-alt me-2"}),e._v("\n                Open\n              ")]),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPrintingSummary(t.rowData)}}},[a("i",{staticClass:"uil uil-print me-2"}),e._v("\n                Print Summary\n              ")]),e._v(" "),t.rowData.is_closed?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showLoading(t.rowData)}}},[a("i",{staticClass:"uil uil-envelope me-2"}),e._v("\n                Email payslips\n              ")]):e._e(),e._v(" "),t.rowData.is_closed?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.emailP9Form(t.rowData)}}},[a("i",{staticClass:"uil uil-envelope me-2"}),e._v("\n                Email Form P9\n              ")]):e._e(),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPrintingPayslips(t.rowData)}}},[a("i",{staticClass:"uil uil-print me-2"}),e._v("\n                Print payslips\n              ")]),e._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showPayrollComparision(t.rowData)}}},[a("i",{staticClass:"uil uil-layers me-2"}),e._v("\n                Compare with last month\n              ")]),e._v(" "),t.rowData.is_closed?e._e():a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.showApprovePayrollModal(t.rowData)}}},[a("i",{staticClass:"uil uil-check-circle me-2"}),e._v("\n                Approve & close\n              ")]),e._v(" "),t.rowData.is_closed?e._e():a("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(a){return e.showDelelePayrollModal(t.rowData)}}},[a("i",{staticClass:"uil uil-trash-alt me-2"}),e._v("\n                Delete\n              ")])])])])]}}])})],1),e._v(" "),a("b-modal",{attrs:{id:"create-modal",title:"Payroll Processing","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.processPayroll.apply(null,arguments)}}},[e._v("\n        Process\n      ")])]}}])},[a("form",{attrs:{id:"createForm"},on:{submit:function(t){return t.preventDefault(),e.createDepartment.apply(null,arguments)}}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Select Month")]),e._v(" "),a("date-picker",{attrs:{name:"month",value:e.form.month,"max-date":!1},on:{"on-change":function(t,a){e.form.month=a}}}),e._v(" "),e.form.hasError("month")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("month"))}}):e._e()],1),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])]),e._v(" "),a("b-modal",{attrs:{id:"delete-payroll-modal",title:"Payroll Delete","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:e.deletingPayroll},on:{click:function(t){return t.preventDefault(),e.deletePayroll.apply(null,arguments)}}},[e._v("\n        Delete\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        Do you really want to delete the payroll ? What you are about to do\n        cannot be undone.\n      ")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        If deleted, all payroll inputs and loans processed will be reversed\n      ")])]),e._v(" "),e.deletingPayroll?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"printing-payslips-modal",title:"Print Payslips","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.printingPayslips},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.printingPayslips},on:{click:function(t){return t.preventDefault(),e.printPayslips.apply(null,arguments)}}},[e._v("\n        "+e._s(e.printingPayslips?"Processing":"Print")+"\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"}),e._v(" "),a("div",{staticClass:"text-secondary"})]),e._v(" "),e.printingPayslips?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"printing-summary-modal",title:"Print Summary","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.printingSummary},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.printingSummary},on:{click:function(t){return t.preventDefault(),e.printSummary.apply(null,arguments)}}},[e._v("\n        "+e._s(e.printingSummary?"Processing":"Print")+"\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("h4",[e._v("You are about to print "+e._s(null===(t=e.selectedPayroll)||void 0===t?void 0:t.month)+"`s Salary Summary")]),e._v(" "),a("div",{staticClass:"text-secondary"}),e._v(" "),a("div",{staticClass:"text-secondary"})]),e._v(" "),e.printingSummary?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"approve-close-modal",title:"Approve And Close Payroll","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:e.approvingPayroll},on:{click:function(t){return t.preventDefault(),e.approvePayroll.apply(null,arguments)}}},[e._v("\n        Approve\n      ")])]}}])},[a("div",{staticClass:"modal-body text-center py-4"},[a("svg",{staticClass:"icon mb-2 text-danger icon-lg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),a("path",{attrs:{d:"M12 9v4"}}),e._v(" "),a("path",{attrs:{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"}}),e._v(" "),a("path",{attrs:{d:"M12 16h.01"}})]),e._v(" "),a("h3",[e._v("Are you sure?")]),e._v(" "),a("div",{staticClass:"text-secondary"},[e._v("\n        You want to approve this payroll, make sure is correct\n      ")])]),e._v(" "),e.approvingPayroll?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()]),e._v(" "),a("b-modal",{attrs:{id:"compare-modal",title:"Comparison","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var s=t.cancel;return[a("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[e._v("\n        Close\n      ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.form.processing},on:{click:function(t){return t.preventDefault(),e.updateDepartment.apply(null,arguments)}}},[e._v("\n        Process\n      ")])]}}])},[a("form",{attrs:{id:"updateForm"},on:{submit:function(t){return t.preventDefault(),e.updateDepartment.apply(null,arguments)}}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Select Month")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.month,expression:"form.month"}],staticClass:"form-control",attrs:{id:"month",type:"text"},domProps:{value:e.form.month},on:{input:function(t){t.target.composing||e.$set(e.form,"month",t.target.value)}}}),e._v(" "),e.form.hasError("month")?a("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.form.getError("month"))}}):e._e()]),e._v(" "),e.form.processing?a("div",{staticClass:"progress mb-2"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):e._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])},function(){var t=this._self._c;return t("div",{staticClass:"card-actions"},[t("a",{staticClass:"btn btn-primary",attrs:{href:"/payroll/payroll-list"}},[this._v("\n          Payroll processing\n        ")])])}],!1,null,null,null).exports},251:(t,e,a)=>{"use strict";a.d(e,{Z:()=>p});var s=a(538),r=a(4801);const o={name:"PayrollDetailsComponent",props:{rowData:{type:Object,required:!0},rowIndex:{type:Number}},data:function(){return{fields:[{name:"description",title:"Product",width:"40%"},{name:"bulk_qty",title:"QTY",titleClass:"text-center",dataClass:"text-center"},{name:"discount_amount",title:"DISC",titleClass:"text-right",dataClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"tax_amount",title:"TAX",titleClass:"text-right",dataClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"bulk_cost",title:"PRICE",dataClass:"text-right",titleClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"total",title:"TOTAL",dataClass:"text-right",titleClass:"text-right",callback:function(t){return(0,r.p)(.01*t).toFormat("0,0.00")}}],moreParams:{filter:{purchase_order_id:this.rowData.id},sort:"-created_at"},allowances:[],earnings:[],deductions:[],benefits:[],pensions:[],reliefs:[],contributions:[],advances:[]}},mounted:function(){this.getDeductions(),this.getEarnings(),this.getAllowances(),this.getBenefits(),this.getReliefs(),this.getPensions(),this.getContributions(),this.getAdvances()},methods:{getEarnings:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:1}}}).then((function(e){var a=e.data;t.earnings=a.data})).catch((function(t){console.log(t)}))},getAllowances:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:2}}}).then((function(e){var a=e.data;t.allowances=a.data})).catch((function(t){console.log(t)}))},getBenefits:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:8}}}).then((function(e){var a=e.data;t.benefits=a.data})).catch((function(t){console.log(t)}))},getDeductions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:3}}}).then((function(e){var a=e.data;t.deductions=a.data})).catch((function(t){console.log(t)}))},getPensions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:4}}}).then((function(e){var a=e.data;t.pensions=a.data})).catch((function(t){console.log(t)}))},getContributions:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:6}}}).then((function(e){var a=e.data;t.contributions=a.data})).catch((function(t){console.log(t)}))},getAdvances:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:7}}}).then((function(e){var a=e.data;t.advances=a.data})).catch((function(t){console.log(t)}))},getReliefs:function(){var t=this;this.$httpClient.get("/datatable/payroll-in-detail",{params:{filter:{payrollId:this.rowData.id,source:5}}}).then((function(e){var a=e.data;t.reliefs=a.data})).catch((function(t){console.log(t)}))}}};var n=a(3379),i=a.n(n),l=a(1759),c={insert:"head",singleton:!1};i()(l.Z,c);l.Z.locals;var d=a(1900);const m=(0,d.Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row gy-3 my-3"},[0!==t.earnings.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Earnings\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(0),t._v(" "),e("tbody",t._l(t.earnings,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.allowances.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Allowances\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(1),t._v(" "),e("tbody",t._l(t.allowances,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.benefits.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Benefits\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(2),t._v(" "),e("tbody",t._l(t.benefits,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.reliefs.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Reliefs\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(3),t._v(" "),e("tbody",t._l(t.reliefs,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.deductions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Deductions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(4),t._v(" "),e("tbody",t._l(t.deductions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.pensions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Pensions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(5),t._v(" "),e("tbody",t._l(t.pensions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.contributions.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Contributions\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(6),t._v(" "),e("tbody",t._l(t.contributions,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e(),t._v(" "),0!==t.advances.length?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-title p-2"},[t._v("\n                Advances\n            ")]),t._v(" "),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden"}},[e("table",{staticClass:"styled-table"},[t._m(7),t._v(" "),e("tbody",t._l(t.advances,(function(a,s){return e("tr",[e("td",{staticClass:"text-center text-muted"},[t._v("\n                            "+t._s(s+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"ps-3"},[t._v("\n                            "+t._s(a.description)+"\n                        ")]),t._v(" "),e("td",{staticClass:"pe-3 text-end"},[t._v("\n                            "+t._s(t._f("toMoneyFormat")(.01*a.amount))+"\n                        ")])])})),0)])])])]):t._e()])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticStyle:{color:"#ffffff !important"}},[e("th",{staticClass:"text-center"},[t._v("\n                            #\n                        ")]),t._v(" "),e("th",{staticClass:"ps-3"},[t._v("\n                            Description\n                        ")]),t._v(" "),e("th",{staticClass:"pe-3 text-end"},[t._v("\n                            Amount\n                        ")])])])}],!1,null,"1d47fb70",null).exports;s.default.component("PayrollDetailsComponent",m);const u={props:{date:{type:Date,required:!0}},data:function(){return{fields:[{name:"__slot:details",title:"#",width:"5%"},{name:"__slot:name",title:"Employee",titleClass:"font-weight-bold"},{name:"basic_pay",title:"Basic pay",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"benefits",title:"Benefits",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"pension",title:"Pension",titleClass:"font-weight-bold text-right",dataClass:"text-right",width:"10%",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"paye",title:"Tax",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"total_deductions",title:"Deductions",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"net_pay",title:"Net Pay",titleClass:"font-weight-bold text-right",dataClass:"text-right",callback:function(t){return t<0?"("+(0,r.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,r.p)(.01*t).toFormat("0,0.00")}},{name:"month",title:"Month",titleClass:"text-center",dataClass:"text-center"},{name:"__slot:actions",titleClass:"text-center",dataClass:"text-left",width:"5%"}],moreParams:{filter:{search:"",showDetails:location.pathname.split("/")[3]}},form:new window.Form({id:null,month:""})}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{showCreateForm:function(){this.$bvModal.show("create-modal")},showUpdateForm:function(t){this.selectedDepartment=t,this.viewEditForm=!0},downloadPayslip:function(t){var e=this;this.form.processing=!0,this.$httpClient.get("/download-payslip",{responseType:"blob",params:{data:t}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)})),console.log(t)},formP10:function(t){var e=this;console.log(t),this.$httpClient.get("/reports/download-form-9",{responseType:"blob",params:{year:t.year,employee_payroll_id:t.employee_payroll_id}}).then((function(t){var a=t.data;e.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(t){e.form.processing=!1,e.form.errors.record(t.response.data.errors)}))},showEditForm:function(t){this.form.populate(t),this.form.id=t.id,this.$bvModal.show("update-modal")},mailPayslip:function(t){var e=this;this.form.id=t.id,this.form.post("/mail-payslip").then((function(){e.vuetable.reload(),e.$toast.success("Payslip mailing process has started")})).catch((function(){e.$toast.error("Something went wrong!")}))},applyFilter:function(){this.vuetable.reload()},cleanUp:function(){this.form.reset()}}};const p=(0,d.Z)(u,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.applyFilter]}})]),t._v(" "),t._m(1)]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll-details",fields:t.fields,"append-params":t.moreParams,"detail-row-component":"PayrollDetailsComponent"},scopedSlots:t._u([{key:"details",fn:function(a){return[e("button",{staticClass:"btn btn-outline-azure btn-sm py-1 fs-3",on:{click:function(e){return t.vuetable.toggleDetailRow(a.rowData.id)}}},[e("i",{staticClass:"uil uil-plus-square"})])]}},{key:"name",fn:function(a){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body align-self-center"},[e("span",{staticClass:"text-sm"},[e("a",{attrs:{href:"/payroll/master/"+a.rowData.employee.hashid}},[t._v(t._s(a.rowData.employee.name))])])])])]}},{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[e("b-dropdown-header",[t._v("Payslip")]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Download the payslip"},on:{click:function(e){return t.downloadPayslip(a.rowData)}}},[e("i",{staticClass:"uil uil-cloud-download"}),t._v("\n                                Download")])]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Mail the payslip to employee"},on:{click:function(e){return t.mailPayslip(a.rowData)}}},[e("i",{staticClass:"uil uil-envelope mr-2"}),t._v("\n                                Email")])]),t._v(" "),e("b-dropdown-header",[t._v("Forms")]),t._v(" "),e("div",{staticClass:"dropdown-item"},[e("a",{staticClass:"text-secondary",attrs:{href:"#",title:"Download Form P9"},on:{click:function(e){return e.preventDefault(),t.formP10(a.rowData)}}},[e("i",{staticClass:"uil uil-cloud-download"}),t._v(" Form P9")])])],1)])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"create-modal",title:"Payroll Processing","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.processPayroll.apply(null,arguments)}}},[t._v("\n                Process\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.createDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Select Month")]),t._v(" "),e("date-picker",{attrs:{name:"month",value:t.form.month,"max-date":!1},on:{"on-change":function(e,a){t.form.month=a}}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"update-modal",title:"Edit Department","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[t._v("\n                Process\n            ")])]}}])},[e("form",{attrs:{id:"updateForm"},on:{submit:function(e){return e.preventDefault(),t.updateDepartment.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Select Month")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.month,expression:"form.month"}],staticClass:"form-control",attrs:{id:"month",type:"text"},domProps:{value:t.form.month},on:{input:function(e){e.target.composing||t.$set(t.form,"month",e.target.value)}}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-actions"},[e("a",{staticClass:"btn btn-primary-outline",attrs:{href:"/payroll/lists"}},[e("i",{staticClass:"uil uil-arrow-left me-2"}),t._v(" Back\n                ")]),t._v(" "),e("a",{staticClass:"btn btn-primary",attrs:{href:"/payroll/payroll-list"}},[t._v("\n                    Payroll processing\n                ")])])}],!1,null,null,null).exports},7215:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(3279);const r={props:{genders:{type:Array,required:!0,default:function(){return[]}},departments:{type:Array,required:!0,default:function(){return[]}},permissions:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{fields:[{name:"payroll_no",title:"StaffNo",titleClass:"text-muted text-center",dataClass:"text-muted text-center",width:"5%"},{name:"__slot:name",title:"NAME",titleClass:"ps-2",dataClass:"ps-2 text-truncate",width:"30%"},{name:"gender",title:"Sex",titleClass:"ps-2",dataClass:"ps-2",width:"10%"},{name:"__slot:telephone",title:"EM TYPE",titleClass:"ps-0",dataClass:"ps-0",width:"10%"},{name:"department.name",title:"DEPT",titleClass:"ps-0",dataClass:"ps-0",width:"10%"},{name:"job_group.name",title:"JOB GROUP",titleClass:"ps-0",dataClass:"ps-0",width:"10%"},{name:"created_at",title:"REG. DATE",titleClass:"ps-3",dataClass:"ps-3",callback:this.$options.filters.date_DATE_MONTH_YEAR,width:"10%"},{name:"__slot:actions",title:"",titleClass:"text-center",dataClass:"text-center"}],moreParams:{filter:{search:""}},form:new window.Form({id:null,name:"",date_of_birth:"",gender_id:"",identification_value:"",physical_address:"",telephone:"",email:"",kra_pin:"",nhif_no:"",pays_tax:!0,pays_nssf:!0,pays_nhif:!0,department_id:null,nationality:""}),selectedPatient:null,idNumberTaken:!1}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{formatDate:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(e).replace(/\//g,"-");return console.log(a),a},isOneWeekAway:function(t){var e=t.contract_exp;if(console.log(t.contract_exp),null===t.contract_exp)return!1;var a=new Date(e),s=new Date,r=new Date;return r.setDate(s.getDate()+7),a.setHours(0,0,0,0),r.setHours(0,0,0,0),s.setHours(0,0,0,0),a.getTime()>s.getTime()&&a.getTime()<r.getTime()},checkIdentificationStatus:function(t){var e=this;t&&this.$httpClient.get("/check-id-number-status",{params:{identification_value:t}}).then((function(t){var a=t.data;console.log(a),e.idNumberTaken=a.data})).catch((function(t){}))},registerEmployee:function(){var t=this;this.form.post("/employees").then((function(){t.$bvModal.hide("registration-modal"),t.$toast.success("Employee Registered successfully"),t.vuetable.reload()})).catch()},showEditForm:function(t){var e=this;this.selectedPatient=t,setTimeout((function(){e.$bvModal.show("edit-modal")}),300)},applyFilter:function(){this.vuetable.refresh()},searchEmployees:a.n(s)()((function(){this.applyFilter()}),700)}};const o=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search Employees"},domProps:{value:t.moreParams.filter.search},on:{input:[function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)},t.searchEmployees]}})]),t._v(" "),t.permissions.includes("create-payroll")?e("div",{staticClass:"card-actions"},[e("a",{staticClass:"btn btn-primary me-3",attrs:{href:"/payroll/create"}},[t._v("New Registration")])]):t._e()]),t._v(" "),e("VueTable",{ref:"table",staticClass:"table-hover",attrs:{"api-url":"/datatable/payroll-employees",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"name",fn:function(a){return[e("a",{staticClass:"text-reset",attrs:{href:"/employees/"+a.rowData.hashid}},[t._v(t._s(a.rowData.name))]),t._v(" "),e("br"),1===a.rowData.employment_status?e("small",{staticClass:"text-warning"},[t._v("Suspended")]):t._e(),t._v(" "),2===a.rowData.employment_status?e("small",{staticClass:"text-danger"},[t._v("Terminated")]):t._e()]}},{key:"telephone",fn:function(a){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n                        "+t._s(a.rowData.type?a.rowData.type.name:"is not set")+"\n                    ")]),t._v(" "),a.rowData.type?e("div",{staticClass:"text-muted"},["Permanent"!==a.rowData.type.name?e("div",[t.isOneWeekAway(a.rowData)?e("small",{staticClass:"text-warning"},[t._v("ends on "+t._s(" "+t.formatDate(a.rowData.contract_exp)))]):e("small",{staticClass:"text-info"},[t._v("ends on "+t._s(" "+t.formatDate(a.rowData.contract_exp)))])]):t._e()]):t._e()])])]}},{key:"dob",fn:function(a){return[e("div",{staticClass:"row"},[a.rowData.date_of_birth?e("div",{staticClass:"col"},[e("div",{staticClass:"font-weight-medium"},[t._v("\n              "+t._s(t._f("date_DATE_MONTH_YEAR")(a.rowData.date_of_birth))+"\n            ")]),t._v(" "),e("small",{staticClass:"text-indigo"},[t._v("\n              "+t._s(a.rowData.age)+"\n            ")])]):e("div",{staticClass:"col"},[t._v("\n            N/A\n          ")])])]}},t.permissions.includes("access-emp-payroll-profile")?{key:"actions",fn:function(a){return[e("a",{staticClass:"btn",attrs:{href:"/payroll/master/"+a.rowData.hashid}},[t._v("View")])]}}:null],null,!0)})],1),t._v(" "),e("b-modal",{attrs:{id:"registration-modal",title:"Employee Registration","no-close-on-backdrop":"","hide-header-close":"","no-enforce-focus":"",lazy:"",scrollable:"","body-class":"px-4","footer-class":"d-flex justify-content-start border-top","modal-class":"modal-blur",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.form.processing,form:"form"}},[t._v("\n        Register Employee\n      ")])]}}])},[e("form",{attrs:{id:"form"},on:{submit:function(e){return e.preventDefault(),t.registerEmployee.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.form.hasError("name")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("name"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Date of Birth")]),t._v(" "),e("div",[e("date-picker",{attrs:{name:"date_of_birth",formclass:"form-control bg-white",value:t.form.date_of_birth,"max-date":new Date},on:{"on-change":function(e,a){t.form.date_of_birth=a}}}),t._v(" "),t.form.hasError("date_of_birth")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date_of_birth"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Gender ")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.genders,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.gender_id,callback:function(e){t.$set(t.form,"gender_id",e)},expression:"form.gender_id"}}),t._v(" "),t.form.hasError("gender_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("gender_id"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"identification_value"}},[t._v("Identification Number")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.identification_value,expression:"form.identification_value"}],staticClass:"form-control",attrs:{id:"identification_value",type:"text"},domProps:{value:t.form.identification_value},on:{blur:function(e){return t.checkIdentificationStatus(e.target.value)},input:function(e){e.target.composing||t.$set(t.form,"identification_value",e.target.value)}}}),t._v(" "),t.form.hasError("identification_value")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("identification_value"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"telephone"}},[t._v("Mobile ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{id:"telephone",type:"tel"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}}),t._v(" "),t.form.hasError("telephone")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("telephone"))}}):t._e()])])]),t._v(" "),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"physical_address"}},[t._v("Physical Address ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.physical_address,expression:"form.physical_address"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.physical_address},on:{input:function(e){e.target.composing||t.$set(t.form,"physical_address",e.target.value)}}}),t._v(" "),t.form.hasError("physical_address")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("physical_address"))}}):t._e()]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Department ")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.departments,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}}),t._v(" "),t.form.hasError("department_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("department_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Nationality")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"gender_id",options:t.genders,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.nationality,callback:function(e){t.$set(t.form,"nationality",e)},expression:"form.nationality"}}),t._v(" "),t.form.hasError("nationality")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("nationality"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_tax,expression:"form.pays_tax"}],staticClass:"form-check-input",attrs:{id:"pays_tax",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_tax)?t._i(t.form.pays_tax,null)>-1:t.form.pays_tax},on:{change:function(e){var a=t.form.pays_tax,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_tax",a.concat([null])):o>-1&&t.$set(t.form,"pays_tax",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_tax",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_tax"}},[t._v("Tax payer")])]),t._v(" "),t.form.hasError("pays_tax")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_tax"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nhif,expression:"form.pays_nhif"}],staticClass:"form-check-input",attrs:{id:"pays_nhif",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nhif)?t._i(t.form.pays_nhif,null)>-1:t.form.pays_nhif},on:{change:function(e){var a=t.form.pays_nhif,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nhif",a.concat([null])):o>-1&&t.$set(t.form,"pays_nhif",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nhif",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_nhif"}},[t._v("NHIF payer")])]),t._v(" "),t.form.hasError("pays_nhif")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_nhif"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"d-flex gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pays_nssf,expression:"form.pays_nssf"}],staticClass:"form-check-input",attrs:{id:"pays_nssf",type:"checkbox"},domProps:{checked:Array.isArray(t.form.pays_nssf)?t._i(t.form.pays_nssf,null)>-1:t.form.pays_nssf},on:{change:function(e){var a=t.form.pays_nssf,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"pays_nssf",a.concat([null])):o>-1&&t.$set(t.form,"pays_nssf",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"pays_nssf",r)}}}),t._v(" "),e("label",{staticClass:"form-label",attrs:{for:"pays_nssf"}},[t._v("NSSF payer")])]),t._v(" "),t.form.hasError("pays_nssf")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("pays_nssf"))}}):t._e()]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label"},[t._v("Kra Pin")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.kra_pin,expression:"form.kra_pin"}],staticClass:"form-control",attrs:{id:"physical_address",type:"text"},domProps:{value:t.form.kra_pin},on:{input:function(e){e.target.composing||t.$set(t.form,"kra_pin",e.target.value)}}}),t._v(" "),t.form.hasError("kra_pin")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("kra_pin"))}}):t._e()])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},7610:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});var s=a(4801);const r={props:{deductions:{type:Array},permissions:{type:Array,default:function(){return[]}},employees:{type:Array}},data:function(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],fields:[{name:"employee.payroll_no",title:"Payroll No",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"deduction.name",title:"Deduction",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"amount",title:"amount",callback:function(t){return t<0?"("+(0,s.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,s.p)(.01*t).toFormat("0,0.00")},titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"month",title:"Month",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:is_deducted",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],form:new window.Form({id:null,employee_payroll_ids:[],deduction_id:null,amount:"",reason:"",date:"",month:""}),moreParams:{filter:{search:""}}}},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},watch:{},mounted:function(){},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/payroll-employees").then((function(e){var a=e.data;t.employees=a.data.filter((function(t){return 0===t.employment_status&&t}))})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},showDeduction:function(){this.$bvModal.show("payroll-deduction-modal")},addEmployeeDeduction:function(){var t=this;this.form.post("/payroll/deduction-inputs").then((function(){t.$bvModal.hide("payroll-deduction-modal"),t.$toast.success("One time Deduction has been added."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},showEditDeduction:function(t){this.form.id=t.id,this.month=t.month,this.form.populate(t),this.$bvModal.show("payroll-deduction-edit-modal")},updateDeduction:function(){var t=this;this.form.patch("/payroll/deduction-inputs/"+this.form.id).then((function(){t.$toast.success("One time Deduction has been added."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},delDeduction:function(t){var e=this;this.$toast.question("Are you sure?","You want to delete this deduction").then((function(){e.$httpClient.delete("/payroll/deduction-inputs",{params:{deduction_id:t.id}}).then((function(){e.$toast.success("deleted"),e.vuetable.reload()})).catch((function(){e.$toast.error("There was a problem deleting the deduction")}))}))}}};var o=a(1900);const n=(0,o.Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.moreParams.filter.search},on:{input:function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)}}})]),t._v(" "),t.permissions.includes("create-payroll-adjustment")?e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showDeduction}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Deduction\n                ")])]):t._e()]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll-deductions",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[!a.rowData.is_deducted&&t.permissions.includes("delete-payroll-adjustment")?e("div",[a.rowData.is_deducted?t._e():e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.showEditDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-pen fs-3 me-2"}),t._v(" Edit\n                            ")])]):t._e(),t._v(" "),a.rowData.is_deducted?t._e():e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.delDeduction(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n                        ")])])])]}},{key:"is_deducted",fn:function(a){return[a.rowData.is_deducted?e("span",{staticClass:"text-success"},[t._v("deducted")]):e("span",{staticClass:"text-warning"},[t._v("not deducted")])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"payroll-deduction-modal",title:"Payroll Deductions","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":"",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.addEmployeeDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.addEmployeeDeduction.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee\n                            ("+t._s(t.form.employee_payroll_ids.length)+")")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",name:"employee_id",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1,multiple:""},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}}]),model:{value:t.form.employee_payroll_ids,callback:function(e){t.$set(t.form,"employee_payroll_ids",e)},expression:"form.employee_payroll_ids"}}),t._v(" "),t.form.hasError("employee_payroll_ids")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_payroll_ids"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.deductions,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.hasError("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("deduction_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Reason for Deduction")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e(),t._v(" "),t.form.employee_payroll_ids.length>1?e("small",{staticClass:"text-muted text-warning"},[t._v(" This\n                            will apply to all employees")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.date,"min-date":new Date},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])]),t._v(" "),e("b-modal",{attrs:{id:"payroll-deduction-edit-modal",title:"Update Payroll Deductions","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.updateDeduction.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",name:"employee_payroll_ids",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}}]),model:{value:t.form.employee_payroll_ids,callback:function(e){t.$set(t.form,"employee_payroll_ids",e)},expression:"form.employee_payroll_ids"}}),t._v(" "),t.form.hasError("employee_payroll_ids")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_payroll_ids"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Deduction")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.deductions,label:"name",reduce:function(t){return t.id},clearable:!1},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.hasError("deduction_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("deduction_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Reason for Deduction")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Date")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.months,label:"name",reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports;const i={props:{allowances:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}},employees:{type:Array}},data:function(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],fields:[{name:"employee.payroll_no",title:"Payroll No",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"employee.name",title:"Employee",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"allowance.name",title:"Allowance",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"amount",title:"amount",callback:function(t){return t<0?"("+(0,s.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,s.p)(.01*t).toFormat("0,0.00")},titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"month",title:"Month",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:is_included",title:"STATUS",titleClass:"font-weight-bold",dataClass:"ps-3"},{name:"__slot:actions",width:"15%",titleClass:"text-center",dataClass:"text-right"}],selectedEmployee:null,moreParams:{filter:{search:""}},income:null,leaveAllowance:!1,LeaveAllowance:{hasBeenPaid:!1,leave:{}},form:new window.Form({id:null,employee_payroll_ids:[],allowance_id:null,amount:"",ahl_exempted:!1,reason:"",year:null,date:"",month:""})}},watch:{"form.allowance_id":function(t){var e,a=this;"LEAVE TRAVELLING ALLOWANCE"===this.allowances.find((function(t){return t.id===a.form.allowance_id})).name?(this.leaveAllowance=!0,this.checkLeaveAllowance(),this.form.amount=this.toMoney(null===(e=this.selectedEmployee.basic_pay)||void 0===e?void 0:e.amount)):(this.leaveAllowance=!1,this.form.year=null)},"form.employee_payroll_ids":function(t){var e,a=this,s=this.allowances.find((function(t){return t.id===a.form.allowance_id}));(this.selectedEmployee=this.employees.find((function(e){return e.id==t[0]})),"LEAVE TRAVELLING ALLOWANCE"===s.name)?(this.leaveAllowance=!0,this.checkLeaveAllowance(),this.form.amount=this.toMoney(null===(e=this.selectedEmployee.basic_pay)||void 0===e?void 0:e.amount)):(this.leaveAllowance=!1,this.form.year=null,this.form.amount=this.toMoney(0))}},mounted:function(){},computed:{vuetable:function(){return this.$refs.table.$refs.vuetable}},methods:{retrieveEmployees:function(){var t=this;this.$httpClient.get("/datatable/payroll-employees/").then((function(e){var a=e.data;t.employees=a.data})).catch((function(){t.$toast.error("There was a problem retrieving the Employees")}))},toMoney:function(t){return t<0?"("+(0,s.p)(Math.abs(.01*t)).toFormat("0,0.00")+")":(0,s.p)(.01*t).toFormat("0,0.00")},checkLeaveAllowance:function(){var t=this;this.$httpClient.get("/check-leave-allowance",{params:{employee:this.form.employee_payroll_ids[0]}}).then((function(e){var a=e.data;0===Object.keys(a).length?(t.LeaveAllowance.hasBeenPaid=!1,t.LeaveAllowance.leave={}):(t.LeaveAllowance.hasBeenPaid=!0,t.LeaveAllowance.leave=a,t.form.amount=t.income)})).catch((function(){t.$toast.error("There was a problem retrieving the Employee Leave allowance")}))},showAllowance:function(){this.$bvModal.show("payroll-allowance-modal")},addEmployeeAllowance:function(){var t=this;this.form.post("/payroll/allowance-inputs").then((function(){t.$bvModal.hide("payroll-allowance-modal"),t.form.reset(),t.$toast.success("One time Allowance has been added."),t.vuetable.reload()})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))},delAllowance:function(t){var e=this;this.$toast.question("Are you sure?","You want to delete this deduction").then((function(){e.$httpClient.delete("/payroll/allowance-inputs",{params:{allowance_id:t.id}}).then((function(){e.$toast.success("deleted"),e.vuetable.reload()})).catch((function(){e.$toast.error("There was a problem deleting the allowance")}))}))}}};const l={components:{payrollDeductions:n,payrollAllowances:(0,o.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-icon me-2"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.moreParams.filter.search,expression:"moreParams.filter.search"}],staticClass:"form-control bg-muted-lt rounded-2",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.moreParams.filter.search},on:{input:function(e){e.target.composing||t.$set(t.moreParams.filter,"search",e.target.value)}}})]),t._v(" "),t.permissions.includes("create-payroll-adjustment")?e("div",{staticClass:"card-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.showAllowance}},[e("i",{staticClass:"uil uil-plus me-1"}),t._v("Add Allowance\n                ")])]):t._e()]),t._v(" "),e("VueTable",{ref:"table",attrs:{"api-url":"/datatable/payroll-allowances",fields:t.fields,"append-params":t.moreParams},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn align-text-top py-1",attrs:{"data-bs-toggle":"dropdown"}},[e("i",{staticClass:"uil uil-ellipsis-h"})]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-end"},[!a.rowData.is_included&&t.permissions.includes("delete-payroll-adjustment")?e("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(e){return t.delAllowance(a.rowData)}}},[e("i",{staticClass:"uil uil-trash-alt me-2"}),t._v(" Delete\n                        ")]):t._e()])])]}},{key:"is_included",fn:function(a){return[a.rowData.is_included?e("span",{staticClass:"text-success"},[t._v("included")]):e("div",[e("span",{staticClass:"text-warning"},[t._v("not included "),e("br"),t._v(" "),a.rowData.ahl_exempted?e("small",[t._v(" is AHL exempted")]):t._e()])])]}}])})],1),t._v(" "),e("b-modal",{attrs:{id:"payroll-allowance-modal",title:"Payroll Allowance","hide-header-close":"","footer-class":"d-flex justify-content-start","modal-class":"modal-blur",size:"xl","no-close-on-esc":""},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn me-auto",attrs:{type:"button",disabled:t.form.processing},on:{click:function(t){return t.preventDefault(),s.apply(null,arguments)}}},[t._v("\n                Close\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.form.processing},on:{click:function(e){return e.preventDefault(),t.addEmployeeAllowance.apply(null,arguments)}}},[t._v("\n                Submit\n            ")])]}}])},[e("form",{attrs:{id:"createForm"},on:{submit:function(e){return e.preventDefault(),t.addEmployeeAllowance.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Employee ("+t._s(t.form.employee_payroll_ids.length)+")")]),t._v(" "),e("v-select",{attrs:{id:"employee_id",name:"employee_payroll_ids",options:t.employees,label:"name",reduce:function(t){return t.id},clearable:!1,multiple:""},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("span",[t._v(t._s(a.name))]),e("br"),t._v(" "),t.leaveAllowance?e("small",{staticClass:"text-blue"},[t._v("Basic Pay - "+t._s(t.toMoney(a.basic_pay.amount)))]):t._e()])])])])]}}]),model:{value:t.form.employee_payroll_ids,callback:function(e){t.$set(t.form,"employee_payroll_ids",e)},expression:"form.employee_payroll_ids"}}),t._v(" "),t.form.hasError("employee_payroll_ids")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("employee_payroll_ids"))}}):t._e()],1)]),t._v(" "),e("div",{class:t.leaveAllowance?"col-lg-6":"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"gender_id",name:"leave_type_id",options:t.allowances,label:"name",reduce:function(t){return t.id},clearable:!1},scopedSlots:t._u([{key:"option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._v(t._s(a.name))])])])])]}},{key:"selected-option",fn:function(a){return[e("li",{staticClass:"media mb-1"},[e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("span",[t._v(t._s(a.name))]),t._v(" "),e("br"),t._v(" "),t.LeaveAllowance.hasBeenPaid?e("small",{staticClass:"fw-light text-warning"},[t._v("Leave allowance has been\n                                                    paid")]):t._e()])])])])]}}]),model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.hasError("allowance_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("allowance_id"))}}):t._e()],1)]),t._v(" "),t.leaveAllowance?e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"year"}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Reason")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}}),t._v(" "),t.form.hasError("reason")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("reason"))}}):t._e()])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Amount")]),t._v(" "),e("medic-money",{attrs:{value:t.form.amount},on:{input:function(e){t.form.amount=e}}}),t._v(" "),t.form.hasError("amount")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("amount"))}}):t._e(),t._v(" "),t.form.employee_payroll_ids.length>1?e("small",{staticClass:"text-muted text-warning"},[t._v(" This will apply to all employees")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Date")]),t._v(" "),e("date-picker",{attrs:{name:"date_of_birth",value:t.form.date,"min-date":new Date},on:{"on-change":function(e,a){t.form.date=a}}}),t._v(" "),t.form.hasError("date")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("date"))}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ahl_exempted,expression:"form.ahl_exempted"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.ahl_exempted)?t._i(t.form.ahl_exempted,null)>-1:t.form.ahl_exempted},on:{change:function(e){var a=t.form.ahl_exempted,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"ahl_exempted",a.concat([null])):o>-1&&t.$set(t.form,"ahl_exempted",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"ahl_exempted",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label",attrs:{title:"Affordable Housing Levy"}},[t._v("Is AHL exempted ?")])])]),t._v(" "),t.form.processing?e("div",{staticClass:"progress mb-2"},[e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-indeterminate bg-green"})])]):t._e()])])],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon-addon"},[t("i",{staticClass:"uil uil-search"})])}],!1,null,null,null).exports},props:{deductions:{type:Array,default:function(){return[]}},employees:{type:Array},allowances:{type:Array,default:function(){return[]}},permissions:{type:Array,default:function(){return[]}}},data:function(){return{}}};const c=(0,o.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-tabs",{attrs:{"active-nav-item-class":"bg-white text-indigo",lazy:"","nav-class":"mb-2"}},[e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-spinner-alt me-2"}),t._v("Payroll Deductions\n          ")]},proxy:!0}])},[t._v(" "),e("payroll-deductions",{attrs:{permissions:t.permissions,employees:t.employees,deductions:t.deductions}})],1),t._v(" "),e("b-tab",{attrs:{"title-item-class":"fs-3","title-link-class":"px-4 py-2"},scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"uil uil-check-circle me-2"}),t._v("Payroll Allowances\n          ")]},proxy:!0}])},[t._v(" "),e("payroll-allowances",{attrs:{permissions:t.permissions,employees:t.employees,allowances:t.allowances}})],1)],1)],1)])])}),[],!1,null,null,null).exports},5579:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{user:{type:Object,required:!0}},data:function(){return{form:new window.Form({password:"",password_confirmation:""}),detailForm:new window.Form({name:"",username:""})}},created:function(){this.detailForm.populate(this.user)},methods:{showPasswordForm:function(){this.$bvModal.show("password-modal")},changePassword:function(){var t=this;this.form.password===this.form.password_confirmation?this.form.post("/profile/change-password").then((function(){t.$bvModal.hide("password-modal"),t.$toast.success("Password has been updated")})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.form.errors.record(e.response.data.errors):t.$toast.error(e.response.data)})):this.$toast.error("passwords do not match")},changeUsername:function(){var t=this;this.detailForm.post("/profile/change-username").then((function(){t.$bvModal.hide("detail-modal"),t.$toast.success("The changes have been saved"),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){e.response&&e.response.data&&e.response.data.errors?t.detailForm.errors.record(e.response.data.errors):t.$toast.error(e.response.data)}))}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-9"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v("\n            Account Info\n          ")]),t._v(" "),e("div",{staticClass:"card-actions"},[e("a",{attrs:{href:"#"},on:{click:t.showPasswordForm}},[t._v("\n              Change Password\n              "),e("i",{staticClass:"uil uil-edit"})])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("dl",{staticClass:"row"},[e("dt",{staticClass:"col-5"},[t._v("\n              Name:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t.user.name)+"\n            ")]),t._v(" "),e("dt",{staticClass:"col-5"},[t._v("\n              Username:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t.user.username)+" "),e("span",[e("a",{directives:[{name:"b-modal",rawName:"v-b-modal:detail-modal",arg:"detail-modal"}],staticClass:"ms-3",attrs:{href:"#"}},[e("i",{staticClass:"uil uil-edit"}),t._v(" change")])])]),t._v(" "),e("dt",{staticClass:"col-5"},[t._v("\n              Registered:\n            ")]),t._v(" "),e("dd",{staticClass:"col-7"},[t._v("\n              "+t._s(t._f("date_DAY_MONTH_YEAR")(t.user.created_at))+"\n            ")])])])])])]),t._v(" "),e("b-modal",{attrs:{id:"password-modal",title:"Change Password","no-close-on-backdrop":"","body-class":"rounded-3","footer-bg-variant":"light","hide-header-close":"","footer-class":"d-flex justify-content-end border-top"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn btn-light",attrs:{disabled:t.form.processing},on:{click:s}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-success me-2",attrs:{form:"form",type:"submit",disabled:t.form.processing}},[t._v("\n        "+t._s(t.form.processing?"Processing":"Submit")+"\n      ")])]}}])},[e("form",{attrs:{id:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.changePassword.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("New Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.form.hasError("password")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"password_confirmation"}},[t._v("Confirm Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",attrs:{id:"password_confirmation",name:"password_confirmation",type:"password"},domProps:{value:t.form.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.form,"password_confirmation",e.target.value)}}}),t._v(" "),t.form.hasError("password_confirmation")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("password_confirmation"))}}):t._e()])])]),t._v(" "),e("b-modal",{attrs:{id:"detail-modal",title:"Change Details","no-close-on-backdrop":"","body-class":"rounded-3","footer-bg-variant":"light","hide-header-close":"","footer-class":"d-flex justify-content-end border-top"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("button",{staticClass:"btn btn-light",attrs:{disabled:t.form.processing},on:{click:s}},[t._v("\n        Close\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-success me-2",attrs:{form:"detail-form",type:"submit",disabled:t.detailForm.processing}},[t._v("\n        "+t._s(t.detailForm.processing?"Processing":"Submit")+"\n      ")])]}}])},[e("form",{attrs:{id:"detail-form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.changeUsername.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.detailForm.name,expression:"detailForm.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text"},domProps:{value:t.detailForm.name},on:{input:function(e){e.target.composing||t.$set(t.detailForm,"name",e.target.value)}}}),t._v(" "),t.detailForm.hasError("text")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.detailForm.getError("text"))}}):t._e()]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.detailForm.username,expression:"detailForm.username"}],staticClass:"form-control",attrs:{id:"username",name:"username",type:"text"},domProps:{value:t.detailForm.username},on:{input:function(e){e.target.composing||t.$set(t.detailForm,"username",e.target.value)}}}),t._v(" "),t.detailForm.hasError("username")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.detailForm.getError("username"))}}):t._e()])])])],1)}),[],!1,null,null,null).exports},9137:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const i={props:["visits"],data:function(){return{form:new window.Form({year:(new Date).getFullYear()})}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.$httpClient.get("/reports/p10-form/generate",{responseType:"blob",params:o({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))}}};const l=(0,a(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                10P Form\n              ")])])])}],!1,null,null,null).exports},9088:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const m={props:["locations"],data:function(){return{form:new window.Form({location_id:"",to_csv:!0})}},mounted:function(){this.locations=[].concat(c(this.locations),[{id:0,name:"all"}])},methods:{generateReport:function(){var t=this;this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/employee-listing/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){t.form.processing=!1,t.form.errors.record(e.response.data.errors)}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/payroll-employees/generate",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a);console.log(a);var o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","employee_listing.csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(t){console.error("Error exporting CSV:",t)}))}}};const u=(0,a(1900).Z)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Department")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.locations,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.location_id,callback:function(e){t.$set(t.form,"location_id",e)},expression:"form.location_id"}}),t._v(" "),t.form.hasError("location_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("location_id"))}}):t._e()],1)])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Payroll Employees Report\n              ")])])])}],!1,null,null,null).exports},438:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({year:(new Date).getFullYear(),month:"",to_csv:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/nhif/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/nhif/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","NHIF-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Generate NHIF\n              ")])])])}],!1,null,null,null).exports},9913:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({year:(new Date).getFullYear(),to_csv:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/nssf/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/nssf/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","NSSF-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Generate NSSF\n              ")])])])}],!1,null,null,null).exports},7118:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({year:(new Date).getFullYear(),month:"",to_csv:!1}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/paye/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/paye/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","PAYE-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Generate PAYE\n              ")])])])}],!1,null,null,null).exports},6661:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({date:"",to_csv:""})}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/global-pay/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/global-pay/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","GLOBAL-PAYROLL-".concat(t.form.date,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{attrs:{for:"startDate"}},[t._v("Date")]),t._v(" "),e("date-picker",{attrs:{name:"date",formclass:"form-control bg-white",value:t.form.date,"max-date":!1},on:{"on-change":function(e,a){t.form.date=a}}})],1)])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Global Payroll Report\n                            ")])])])}],!1,null,null,null).exports},9920:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({year:(new Date).getFullYear(),month:"",to_csv:!1}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/housing_levy/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/housing_levy/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","HOUSING-LEVY-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,400===e.response.status&&t.$toast.error("No payment for the period selected"),console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                HOUSING LEVY\n                            ")])])])}],!1,null,null,null).exports},4276:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{allowances:{type:Array,default:function(){return[]}}},data:function(){return{form:new window.Form({to_csv:"",year:(new Date).getFullYear(),allowance_id:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/allowances/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/allowances/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Payroll-Allowances-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-10 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.allowances,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.allowance_id,callback:function(e){t.$set(t.form,"allowance_id",e)},expression:"form.allowance_id"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Allowances\n                            ")])])])}],!1,null,null,null).exports},7105:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{contributions:{type:Array,default:function(){return[]}}},data:function(){return{form:new window.Form({to_csv:"",year:(new Date).getFullYear(),contribution_id:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/contributions/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/contributions/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Contributions-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,400===e.response.status&&t.$toast.error("No payment for the period selected"),console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-10 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Contribution")]),t._v(" "),e("v-select",{attrs:{label:"name",options:t.contributions,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.contribution_id,callback:function(e){t.$set(t.form,"contribution_id",e)},expression:"form.contribution_id"}}),t._v(" "),t.form.hasError("contribution_id")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("contribution_id"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Contribution Reports\n                            ")])])])}],!1,null,null,null).exports},322:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{deductions:{type:Array,default:function(){return[]}}},data:function(){return{form:new window.Form({to_csv:"",year:(new Date).getFullYear(),deduction_id:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/deductions/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/deductions/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Deductions-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-10 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Deduction")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.deductions,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.deduction_id,callback:function(e){t.$set(t.form,"deduction_id",e)},expression:"form.deduction_id"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Deductions\n                            ")])])])}],!1,null,null,null).exports},6619:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{loantypes:{type:Array,default:function(){return[]}}},data:function(){return{form:new window.Form({to_csv:"",year:(new Date).getFullYear(),loan_type_id:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/loans/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/loans/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Loans-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-10 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Loan")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.loantypes,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.loan_type_id,callback:function(e){t.$set(t.form,"loan_type_id",e)},expression:"form.loan_type_id"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{id:"year",type:"number",name:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n            Generate\n          ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                Loans\n              ")])])])}],!1,null,null,null).exports},9649:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={props:{pensions:{type:Array,default:function(){return[]}}},data:function(){return{form:new window.Form({to_csv:"",year:(new Date).getFullYear(),pension_id:"",month:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/pensions/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.log(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.log(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/pensions/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","Payroll-Pensions-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-10 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Allowance")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.pensions,reduce:function(t){return t.id},clearable:!1},model:{value:t.form.pension_id,callback:function(e){t.$set(t.form,"pension_id",e)},expression:"form.pension_id"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-2"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Pensions\n                            ")])])])}],!1,null,null,null).exports},2003:(t,e,a)=>{"use strict";a.d(e,{Z:()=>d});var s=a(7460),r=a.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={data:function(){return{form:new window.Form({year:(new Date).getFullYear(),month:"",to_csv:""}),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{generateReport:function(){var t=this;this.form.processing=!0,this.form.to_csv?this.toCsv():this.$httpClient.get("/reports/shif/generate",{responseType:"blob",params:i({},this.form.data())}).then((function(e){var a=e.data;t.form.processing=!1;var s=URL.createObjectURL(new Blob([a],{type:"application/pdf"})),r=document.createElement("a");r.href=s,r.target="_blank",r.click()})).catch((function(e){if(e.response&&e.response.data&&e.response.data.error){var a=e.response.data.error;console.error(e.response.data),t.p9Form.errors.record(a)}else console.error("An unexpected error occurred."),console.error(e.response.status),400===e.response.status&&t.$toast.error("No payment for the period selected"),t.form.errors.record("An unexpected error occurred. Please try again later.");t.form.processing=!1}))},toCsv:function(){var t=this;this.$httpClient.get("/reports/shif/csv",{params:i({},this.form.data())}).then((function(e){var a=e.data,s=r().unparse(a),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download","SHIF-".concat(t.form.month,"-").concat(t.form.year,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),t.form.processing=!1})).catch((function(e){t.form.processing=!1,console.error("Error exporting CSV:",e)}))}}};const d=(0,a(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card card-stacked card-md mb-4"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to_csv,expression:"form.to_csv"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.to_csv)?t._i(t.form.to_csv,null)>-1:t.form.to_csv},on:{change:function(e){var a=t.form.to_csv,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(t.form,"to_csv",a.concat([null])):o>-1&&t.$set(t.form,"to_csv",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"to_csv",r)}}}),t._v(" "),e("span",{staticClass:"form-check-label"},[t._v("To CSV")])])]),t._v(" "),e("div",{staticClass:"row gx-4"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Month")]),t._v(" "),e("v-select",{attrs:{id:"scheme_id",label:"name",options:t.months,reduce:function(t){return t},clearable:!1},model:{value:t.form.month,callback:function(e){t.$set(t.form,"month",e)},expression:"form.month"}}),t._v(" "),t.form.hasError("month")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("month"))}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:""}},[t._v("Year")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year,expression:"form.year"}],staticClass:"form-control",attrs:{type:"number",name:"year",id:"year"},domProps:{value:t.form.year},on:{input:function(e){e.target.composing||t.$set(t.form,"year",e.target.value)}}}),t._v(" "),t.form.hasError("year")?e("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.form.getError("year"))}}):t._e()])])]),t._v(" "),e("button",{staticClass:"btn btn-primary mx-auto",attrs:{disabled:t.form.processing},on:{click:t.generateReport}},[t._v("\n                        Generate\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"mb-4"},[t("div",{staticClass:"text-start"},[t("h1",{staticClass:"fw-bolder"},[this._v("\n                                Generate SHIF\n                            ")])])])}],!1,null,null,null).exports},6448:(t,e,a)=>{var s={"./auth.js":9854};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id=6448},4654:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[170,898],(()=>(e(8275),e(9043))));t.O()}]);